function dM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function a0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cg={exports:{}},rc={};var Oj;function fM(){if(Oj)return rc;Oj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var u in s)u!=="key"&&(l[u]=s[u])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return rc.Fragment=t,rc.jsx=n,rc.jsxs=n,rc}var zj;function mM(){return zj||(zj=1,cg.exports=fM()),cg.exports}var a=mM(),ug={exports:{}},Je={};var Dj;function hM(){if(Dj)return Je;Dj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function b(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function k(I,q,ee){this.props=I,this.context=q,this.refs=N,this.updater=ee||v}k.prototype.isReactComponent={},k.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},k.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function T(){}T.prototype=k.prototype;function C(I,q,ee){this.props=I,this.context=q,this.refs=N,this.updater=ee||v}var A=C.prototype=new T;A.constructor=C,j(A,k.prototype),A.isPureReactComponent=!0;var M=Array.isArray;function D(){}var z={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function K(I,q,ee){var fe=ee.ref;return{$$typeof:e,type:I,key:q,ref:fe!==void 0?fe:null,props:ee}}function X(I,q){return K(I.type,q,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function _(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ee){return q[ee]})}var U=/\/+/g;function P(I,q){return typeof I=="object"&&I!==null&&I.key!=null?_(""+I.key):q.toString(36)}function G(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,q,ee,fe,we){var pe=typeof I;(pe==="undefined"||pe==="boolean")&&(I=null);var te=!1;if(I===null)te=!0;else switch(pe){case"bigint":case"string":case"number":te=!0;break;case"object":switch(I.$$typeof){case e:case t:te=!0;break;case p:return te=I._init,B(te(I._payload),q,ee,fe,we)}}if(te)return we=we(I),te=fe===""?"."+P(I,0):fe,M(we)?(ee="",te!=null&&(ee=te.replace(U,"$&/")+"/"),B(we,q,ee,"",function(_e){return _e})):we!=null&&(R(we)&&(we=X(we,ee+(we.key==null||I&&I.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+te)),q.push(we)),1;te=0;var $e=fe===""?".":fe+":";if(M(I))for(var me=0;me<I.length;me++)fe=I[me],pe=$e+P(fe,me),te+=B(fe,q,ee,pe,we);else if(me=b(I),typeof me=="function")for(I=me.call(I),me=0;!(fe=I.next()).done;)fe=fe.value,pe=$e+P(fe,me++),te+=B(fe,q,ee,pe,we);else if(pe==="object"){if(typeof I.then=="function")return B(G(I),q,ee,fe,we);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return te}function Y(I,q,ee){if(I==null)return I;var fe=[],we=0;return B(I,fe,"","",function(pe){return q.call(ee,pe,we++)}),fe}function V(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(ee){(I._status===0||I._status===-1)&&(I._status=1,I._result=ee)},function(ee){(I._status===0||I._status===-1)&&(I._status=2,I._result=ee)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var ve=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},he={map:Y,forEach:function(I,q,ee){Y(I,function(){q.apply(this,arguments)},ee)},count:function(I){var q=0;return Y(I,function(){q++}),q},toArray:function(I){return Y(I,function(q){return q})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Je.Activity=g,Je.Children=he,Je.Component=k,Je.Fragment=n,Je.Profiler=s,Je.PureComponent=C,Je.StrictMode=r,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Je.__COMPILER_RUNTIME={__proto__:null,c:function(I){return z.H.useMemoCache(I)}},Je.cache=function(I){return function(){return I.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(I,q,ee){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var fe=j({},I.props),we=I.key;if(q!=null)for(pe in q.key!==void 0&&(we=""+q.key),q)!L.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(fe[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)fe.children=ee;else if(1<pe){for(var te=Array(pe),$e=0;$e<pe;$e++)te[$e]=arguments[$e+2];fe.children=te}return K(I.type,we,fe)},Je.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Je.createElement=function(I,q,ee){var fe,we={},pe=null;if(q!=null)for(fe in q.key!==void 0&&(pe=""+q.key),q)L.call(q,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=q[fe]);var te=arguments.length-2;if(te===1)we.children=ee;else if(1<te){for(var $e=Array(te),me=0;me<te;me++)$e[me]=arguments[me+2];we.children=$e}if(I&&I.defaultProps)for(fe in te=I.defaultProps,te)we[fe]===void 0&&(we[fe]=te[fe]);return K(I,pe,we)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(I){return{$$typeof:u,render:I}},Je.isValidElement=R,Je.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:V}},Je.memo=function(I,q){return{$$typeof:m,type:I,compare:q===void 0?null:q}},Je.startTransition=function(I){var q=z.T,ee={};z.T=ee;try{var fe=I(),we=z.S;we!==null&&we(ee,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(D,ve)}catch(pe){ve(pe)}finally{q!==null&&ee.types!==null&&(q.types=ee.types),z.T=q}},Je.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Je.use=function(I){return z.H.use(I)},Je.useActionState=function(I,q,ee){return z.H.useActionState(I,q,ee)},Je.useCallback=function(I,q){return z.H.useCallback(I,q)},Je.useContext=function(I){return z.H.useContext(I)},Je.useDebugValue=function(){},Je.useDeferredValue=function(I,q){return z.H.useDeferredValue(I,q)},Je.useEffect=function(I,q){return z.H.useEffect(I,q)},Je.useEffectEvent=function(I){return z.H.useEffectEvent(I)},Je.useId=function(){return z.H.useId()},Je.useImperativeHandle=function(I,q,ee){return z.H.useImperativeHandle(I,q,ee)},Je.useInsertionEffect=function(I,q){return z.H.useInsertionEffect(I,q)},Je.useLayoutEffect=function(I,q){return z.H.useLayoutEffect(I,q)},Je.useMemo=function(I,q){return z.H.useMemo(I,q)},Je.useOptimistic=function(I,q){return z.H.useOptimistic(I,q)},Je.useReducer=function(I,q,ee){return z.H.useReducer(I,q,ee)},Je.useRef=function(I){return z.H.useRef(I)},Je.useState=function(I){return z.H.useState(I)},Je.useSyncExternalStore=function(I,q,ee){return z.H.useSyncExternalStore(I,q,ee)},Je.useTransition=function(){return z.H.useTransition()},Je.version="19.2.0",Je}var Ij;function tu(){return Ij||(Ij=1,ug.exports=hM()),ug.exports}var S=tu();const qt=a0(S),_j=dM({__proto__:null,default:qt},[S]);var dg={exports:{}},sc={},fg={exports:{}},mg={};var Rj;function pM(){return Rj||(Rj=1,(function(e){function t(B,Y){var V=B.length;B.push(Y);e:for(;0<V;){var ve=V-1>>>1,he=B[ve];if(0<s(he,Y))B[ve]=Y,B[V]=he,V=ve;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],V=B.pop();if(V!==Y){B[0]=V;e:for(var ve=0,he=B.length,I=he>>>1;ve<I;){var q=2*(ve+1)-1,ee=B[q],fe=q+1,we=B[fe];if(0>s(ee,V))fe<he&&0>s(we,ee)?(B[ve]=we,B[fe]=V,ve=fe):(B[ve]=ee,B[q]=V,ve=q);else if(fe<he&&0>s(we,V))B[ve]=we,B[fe]=V,ve=fe;else break e}}return Y}function s(B,Y){var V=B.sortIndex-Y.sortIndex;return V!==0?V:B.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],m=[],p=1,g=null,x=3,b=!1,v=!1,j=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var Y=n(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=B)r(m),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(m)}}function M(B){if(j=!1,A(B),!v)if(n(d)!==null)v=!0,D||(D=!0,_());else{var Y=n(m);Y!==null&&G(M,Y.startTime-B)}}var D=!1,z=-1,L=5,K=-1;function X(){return N?!0:!(e.unstable_now()-K<L)}function R(){if(N=!1,D){var B=e.unstable_now();K=B;var Y=!0;try{e:{v=!1,j&&(j=!1,T(z),z=-1),b=!0;var V=x;try{t:{for(A(B),g=n(d);g!==null&&!(g.expirationTime>B&&X());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,x=g.priorityLevel;var he=ve(g.expirationTime<=B);if(B=e.unstable_now(),typeof he=="function"){g.callback=he,A(B),Y=!0;break t}g===n(d)&&r(d),A(B)}else r(d);g=n(d)}if(g!==null)Y=!0;else{var I=n(m);I!==null&&G(M,I.startTime-B),Y=!1}}break e}finally{g=null,x=V,b=!1}Y=void 0}}finally{Y?_():D=!1}}}var _;if(typeof C=="function")_=function(){C(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,P=U.port2;U.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){k(R,0)};function G(B,Y){z=k(function(){B(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var V=x;x=Y;try{return B()}finally{x=V}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=x;x=B;try{return Y()}finally{x=V}},e.unstable_scheduleCallback=function(B,Y,V){var ve=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ve+V:ve):V=ve,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=V+he,B={id:p++,callback:Y,priorityLevel:B,startTime:V,expirationTime:he,sortIndex:-1},V>ve?(B.sortIndex=V,t(m,B),n(d)===null&&B===n(m)&&(j?(T(z),z=-1):j=!0,G(M,V-ve))):(B.sortIndex=he,t(d,B),v||b||(v=!0,D||(D=!0,_()))),B},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(B){var Y=x;return function(){var V=x;x=Y;try{return B.apply(this,arguments)}finally{x=V}}}})(mg)),mg}var Lj;function gM(){return Lj||(Lj=1,fg.exports=pM()),fg.exports}var hg={exports:{}},Ln={};var Uj;function xM(){if(Uj)return Ln;Uj=1;var e=tu();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:m,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ln.createPortal=function(d,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(d,m,null,p)},Ln.flushSync=function(d){var m=c.T,p=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=p,r.d.f()}},Ln.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},Ln.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ln.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ln.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},Ln.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ln.preloadModule=function(d,m){if(typeof d=="string")if(m){var p=u(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},Ln.requestFormReset=function(d){r.d.r(d)},Ln.unstable_batchedUpdates=function(d,m){return d(m)},Ln.useFormState=function(d,m,p){return c.H.useFormState(d,m,p)},Ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ln.version="19.2.0",Ln}var Pj;function Z2(){if(Pj)return hg.exports;Pj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hg.exports=xM(),hg.exports}var Bj;function bM(){if(Bj)return sc;Bj=1;var e=gM(),t=tu(),n=Z2();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,f=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(f=o.return),i=o.return;while(i)}return o.tag===3?f:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var f=i,h=o;;){var y=f.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){f=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===f)return d(y),i;if(w===h)return d(y),o;w=w.sibling}throw Error(r(188))}if(f.return!==h.return)f=y,h=w;else{for(var E=!1,O=y.child;O;){if(O===f){E=!0,f=y,h=w;break}if(O===h){E=!0,h=y,f=w;break}O=O.sibling}if(!E){for(O=w.child;O;){if(O===f){E=!0,f=w,h=y;break}if(O===h){E=!0,h=w,f=y;break}O=O.sibling}if(!E)throw Error(r(189))}}if(f.alternate!==h)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function _(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function P(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case K:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case C:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case A:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return o=i.displayName||null,o!==null?o:P(i.type)||"Memo";case L:o=i._payload,i=i._init;try{return P(i(o))}catch{}}return null}var G=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ve=[],he=-1;function I(i){return{current:i}}function q(i){0>he||(i.current=ve[he],ve[he]=null,he--)}function ee(i,o){he++,ve[he]=i.current,i.current=o}var fe=I(null),we=I(null),pe=I(null),te=I(null);function $e(i,o){switch(ee(pe,o),ee(we,i),ee(fe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?ej(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=ej(o),i=tj(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(fe),ee(fe,i)}function me(){q(fe),q(we),q(pe)}function _e(i){i.memoizedState!==null&&ee(te,i);var o=fe.current,f=tj(o,i.type);o!==f&&(ee(we,i),ee(fe,f))}function Ke(i){we.current===i&&(q(fe),q(we)),te.current===i&&(q(te),Xo._currentValue=V)}var ot,mr;function mn(i){if(ot===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);ot=o&&o[1]||"",mr=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+mr}var ge=!1;function He(i,o){if(!i||ge)return"";ge=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var ne=se}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(se){ne=se}i.call(ue.prototype)}}else{try{throw Error()}catch(se){ne=se}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),E=w[0],O=w[1];if(E&&O){var $=E.split(`
`),Q=O.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===Q.length)for(h=$.length-1,y=Q.length-1;1<=h&&0<=y&&$[h]!==Q[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==Q[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==Q[y]){var le=`
`+$[h].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=h&&0<=y);break}}}finally{ge=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?mn(f):""}function gt(i,o){switch(i.tag){case 26:case 27:case 5:return mn(i.type);case 16:return mn("Lazy");case 13:return i.child!==o&&o!==null?mn("Suspense Fallback"):mn("Suspense");case 19:return mn("SuspenseList");case 0:case 15:return He(i.type,!1);case 11:return He(i.type.render,!1);case 1:return He(i.type,!0);case 31:return mn("Activity");default:return""}}function kn(i){try{var o="",f=null;do o+=gt(i,f),f=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Yn=Object.prototype.hasOwnProperty,F=e.unstable_scheduleCallback,J=e.unstable_cancelCallback,ie=e.unstable_shouldYield,Ne=e.unstable_requestPaint,ye=e.unstable_now,je=e.unstable_getCurrentPriorityLevel,Ie=e.unstable_ImmediatePriority,ct=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,Qn=e.unstable_LowPriority,Xa=e.unstable_IdlePriority,ns=e.log,Jm=e.unstable_setDisableYieldValue,vs=null,Sn=null;function rs(i){if(typeof ns=="function"&&Jm(i),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(vs,i)}catch{}}var Rn=Math.clz32?Math.clz32:YT,Wm=Math.log,mu=Math.LN2;function YT(i){return i>>>=0,i===0?32:31-(Wm(i)/mu|0)|0}var hu=256,pu=262144,gu=4194304;function ei(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xu(i,o,f){var h=i.pendingLanes;if(h===0)return 0;var y=0,w=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var O=h&134217727;return O!==0?(h=O&~w,h!==0?y=ei(h):(E&=O,E!==0?y=ei(E):f||(f=O&~i,f!==0&&(y=ei(f))))):(O=h&~w,O!==0?y=ei(O):E!==0?y=ei(E):f||(f=h&~i,f!==0&&(y=ei(f)))),y===0?0:o!==0&&o!==y&&(o&w)===0&&(w=y&-y,f=o&-o,w>=f||w===32&&(f&4194048)!==0)?o:y}function fo(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function QT(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _b(){var i=gu;return gu<<=1,(gu&62914560)===0&&(gu=4194304),i}function Ym(i){for(var o=[],f=0;31>f;f++)o.push(i);return o}function mo(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function XT(i,o,f,h,y,w){var E=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var O=i.entanglements,$=i.expirationTimes,Q=i.hiddenUpdates;for(f=E&~f;0<f;){var le=31-Rn(f),ue=1<<le;O[le]=0,$[le]=-1;var ne=Q[le];if(ne!==null)for(Q[le]=null,le=0;le<ne.length;le++){var se=ne[le];se!==null&&(se.lane&=-536870913)}f&=~ue}h!==0&&Rb(i,h,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(E&~o))}function Rb(i,o,f){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-Rn(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|f&261930}function Lb(i,o){var f=i.entangledLanes|=o;for(i=i.entanglements;f;){var h=31-Rn(f),y=1<<h;y&o|i[h]&o&&(i[h]|=o),f&=~y}}function Ub(i,o){var f=o&-o;return f=(f&42)!==0?1:Qm(f),(f&(i.suspendedLanes|o))!==0?0:f}function Qm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pb(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:kj(i.type))}function Bb(i,o){var f=Y.p;try{return Y.p=i,o()}finally{Y.p=f}}var sa=Math.random().toString(36).slice(2),En="__reactFiber$"+sa,Xn="__reactProps$"+sa,qi="__reactContainer$"+sa,eh="__reactEvents$"+sa,eA="__reactListeners$"+sa,tA="__reactHandles$"+sa,$b="__reactResources$"+sa,ho="__reactMarker$"+sa;function th(i){delete i[En],delete i[Xn],delete i[eh],delete i[eA],delete i[tA]}function Gi(i){var o=i[En];if(o)return o;for(var f=i.parentNode;f;){if(o=f[qi]||f[En]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(i=oj(i);i!==null;){if(f=i[En])return f;i=oj(i)}return o}i=f,f=i.parentNode}return null}function Ki(i){if(i=i[En]||i[qi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function po(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Zi(i){var o=i[$b];return o||(o=i[$b]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xn(i){i[ho]=!0}var Fb=new Set,Vb={};function ti(i,o){Ji(i,o),Ji(i+"Capture",o)}function Ji(i,o){for(Vb[i]=o,i=0;i<o.length;i++)Fb.add(o[i])}var nA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hb={},qb={};function rA(i){return Yn.call(qb,i)?!0:Yn.call(Hb,i)?!1:nA.test(i)?qb[i]=!0:(Hb[i]=!0,!1)}function bu(i,o,f){if(rA(o))if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+f)}}function yu(i,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+f)}}function js(i,o,f,h){if(h===null)i.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(o,f,""+h)}}function Cr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gb(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function sA(i,o,f){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(E){f=""+E,w.call(this,E)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function nh(i){if(!i._valueTracker){var o=Gb(i)?"checked":"value";i._valueTracker=sA(i,o,""+i[o])}}function Kb(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var f=o.getValue(),h="";return i&&(h=Gb(i)?i.checked?"true":"false":i.value),i=h,i!==f?(o.setValue(i),!0):!1}function vu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var aA=/[\n"\\]/g;function Tr(i){return i.replace(aA,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function rh(i,o,f,h,y,w,E,O){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),o!=null?E==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Cr(o)):i.value!==""+Cr(o)&&(i.value=""+Cr(o)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),o!=null?sh(i,E,Cr(o)):f!=null?sh(i,E,Cr(f)):h!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Cr(O):i.removeAttribute("name")}function Zb(i,o,f,h,y,w,E,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){nh(i);return}f=f!=null?""+Cr(f):"",o=o!=null?""+Cr(o):f,O||o===i.value||(i.value=o),i.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=O?i.checked:!!h,i.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),nh(i)}function sh(i,o,f){o==="number"&&vu(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function Wi(i,o,f,h){if(i=i.options,o){o={};for(var y=0;y<f.length;y++)o["$"+f[y]]=!0;for(f=0;f<i.length;f++)y=o.hasOwnProperty("$"+i[f].value),i[f].selected!==y&&(i[f].selected=y),y&&h&&(i[f].defaultSelected=!0)}else{for(f=""+Cr(f),o=null,y=0;y<i.length;y++){if(i[y].value===f){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function Jb(i,o,f){if(o!=null&&(o=""+Cr(o),o!==i.value&&(i.value=o),f==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=f!=null?""+Cr(f):""}function Wb(i,o,f,h){if(o==null){if(h!=null){if(f!=null)throw Error(r(92));if(G(h)){if(1<h.length)throw Error(r(93));h=h[0]}f=h}f==null&&(f=""),o=f}f=Cr(o),i.defaultValue=f,h=i.textContent,h===f&&h!==""&&h!==null&&(i.value=h),nh(i)}function Yi(i,o){if(o){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=o;return}}i.textContent=o}var iA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yb(i,o,f){var h=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,f):typeof f!="number"||f===0||iA.has(o)?o==="float"?i.cssFloat=f:i[o]=(""+f).trim():i[o]=f+"px"}function Qb(i,o,f){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,f!=null){for(var h in f)!f.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&f[y]!==h&&Yb(i,y,h)}else for(var w in o)o.hasOwnProperty(w)&&Yb(i,w,o[w])}function ah(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ju(i){return oA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ws(){}var ih=null;function lh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qi=null,Xi=null;function Xb(i){var o=Ki(i);if(o&&(i=o.stateNode)){var f=i[Xn]||null;e:switch(i=o.stateNode,o.type){case"input":if(rh(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Tr(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var h=f[o];if(h!==i&&h.form===i.form){var y=h[Xn]||null;if(!y)throw Error(r(90));rh(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<f.length;o++)h=f[o],h.form===i.form&&Kb(h)}break e;case"textarea":Jb(i,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&Wi(i,!!f.multiple,o,!1)}}}var oh=!1;function ey(i,o,f){if(oh)return i(o,f);oh=!0;try{var h=i(o);return h}finally{if(oh=!1,(Qi!==null||Xi!==null)&&(od(),Qi&&(o=Qi,i=Xi,Xi=Qi=null,Xb(o),i)))for(o=0;o<i.length;o++)Xb(i[o])}}function go(i,o){var f=i.stateNode;if(f===null)return null;var h=f[Xn]||null;if(h===null)return null;f=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ch=!1;if(Ns)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){ch=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{ch=!1}var aa=null,uh=null,wu=null;function ty(){if(wu)return wu;var i,o=uh,f=o.length,h,y="value"in aa?aa.value:aa.textContent,w=y.length;for(i=0;i<f&&o[i]===y[i];i++);var E=f-i;for(h=1;h<=E&&o[f-h]===y[w-h];h++);return wu=y.slice(i,1<h?1-h:void 0)}function Nu(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ku(){return!0}function ny(){return!1}function er(i){function o(f,h,y,w,E){this._reactName=f,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(f=i[O],this[O]=f?f(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ku:ny,this.isPropagationStopped=ny,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),o}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=er(ni),bo=g({},ni,{view:0,detail:0}),cA=er(bo),dh,fh,yo,Eu=g({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yo&&(yo&&i.type==="mousemove"?(dh=i.screenX-yo.screenX,fh=i.screenY-yo.screenY):fh=dh=0,yo=i),dh)},movementY:function(i){return"movementY"in i?i.movementY:fh}}),ry=er(Eu),uA=g({},Eu,{dataTransfer:0}),dA=er(uA),fA=g({},bo,{relatedTarget:0}),mh=er(fA),mA=g({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),hA=er(mA),pA=g({},ni,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),gA=er(pA),xA=g({},ni,{data:0}),sy=er(xA),bA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jA(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=vA[i])?!!o[i]:!1}function hh(){return jA}var wA=g({},bo,{key:function(i){if(i.key){var o=bA[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Nu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(i){return i.type==="keypress"?Nu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),NA=er(wA),kA=g({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=er(kA),SA=g({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),EA=er(SA),CA=g({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),TA=er(CA),AA=g({},Eu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),MA=er(AA),OA=g({},ni,{newState:0,oldState:0}),zA=er(OA),DA=[9,13,27,32],ph=Ns&&"CompositionEvent"in window,vo=null;Ns&&"documentMode"in document&&(vo=document.documentMode);var IA=Ns&&"TextEvent"in window&&!vo,iy=Ns&&(!ph||vo&&8<vo&&11>=vo),ly=" ",oy=!1;function cy(i,o){switch(i){case"keyup":return DA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var el=!1;function _A(i,o){switch(i){case"compositionend":return uy(o);case"keypress":return o.which!==32?null:(oy=!0,ly);case"textInput":return i=o.data,i===ly&&oy?null:i;default:return null}}function RA(i,o){if(el)return i==="compositionend"||!ph&&cy(i,o)?(i=ty(),wu=uh=aa=null,el=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return iy&&o.locale!=="ko"?null:o.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!LA[i.type]:o==="textarea"}function fy(i,o,f,h){Qi?Xi?Xi.push(h):Xi=[h]:Qi=h,o=pd(o,"onChange"),0<o.length&&(f=new Su("onChange","change",null,f,h),i.push({event:f,listeners:o}))}var jo=null,wo=null;function UA(i){Z1(i,0)}function Cu(i){var o=po(i);if(Kb(o))return i}function my(i,o){if(i==="change")return o}var hy=!1;if(Ns){var gh;if(Ns){var xh="oninput"in document;if(!xh){var py=document.createElement("div");py.setAttribute("oninput","return;"),xh=typeof py.oninput=="function"}gh=xh}else gh=!1;hy=gh&&(!document.documentMode||9<document.documentMode)}function gy(){jo&&(jo.detachEvent("onpropertychange",xy),wo=jo=null)}function xy(i){if(i.propertyName==="value"&&Cu(wo)){var o=[];fy(o,wo,i,lh(i)),ey(UA,o)}}function PA(i,o,f){i==="focusin"?(gy(),jo=o,wo=f,jo.attachEvent("onpropertychange",xy)):i==="focusout"&&gy()}function BA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cu(wo)}function $A(i,o){if(i==="click")return Cu(o)}function FA(i,o){if(i==="input"||i==="change")return Cu(o)}function VA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var hr=typeof Object.is=="function"?Object.is:VA;function No(i,o){if(hr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var f=Object.keys(i),h=Object.keys(o);if(f.length!==h.length)return!1;for(h=0;h<f.length;h++){var y=f[h];if(!Yn.call(o,y)||!hr(i[y],o[y]))return!1}return!0}function by(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yy(i,o){var f=by(i);i=0;for(var h;f;){if(f.nodeType===3){if(h=i+f.textContent.length,i<=o&&h>=o)return{node:f,offset:o-i};i=h}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=by(f)}}function vy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function jy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=vu(i.document);o instanceof i.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)i=o.contentWindow;else break;o=vu(i.document)}return o}function bh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var HA=Ns&&"documentMode"in document&&11>=document.documentMode,tl=null,yh=null,ko=null,vh=!1;function wy(i,o,f){var h=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;vh||tl==null||tl!==vu(h)||(h=tl,"selectionStart"in h&&bh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ko&&No(ko,h)||(ko=h,h=pd(yh,"onSelect"),0<h.length&&(o=new Su("onSelect","select",null,o,f),i.push({event:o,listeners:h}),o.target=tl)))}function ri(i,o){var f={};return f[i.toLowerCase()]=o.toLowerCase(),f["Webkit"+i]="webkit"+o,f["Moz"+i]="moz"+o,f}var nl={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},jh={},Ny={};Ns&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function si(i){if(jh[i])return jh[i];if(!nl[i])return i;var o=nl[i],f;for(f in o)if(o.hasOwnProperty(f)&&f in Ny)return jh[i]=o[f];return i}var ky=si("animationend"),Sy=si("animationiteration"),Ey=si("animationstart"),qA=si("transitionrun"),GA=si("transitionstart"),KA=si("transitioncancel"),Cy=si("transitionend"),Ty=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function qr(i,o){Ty.set(i,o),ti(o,[i])}var Tu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ar=[],rl=0,Nh=0;function Au(){for(var i=rl,o=Nh=rl=0;o<i;){var f=Ar[o];Ar[o++]=null;var h=Ar[o];Ar[o++]=null;var y=Ar[o];Ar[o++]=null;var w=Ar[o];if(Ar[o++]=null,h!==null&&y!==null){var E=h.pending;E===null?y.next=y:(y.next=E.next,E.next=y),h.pending=y}w!==0&&Ay(f,y,w)}}function Mu(i,o,f,h){Ar[rl++]=i,Ar[rl++]=o,Ar[rl++]=f,Ar[rl++]=h,Nh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function kh(i,o,f,h){return Mu(i,o,f,h),Ou(i)}function ai(i,o){return Mu(i,null,null,o),Ou(i)}function Ay(i,o,f){i.lanes|=f;var h=i.alternate;h!==null&&(h.lanes|=f);for(var y=!1,w=i.return;w!==null;)w.childLanes|=f,h=w.alternate,h!==null&&(h.childLanes|=f),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&o!==null&&(y=31-Rn(f),i=w.hiddenUpdates,h=i[y],h===null?i[y]=[o]:h.push(o),o.lane=f|536870912),w):null}function Ou(i){if(50<Go)throw Go=0,Dp=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var sl={};function ZA(i,o,f,h){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(i,o,f,h){return new ZA(i,o,f,h)}function Sh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ks(i,o){var f=i.alternate;return f===null?(f=pr(i.tag,o,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=o,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,o=i.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function My(i,o){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,o=f.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function zu(i,o,f,h,y,w){var E=0;if(h=i,typeof i=="function")Sh(i)&&(E=1);else if(typeof i=="string")E=X4(i,f,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case K:return i=pr(31,f,o,y),i.elementType=K,i.lanes=w,i;case j:return ii(f.children,y,w,o);case N:E=8,y|=24;break;case k:return i=pr(12,f,o,y|2),i.elementType=k,i.lanes=w,i;case M:return i=pr(13,f,o,y),i.elementType=M,i.lanes=w,i;case D:return i=pr(19,f,o,y),i.elementType=D,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:E=10;break e;case T:E=9;break e;case A:E=11;break e;case z:E=14;break e;case L:E=16,h=null;break e}E=29,f=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=pr(E,f,o,y),o.elementType=i,o.type=h,o.lanes=w,o}function ii(i,o,f,h){return i=pr(7,i,h,o),i.lanes=f,i}function Eh(i,o,f){return i=pr(6,i,null,o),i.lanes=f,i}function Oy(i){var o=pr(18,null,null,0);return o.stateNode=i,o}function Ch(i,o,f){return o=pr(4,i.children!==null?i.children:[],i.key,o),o.lanes=f,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var zy=new WeakMap;function Mr(i,o){if(typeof i=="object"&&i!==null){var f=zy.get(i);return f!==void 0?f:(o={value:i,source:o,stack:kn(o)},zy.set(i,o),o)}return{value:i,source:o,stack:kn(o)}}var al=[],il=0,Du=null,So=0,Or=[],zr=0,ia=null,ss=1,as="";function Ss(i,o){al[il++]=So,al[il++]=Du,Du=i,So=o}function Dy(i,o,f){Or[zr++]=ss,Or[zr++]=as,Or[zr++]=ia,ia=i;var h=ss;i=as;var y=32-Rn(h)-1;h&=~(1<<y),f+=1;var w=32-Rn(o)+y;if(30<w){var E=y-y%5;w=(h&(1<<E)-1).toString(32),h>>=E,y-=E,ss=1<<32-Rn(o)+y|f<<y|h,as=w+i}else ss=1<<w|f<<y|h,as=i}function Th(i){i.return!==null&&(Ss(i,1),Dy(i,1,0))}function Ah(i){for(;i===Du;)Du=al[--il],al[il]=null,So=al[--il],al[il]=null;for(;i===ia;)ia=Or[--zr],Or[zr]=null,as=Or[--zr],Or[zr]=null,ss=Or[--zr],Or[zr]=null}function Iy(i,o){Or[zr++]=ss,Or[zr++]=as,Or[zr++]=ia,ss=o.id,as=o.overflow,ia=i}var Cn=null,Ot=null,it=!1,la=null,Dr=!1,Mh=Error(r(519));function oa(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(Mr(o,i)),Mh}function _y(i){var o=i.stateNode,f=i.type,h=i.memoizedProps;switch(o[En]=i,o[Xn]=h,f){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(f=0;f<Zo.length;f++)rt(Zo[f],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),Zb(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),Wb(o,h.value,h.defaultValue,h.children)}f=h.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||h.suppressHydrationWarning===!0||Q1(o.textContent,f)?(h.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),h.onScroll!=null&&rt("scroll",o),h.onScrollEnd!=null&&rt("scrollend",o),h.onClick!=null&&(o.onclick=ws),o=!0):o=!1,o||oa(i,!0)}function Ry(i){for(Cn=i.return;Cn;)switch(Cn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Cn=Cn.return}}function ll(i){if(i!==Cn)return!1;if(!it)return Ry(i),it=!0,!1;var o=i.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||Zp(i.type,i.memoizedProps)),f=!f),f&&Ot&&oa(i),Ry(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ot=lj(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ot=lj(i)}else o===27?(o=Ot,wa(i.type)?(i=Xp,Xp=null,Ot=i):Ot=o):Ot=Cn?_r(i.stateNode.nextSibling):null;return!0}function li(){Ot=Cn=null,it=!1}function Oh(){var i=la;return i!==null&&(sr===null?sr=i:sr.push.apply(sr,i),la=null),i}function Eo(i){la===null?la=[i]:la.push(i)}var zh=I(null),oi=null,Es=null;function ca(i,o,f){ee(zh,o._currentValue),o._currentValue=f}function Cs(i){i._currentValue=zh.current,q(zh)}function Dh(i,o,f){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===f)break;i=i.return}}function Ih(i,o,f,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var E=y.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=y;for(var $=0;$<o.length;$++)if(O.context===o[$]){w.lanes|=f,O=w.alternate,O!==null&&(O.lanes|=f),Dh(w.return,f,i),h||(E=null);break e}w=O.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(r(341));E.lanes|=f,w=E.alternate,w!==null&&(w.lanes|=f),Dh(E,f,i),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function ol(i,o,f,h){i=null;for(var y=o,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var O=y.type;hr(y.pendingProps.value,E.value)||(i!==null?i.push(O):i=[O])}}else if(y===te.current){if(E=y.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Xo):i=[Xo])}y=y.return}i!==null&&Ih(o,i,f,h),o.flags|=262144}function Iu(i){for(i=i.firstContext;i!==null;){if(!hr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ci(i){oi=i,Es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tn(i){return Ly(oi,i)}function _u(i,o){return oi===null&&ci(i),Ly(i,o)}function Ly(i,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Es===null){if(i===null)throw Error(r(308));Es=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Es=Es.next=o;return f}var JA=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(f,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(f){return f()})}},WA=e.unstable_scheduleCallback,YA=e.unstable_NormalPriority,rn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new JA,data:new Map,refCount:0}}function Co(i){i.refCount--,i.refCount===0&&WA(YA,function(){i.controller.abort()})}var To=null,Rh=0,cl=0,ul=null;function QA(i,o){if(To===null){var f=To=[];Rh=0,cl=Pp(),ul={status:"pending",value:void 0,then:function(h){f.push(h)}}}return Rh++,o.then(Uy,Uy),o}function Uy(){if(--Rh===0&&To!==null){ul!==null&&(ul.status="fulfilled");var i=To;To=null,cl=0,ul=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function XA(i,o){var f=[],h={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<f.length;y++)(0,f[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),h}var Py=B.S;B.S=function(i,o){w1=ye(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&QA(i,o),Py!==null&&Py(i,o)};var ui=I(null);function Lh(){var i=ui.current;return i!==null?i:Ct.pooledCache}function Ru(i,o){o===null?ee(ui,ui.current):ee(ui,o.pool)}function By(){var i=Lh();return i===null?null:{parent:rn._currentValue,pool:i}}var dl=Error(r(460)),Uh=Error(r(474)),Lu=Error(r(542)),Uu={then:function(){}};function $y(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fy(i,o,f){switch(f=i[f],f===void 0?i.push(o):f!==o&&(o.then(ws,ws),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Hy(i),i;default:if(typeof o.status=="string")o.then(ws,ws);else{if(i=Ct,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Hy(i),i}throw fi=o,dl}}function di(i){try{var o=i._init;return o(i._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(fi=f,dl):f}}var fi=null;function Vy(){if(fi===null)throw Error(r(459));var i=fi;return fi=null,i}function Hy(i){if(i===dl||i===Lu)throw Error(r(483))}var fl=null,Ao=0;function Pu(i){var o=Ao;return Ao+=1,fl===null&&(fl=[]),Fy(fl,i,o)}function Mo(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Bu(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function qy(i){function o(Z,H){if(i){var W=Z.deletions;W===null?(Z.deletions=[H],Z.flags|=16):W.push(H)}}function f(Z,H){if(!i)return null;for(;H!==null;)o(Z,H),H=H.sibling;return null}function h(Z){for(var H=new Map;Z!==null;)Z.key!==null?H.set(Z.key,Z):H.set(Z.index,Z),Z=Z.sibling;return H}function y(Z,H){return Z=ks(Z,H),Z.index=0,Z.sibling=null,Z}function w(Z,H,W){return Z.index=W,i?(W=Z.alternate,W!==null?(W=W.index,W<H?(Z.flags|=67108866,H):W):(Z.flags|=67108866,H)):(Z.flags|=1048576,H)}function E(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function O(Z,H,W,ce){return H===null||H.tag!==6?(H=Eh(W,Z.mode,ce),H.return=Z,H):(H=y(H,W),H.return=Z,H)}function $(Z,H,W,ce){var Re=W.type;return Re===j?le(Z,H,W.props.children,ce,W.key):H!==null&&(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===L&&di(Re)===H.type)?(H=y(H,W.props),Mo(H,W),H.return=Z,H):(H=zu(W.type,W.key,W.props,null,Z.mode,ce),Mo(H,W),H.return=Z,H)}function Q(Z,H,W,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Ch(W,Z.mode,ce),H.return=Z,H):(H=y(H,W.children||[]),H.return=Z,H)}function le(Z,H,W,ce,Re){return H===null||H.tag!==7?(H=ii(W,Z.mode,ce,Re),H.return=Z,H):(H=y(H,W),H.return=Z,H)}function ue(Z,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Eh(""+H,Z.mode,W),H.return=Z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return W=zu(H.type,H.key,H.props,null,Z.mode,W),Mo(W,H),W.return=Z,W;case v:return H=Ch(H,Z.mode,W),H.return=Z,H;case L:return H=di(H),ue(Z,H,W)}if(G(H)||_(H))return H=ii(H,Z.mode,W,null),H.return=Z,H;if(typeof H.then=="function")return ue(Z,Pu(H),W);if(H.$$typeof===C)return ue(Z,_u(Z,H),W);Bu(Z,H)}return null}function ne(Z,H,W,ce){var Re=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:O(Z,H,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===Re?$(Z,H,W,ce):null;case v:return W.key===Re?Q(Z,H,W,ce):null;case L:return W=di(W),ne(Z,H,W,ce)}if(G(W)||_(W))return Re!==null?null:le(Z,H,W,ce,null);if(typeof W.then=="function")return ne(Z,H,Pu(W),ce);if(W.$$typeof===C)return ne(Z,H,_u(Z,W),ce);Bu(Z,W)}return null}function se(Z,H,W,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Z=Z.get(W)||null,O(H,Z,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return Z=Z.get(ce.key===null?W:ce.key)||null,$(H,Z,ce,Re);case v:return Z=Z.get(ce.key===null?W:ce.key)||null,Q(H,Z,ce,Re);case L:return ce=di(ce),se(Z,H,W,ce,Re)}if(G(ce)||_(ce))return Z=Z.get(W)||null,le(H,Z,ce,Re,null);if(typeof ce.then=="function")return se(Z,H,W,Pu(ce),Re);if(ce.$$typeof===C)return se(Z,H,W,_u(H,ce),Re);Bu(H,ce)}return null}function Se(Z,H,W,ce){for(var Re=null,ut=null,ze=H,Ye=H=0,at=null;ze!==null&&Ye<W.length;Ye++){ze.index>Ye?(at=ze,ze=null):at=ze.sibling;var dt=ne(Z,ze,W[Ye],ce);if(dt===null){ze===null&&(ze=at);break}i&&ze&&dt.alternate===null&&o(Z,ze),H=w(dt,H,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt,ze=at}if(Ye===W.length)return f(Z,ze),it&&Ss(Z,Ye),Re;if(ze===null){for(;Ye<W.length;Ye++)ze=ue(Z,W[Ye],ce),ze!==null&&(H=w(ze,H,Ye),ut===null?Re=ze:ut.sibling=ze,ut=ze);return it&&Ss(Z,Ye),Re}for(ze=h(ze);Ye<W.length;Ye++)at=se(ze,Z,Ye,W[Ye],ce),at!==null&&(i&&at.alternate!==null&&ze.delete(at.key===null?Ye:at.key),H=w(at,H,Ye),ut===null?Re=at:ut.sibling=at,ut=at);return i&&ze.forEach(function(Ca){return o(Z,Ca)}),it&&Ss(Z,Ye),Re}function Ve(Z,H,W,ce){if(W==null)throw Error(r(151));for(var Re=null,ut=null,ze=H,Ye=H=0,at=null,dt=W.next();ze!==null&&!dt.done;Ye++,dt=W.next()){ze.index>Ye?(at=ze,ze=null):at=ze.sibling;var Ca=ne(Z,ze,dt.value,ce);if(Ca===null){ze===null&&(ze=at);break}i&&ze&&Ca.alternate===null&&o(Z,ze),H=w(Ca,H,Ye),ut===null?Re=Ca:ut.sibling=Ca,ut=Ca,ze=at}if(dt.done)return f(Z,ze),it&&Ss(Z,Ye),Re;if(ze===null){for(;!dt.done;Ye++,dt=W.next())dt=ue(Z,dt.value,ce),dt!==null&&(H=w(dt,H,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt);return it&&Ss(Z,Ye),Re}for(ze=h(ze);!dt.done;Ye++,dt=W.next())dt=se(ze,Z,Ye,dt.value,ce),dt!==null&&(i&&dt.alternate!==null&&ze.delete(dt.key===null?Ye:dt.key),H=w(dt,H,Ye),ut===null?Re=dt:ut.sibling=dt,ut=dt);return i&&ze.forEach(function(uM){return o(Z,uM)}),it&&Ss(Z,Ye),Re}function St(Z,H,W,ce){if(typeof W=="object"&&W!==null&&W.type===j&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var Re=W.key;H!==null;){if(H.key===Re){if(Re=W.type,Re===j){if(H.tag===7){f(Z,H.sibling),ce=y(H,W.props.children),ce.return=Z,Z=ce;break e}}else if(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===L&&di(Re)===H.type){f(Z,H.sibling),ce=y(H,W.props),Mo(ce,W),ce.return=Z,Z=ce;break e}f(Z,H);break}else o(Z,H);H=H.sibling}W.type===j?(ce=ii(W.props.children,Z.mode,ce,W.key),ce.return=Z,Z=ce):(ce=zu(W.type,W.key,W.props,null,Z.mode,ce),Mo(ce,W),ce.return=Z,Z=ce)}return E(Z);case v:e:{for(Re=W.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){f(Z,H.sibling),ce=y(H,W.children||[]),ce.return=Z,Z=ce;break e}else{f(Z,H);break}else o(Z,H);H=H.sibling}ce=Ch(W,Z.mode,ce),ce.return=Z,Z=ce}return E(Z);case L:return W=di(W),St(Z,H,W,ce)}if(G(W))return Se(Z,H,W,ce);if(_(W)){if(Re=_(W),typeof Re!="function")throw Error(r(150));return W=Re.call(W),Ve(Z,H,W,ce)}if(typeof W.then=="function")return St(Z,H,Pu(W),ce);if(W.$$typeof===C)return St(Z,H,_u(Z,W),ce);Bu(Z,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(f(Z,H.sibling),ce=y(H,W),ce.return=Z,Z=ce):(f(Z,H),ce=Eh(W,Z.mode,ce),ce.return=Z,Z=ce),E(Z)):f(Z,H)}return function(Z,H,W,ce){try{Ao=0;var Re=St(Z,H,W,ce);return fl=null,Re}catch(ze){if(ze===dl||ze===Lu)throw ze;var ut=pr(29,ze,null,Z.mode);return ut.lanes=ce,ut.return=Z,ut}finally{}}}var mi=qy(!0),Gy=qy(!1),ua=!1;function Ph(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function da(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fa(i,o,f){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(mt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=Ou(i),Ay(i,null,f),o}return Mu(i,h,o,f),Ou(i)}function Oo(i,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,f|=h,o.lanes=f,Lb(i,f)}}function $h(i,o){var f=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,f===h)){var y=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var E={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?y=w=E:w=w.next=E,f=f.next}while(f!==null);w===null?y=w=o:w=w.next=o}else y=w=o;f={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=o:i.next=o,f.lastBaseUpdate=o}var Fh=!1;function zo(){if(Fh){var i=ul;if(i!==null)throw i}}function Do(i,o,f,h){Fh=!1;var y=i.updateQueue;ua=!1;var w=y.firstBaseUpdate,E=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var $=O,Q=$.next;$.next=null,E===null?w=Q:E.next=Q,E=$;var le=i.alternate;le!==null&&(le=le.updateQueue,O=le.lastBaseUpdate,O!==E&&(O===null?le.firstBaseUpdate=Q:O.next=Q,le.lastBaseUpdate=$))}if(w!==null){var ue=y.baseState;E=0,le=Q=$=null,O=w;do{var ne=O.lane&-536870913,se=ne!==O.lane;if(se?(st&ne)===ne:(h&ne)===ne){ne!==0&&ne===cl&&(Fh=!0),le!==null&&(le=le.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Se=i,Ve=O;ne=o;var St=f;switch(Ve.tag){case 1:if(Se=Ve.payload,typeof Se=="function"){ue=Se.call(St,ue,ne);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ve.payload,ne=typeof Se=="function"?Se.call(St,ue,ne):Se,ne==null)break e;ue=g({},ue,ne);break e;case 2:ua=!0}}ne=O.callback,ne!==null&&(i.flags|=64,se&&(i.flags|=8192),se=y.callbacks,se===null?y.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},le===null?(Q=le=se,$=ue):le=le.next=se,E|=ne;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;se=O,O=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);le===null&&($=ue),y.baseState=$,y.firstBaseUpdate=Q,y.lastBaseUpdate=le,w===null&&(y.shared.lanes=0),xa|=E,i.lanes=E,i.memoizedState=ue}}function Ky(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Zy(i,o){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)Ky(f[i],o)}var ml=I(null),$u=I(0);function Jy(i,o){i=Rs,ee($u,i),ee(ml,o),Rs=i|o.baseLanes}function Vh(){ee($u,Rs),ee(ml,ml.current)}function Hh(){Rs=$u.current,q(ml),q($u)}var gr=I(null),Ir=null;function ma(i){var o=i.alternate;ee(Yt,Yt.current&1),ee(gr,i),Ir===null&&(o===null||ml.current!==null||o.memoizedState!==null)&&(Ir=i)}function qh(i){ee(Yt,Yt.current),ee(gr,i),Ir===null&&(Ir=i)}function Wy(i){i.tag===22?(ee(Yt,Yt.current),ee(gr,i),Ir===null&&(Ir=i)):ha()}function ha(){ee(Yt,Yt.current),ee(gr,gr.current)}function xr(i){q(gr),Ir===i&&(Ir=null),q(Yt)}var Yt=I(0);function Fu(i){for(var o=i;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Yp(f)||Qp(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ts=0,We=null,Nt=null,sn=null,Vu=!1,hl=!1,hi=!1,Hu=0,Io=0,pl=null,e4=0;function Ft(){throw Error(r(321))}function Gh(i,o){if(o===null)return!1;for(var f=0;f<o.length&&f<i.length;f++)if(!hr(i[f],o[f]))return!1;return!0}function Kh(i,o,f,h,y,w){return Ts=w,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?Dv:op,hi=!1,w=f(h,y),hi=!1,hl&&(w=Qy(o,f,h,y)),Yy(i),w}function Yy(i){B.H=Lo;var o=Nt!==null&&Nt.next!==null;if(Ts=0,sn=Nt=We=null,Vu=!1,Io=0,pl=null,o)throw Error(r(300));i===null||an||(i=i.dependencies,i!==null&&Iu(i)&&(an=!0))}function Qy(i,o,f,h){We=i;var y=0;do{if(hl&&(pl=null),Io=0,hl=!1,25<=y)throw Error(r(301));if(y+=1,sn=Nt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=Iv,w=o(f,h)}while(hl);return w}function t4(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?_o(o):o,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(We.flags|=1024),o}function Zh(){var i=Hu!==0;return Hu=0,i}function Jh(i,o,f){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f}function Wh(i){if(Vu){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Vu=!1}Ts=0,sn=Nt=We=null,hl=!1,Io=Hu=0,pl=null}function Vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?We.memoizedState=sn=i:sn=sn.next=i,sn}function Qt(){if(Nt===null){var i=We.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var o=sn===null?We.memoizedState:sn.next;if(o!==null)sn=o,Nt=i;else{if(i===null)throw We.alternate===null?Error(r(467)):Error(r(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},sn===null?We.memoizedState=sn=i:sn=sn.next=i}return sn}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(i){var o=Io;return Io+=1,pl===null&&(pl=[]),i=Fy(pl,i,o),o=We,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?Dv:op),i}function Gu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _o(i);if(i.$$typeof===C)return Tn(i)}throw Error(r(438,String(i)))}function Yh(i){var o=null,f=We.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=qu(),We.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(i),h=0;h<i;h++)f[h]=X;return o.index++,f}function As(i,o){return typeof o=="function"?o(i):o}function Ku(i){var o=Qt();return Qh(o,Nt,i)}function Qh(i,o,f){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=f;var y=i.baseQueue,w=h.pending;if(w!==null){if(y!==null){var E=y.next;y.next=w.next,w.next=E}o.baseQueue=y=w,h.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{o=y.next;var O=E=null,$=null,Q=o,le=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(st&ue)===ue:(Ts&ue)===ue){var ne=Q.revertLane;if(ne===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===cl&&(le=!0);else if((Ts&ne)===ne){Q=Q.next,ne===cl&&(le=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},$===null?(O=$=ue,E=w):$=$.next=ue,We.lanes|=ne,xa|=ne;ue=Q.action,hi&&f(w,ue),w=Q.hasEagerState?Q.eagerState:f(w,ue)}else ne={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},$===null?(O=$=ne,E=w):$=$.next=ne,We.lanes|=ue,xa|=ue;Q=Q.next}while(Q!==null&&Q!==o);if($===null?E=w:$.next=O,!hr(w,i.memoizedState)&&(an=!0,le&&(f=ul,f!==null)))throw f;i.memoizedState=w,i.baseState=E,i.baseQueue=$,h.lastRenderedState=w}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Xh(i){var o=Qt(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var h=f.dispatch,y=f.pending,w=o.memoizedState;if(y!==null){f.pending=null;var E=y=y.next;do w=i(w,E.action),E=E.next;while(E!==y);hr(w,o.memoizedState)||(an=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),f.lastRenderedState=w}return[w,h]}function Xy(i,o,f){var h=We,y=Qt(),w=it;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=o();var E=!hr((Nt||y).memoizedState,f);if(E&&(y.memoizedState=f,an=!0),y=y.queue,np(nv.bind(null,h,y,i),[i]),y.getSnapshot!==o||E||sn!==null&&sn.memoizedState.tag&1){if(h.flags|=2048,gl(9,{destroy:void 0},tv.bind(null,h,y,f,o),null),Ct===null)throw Error(r(349));w||(Ts&127)!==0||ev(h,o,f)}return f}function ev(i,o,f){i.flags|=16384,i={getSnapshot:o,value:f},o=We.updateQueue,o===null?(o=qu(),We.updateQueue=o,o.stores=[i]):(f=o.stores,f===null?o.stores=[i]:f.push(i))}function tv(i,o,f,h){o.value=f,o.getSnapshot=h,rv(o)&&sv(i)}function nv(i,o,f){return f(function(){rv(o)&&sv(i)})}function rv(i){var o=i.getSnapshot;i=i.value;try{var f=o();return!hr(i,f)}catch{return!0}}function sv(i){var o=ai(i,2);o!==null&&ar(o,i,2)}function ep(i){var o=Vn();if(typeof i=="function"){var f=i;if(i=f(),hi){rs(!0);try{f()}finally{rs(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:i},o}function av(i,o,f,h){return i.baseState=f,Qh(i,Nt,typeof h=="function"?h:As)}function n4(i,o,f,h,y){if(Wu(i))throw Error(r(485));if(i=o.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){w.listeners.push(E)}};B.T!==null?f(!0):w.isTransition=!1,h(w),f=o.pending,f===null?(w.next=o.pending=w,iv(o,w)):(w.next=f.next,o.pending=f.next=w)}}function iv(i,o){var f=o.action,h=o.payload,y=i.state;if(o.isTransition){var w=B.T,E={};B.T=E;try{var O=f(y,h),$=B.S;$!==null&&$(E,O),lv(i,o,O)}catch(Q){tp(i,o,Q)}finally{w!==null&&E.types!==null&&(w.types=E.types),B.T=w}}else try{w=f(y,h),lv(i,o,w)}catch(Q){tp(i,o,Q)}}function lv(i,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(h){ov(i,o,h)},function(h){return tp(i,o,h)}):ov(i,o,f)}function ov(i,o,f){o.status="fulfilled",o.value=f,cv(o),i.state=f,o=i.pending,o!==null&&(f=o.next,f===o?i.pending=null:(f=f.next,o.next=f,iv(i,f)))}function tp(i,o,f){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=f,cv(o),o=o.next;while(o!==h)}i.action=null}function cv(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function uv(i,o){return o}function dv(i,o){if(it){var f=Ct.formState;if(f!==null){e:{var h=We;if(it){if(Ot){t:{for(var y=Ot,w=Dr;y.nodeType!==8;){if(!w){y=null;break t}if(y=_r(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Ot=_r(y.nextSibling),h=y.data==="F!";break e}}oa(h)}h=!1}h&&(o=f[0])}}return f=Vn(),f.memoizedState=f.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:o},f.queue=h,f=Mv.bind(null,We,h),h.dispatch=f,h=ep(!1),w=lp.bind(null,We,!1,h.queue),h=Vn(),y={state:o,dispatch:null,action:i,pending:null},h.queue=y,f=n4.bind(null,We,y,w,f),y.dispatch=f,h.memoizedState=i,[o,f,!1]}function fv(i){var o=Qt();return mv(o,Nt,i)}function mv(i,o,f){if(o=Qh(i,o,uv)[0],i=Ku(As)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=_o(o)}catch(E){throw E===dl?Lu:E}else h=o;o=Qt();var y=o.queue,w=y.dispatch;return f!==o.memoizedState&&(We.flags|=2048,gl(9,{destroy:void 0},r4.bind(null,y,f),null)),[h,w,i]}function r4(i,o){i.action=o}function hv(i){var o=Qt(),f=Nt;if(f!==null)return mv(o,f,i);Qt(),o=o.memoizedState,f=Qt();var h=f.queue.dispatch;return f.memoizedState=i,[o,h,!1]}function gl(i,o,f,h){return i={tag:i,create:f,deps:h,inst:o,next:null},o=We.updateQueue,o===null&&(o=qu(),We.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=i.next=i:(h=f.next,f.next=i,i.next=h,o.lastEffect=i),i}function pv(){return Qt().memoizedState}function Zu(i,o,f,h){var y=Vn();We.flags|=i,y.memoizedState=gl(1|o,{destroy:void 0},f,h===void 0?null:h)}function Ju(i,o,f,h){var y=Qt();h=h===void 0?null:h;var w=y.memoizedState.inst;Nt!==null&&h!==null&&Gh(h,Nt.memoizedState.deps)?y.memoizedState=gl(o,w,f,h):(We.flags|=i,y.memoizedState=gl(1|o,w,f,h))}function gv(i,o){Zu(8390656,8,i,o)}function np(i,o){Ju(2048,8,i,o)}function s4(i){We.flags|=4;var o=We.updateQueue;if(o===null)o=qu(),We.updateQueue=o,o.events=[i];else{var f=o.events;f===null?o.events=[i]:f.push(i)}}function xv(i){var o=Qt().memoizedState;return s4({ref:o,nextImpl:i}),function(){if((mt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function bv(i,o){return Ju(4,2,i,o)}function yv(i,o){return Ju(4,4,i,o)}function vv(i,o){if(typeof o=="function"){i=i();var f=o(i);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function jv(i,o,f){f=f!=null?f.concat([i]):null,Ju(4,4,vv.bind(null,o,i),f)}function rp(){}function wv(i,o){var f=Qt();o=o===void 0?null:o;var h=f.memoizedState;return o!==null&&Gh(o,h[1])?h[0]:(f.memoizedState=[i,o],i)}function Nv(i,o){var f=Qt();o=o===void 0?null:o;var h=f.memoizedState;if(o!==null&&Gh(o,h[1]))return h[0];if(h=i(),hi){rs(!0);try{i()}finally{rs(!1)}}return f.memoizedState=[h,o],h}function sp(i,o,f){return f===void 0||(Ts&1073741824)!==0&&(st&261930)===0?i.memoizedState=o:(i.memoizedState=f,i=k1(),We.lanes|=i,xa|=i,f)}function kv(i,o,f,h){return hr(f,o)?f:ml.current!==null?(i=sp(i,f,h),hr(i,o)||(an=!0),i):(Ts&42)===0||(Ts&1073741824)!==0&&(st&261930)===0?(an=!0,i.memoizedState=f):(i=k1(),We.lanes|=i,xa|=i,o)}function Sv(i,o,f,h,y){var w=Y.p;Y.p=w!==0&&8>w?w:8;var E=B.T,O={};B.T=O,lp(i,!1,o,f);try{var $=y(),Q=B.S;if(Q!==null&&Q(O,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var le=XA($,h);Ro(i,o,le,vr(i))}else Ro(i,o,h,vr(i))}catch(ue){Ro(i,o,{then:function(){},status:"rejected",reason:ue},vr())}finally{Y.p=w,E!==null&&O.types!==null&&(E.types=O.types),B.T=E}}function a4(){}function ap(i,o,f,h){if(i.tag!==5)throw Error(r(476));var y=Ev(i).queue;Sv(i,y,o,V,f===null?a4:function(){return Cv(i),f(h)})}function Ev(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:V},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:f},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Cv(i){var o=Ev(i);o.next===null&&(o=i.alternate.memoizedState),Ro(i,o.next.queue,{},vr())}function ip(){return Tn(Xo)}function Tv(){return Qt().memoizedState}function Av(){return Qt().memoizedState}function i4(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var f=vr();i=da(f);var h=fa(o,i,f);h!==null&&(ar(h,o,f),Oo(h,o,f)),o={cache:_h()},i.payload=o;return}o=o.return}}function l4(i,o,f){var h=vr();f={lane:h,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Wu(i)?Ov(o,f):(f=kh(i,o,f,h),f!==null&&(ar(f,i,h),zv(f,o,h)))}function Mv(i,o,f){var h=vr();Ro(i,o,f,h)}function Ro(i,o,f,h){var y={lane:h,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Wu(i))Ov(o,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var E=o.lastRenderedState,O=w(E,f);if(y.hasEagerState=!0,y.eagerState=O,hr(O,E))return Mu(i,o,y,0),Ct===null&&Au(),!1}catch{}finally{}if(f=kh(i,o,y,h),f!==null)return ar(f,i,h),zv(f,o,h),!0}return!1}function lp(i,o,f,h){if(h={lane:2,revertLane:Pp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Wu(i)){if(o)throw Error(r(479))}else o=kh(i,f,h,2),o!==null&&ar(o,i,2)}function Wu(i){var o=i.alternate;return i===We||o!==null&&o===We}function Ov(i,o){hl=Vu=!0;var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}function zv(i,o,f){if((f&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,f|=h,o.lanes=f,Lb(i,f)}}var Lo={readContext:Tn,use:Gu,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Lo.useEffectEvent=Ft;var Dv={readContext:Tn,use:Gu,useCallback:function(i,o){return Vn().memoizedState=[i,o===void 0?null:o],i},useContext:Tn,useEffect:gv,useImperativeHandle:function(i,o,f){f=f!=null?f.concat([i]):null,Zu(4194308,4,vv.bind(null,o,i),f)},useLayoutEffect:function(i,o){return Zu(4194308,4,i,o)},useInsertionEffect:function(i,o){Zu(4,2,i,o)},useMemo:function(i,o){var f=Vn();o=o===void 0?null:o;var h=i();if(hi){rs(!0);try{i()}finally{rs(!1)}}return f.memoizedState=[h,o],h},useReducer:function(i,o,f){var h=Vn();if(f!==void 0){var y=f(o);if(hi){rs(!0);try{f(o)}finally{rs(!1)}}}else y=o;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=l4.bind(null,We,i),[h.memoizedState,i]},useRef:function(i){var o=Vn();return i={current:i},o.memoizedState=i},useState:function(i){i=ep(i);var o=i.queue,f=Mv.bind(null,We,o);return o.dispatch=f,[i.memoizedState,f]},useDebugValue:rp,useDeferredValue:function(i,o){var f=Vn();return sp(f,i,o)},useTransition:function(){var i=ep(!1);return i=Sv.bind(null,We,i.queue,!0,!1),Vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,f){var h=We,y=Vn();if(it){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),Ct===null)throw Error(r(349));(st&127)!==0||ev(h,o,f)}y.memoizedState=f;var w={value:f,getSnapshot:o};return y.queue=w,gv(nv.bind(null,h,w,i),[i]),h.flags|=2048,gl(9,{destroy:void 0},tv.bind(null,h,w,f,o),null),f},useId:function(){var i=Vn(),o=Ct.identifierPrefix;if(it){var f=as,h=ss;f=(h&~(1<<32-Rn(h)-1)).toString(32)+f,o="_"+o+"R_"+f,f=Hu++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=e4++,o="_"+o+"r_"+f.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:ip,useFormState:dv,useActionState:dv,useOptimistic:function(i){var o=Vn();o.memoizedState=o.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=lp.bind(null,We,!0,f),f.dispatch=o,[i,o]},useMemoCache:Yh,useCacheRefresh:function(){return Vn().memoizedState=i4.bind(null,We)},useEffectEvent:function(i){var o=Vn(),f={impl:i};return o.memoizedState=f,function(){if((mt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},op={readContext:Tn,use:Gu,useCallback:wv,useContext:Tn,useEffect:np,useImperativeHandle:jv,useInsertionEffect:bv,useLayoutEffect:yv,useMemo:Nv,useReducer:Ku,useRef:pv,useState:function(){return Ku(As)},useDebugValue:rp,useDeferredValue:function(i,o){var f=Qt();return kv(f,Nt.memoizedState,i,o)},useTransition:function(){var i=Ku(As)[0],o=Qt().memoizedState;return[typeof i=="boolean"?i:_o(i),o]},useSyncExternalStore:Xy,useId:Tv,useHostTransitionStatus:ip,useFormState:fv,useActionState:fv,useOptimistic:function(i,o){var f=Qt();return av(f,Nt,i,o)},useMemoCache:Yh,useCacheRefresh:Av};op.useEffectEvent=xv;var Iv={readContext:Tn,use:Gu,useCallback:wv,useContext:Tn,useEffect:np,useImperativeHandle:jv,useInsertionEffect:bv,useLayoutEffect:yv,useMemo:Nv,useReducer:Xh,useRef:pv,useState:function(){return Xh(As)},useDebugValue:rp,useDeferredValue:function(i,o){var f=Qt();return Nt===null?sp(f,i,o):kv(f,Nt.memoizedState,i,o)},useTransition:function(){var i=Xh(As)[0],o=Qt().memoizedState;return[typeof i=="boolean"?i:_o(i),o]},useSyncExternalStore:Xy,useId:Tv,useHostTransitionStatus:ip,useFormState:hv,useActionState:hv,useOptimistic:function(i,o){var f=Qt();return Nt!==null?av(f,Nt,i,o):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Yh,useCacheRefresh:Av};Iv.useEffectEvent=xv;function cp(i,o,f,h){o=i.memoizedState,f=f(h,o),f=f==null?o:g({},o,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var up={enqueueSetState:function(i,o,f){i=i._reactInternals;var h=vr(),y=da(h);y.payload=o,f!=null&&(y.callback=f),o=fa(i,y,h),o!==null&&(ar(o,i,h),Oo(o,i,h))},enqueueReplaceState:function(i,o,f){i=i._reactInternals;var h=vr(),y=da(h);y.tag=1,y.payload=o,f!=null&&(y.callback=f),o=fa(i,y,h),o!==null&&(ar(o,i,h),Oo(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var f=vr(),h=da(f);h.tag=2,o!=null&&(h.callback=o),o=fa(i,h,f),o!==null&&(ar(o,i,f),Oo(o,i,f))}};function _v(i,o,f,h,y,w,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,E):o.prototype&&o.prototype.isPureReactComponent?!No(f,h)||!No(y,w):!0}function Rv(i,o,f,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,h),o.state!==i&&up.enqueueReplaceState(o,o.state,null)}function pi(i,o){var f=o;if("ref"in o){f={};for(var h in o)h!=="ref"&&(f[h]=o[h])}if(i=i.defaultProps){f===o&&(f=g({},f));for(var y in i)f[y]===void 0&&(f[y]=i[y])}return f}function Lv(i){Tu(i)}function Uv(i){console.error(i)}function Pv(i){Tu(i)}function Yu(i,o){try{var f=i.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Bv(i,o,f){try{var h=i.onCaughtError;h(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function dp(i,o,f){return f=da(f),f.tag=3,f.payload={element:null},f.callback=function(){Yu(i,o)},f}function $v(i){return i=da(i),i.tag=3,i}function Fv(i,o,f,h){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;i.payload=function(){return y(w)},i.callback=function(){Bv(o,f,h)}}var E=f.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Bv(o,f,h),typeof y!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function o4(i,o,f,h,y){if(f.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=f.alternate,o!==null&&ol(o,f,y,!0),f=gr.current,f!==null){switch(f.tag){case 31:case 13:return Ir===null?cd():f.alternate===null&&Vt===0&&(Vt=3),f.flags&=-257,f.flags|=65536,f.lanes=y,h===Uu?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([h]):o.add(h),Rp(i,h,y)),!1;case 22:return f.flags|=65536,h===Uu?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([h]):f.add(h)),Rp(i,h,y)),!1}throw Error(r(435,f.tag))}return Rp(i,h,y),cd(),!1}if(it)return o=gr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==Mh&&(i=Error(r(422),{cause:h}),Eo(Mr(i,f)))):(h!==Mh&&(o=Error(r(423),{cause:h}),Eo(Mr(o,f))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Mr(h,f),y=dp(i.stateNode,h,y),$h(i,y),Vt!==4&&(Vt=2)),!1;var w=Error(r(520),{cause:h});if(w=Mr(w,f),qo===null?qo=[w]:qo.push(w),Vt!==4&&(Vt=2),o===null)return!0;h=Mr(h,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,i=y&-y,f.lanes|=i,i=dp(f.stateNode,h,i),$h(f,i),!1;case 1:if(o=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ba===null||!ba.has(w))))return f.flags|=65536,y&=-y,f.lanes|=y,y=$v(y),Fv(y,i,f,h),$h(f,y),!1}f=f.return}while(f!==null);return!1}var fp=Error(r(461)),an=!1;function An(i,o,f,h){o.child=i===null?Gy(o,null,f,h):mi(o,i.child,f,h)}function Vv(i,o,f,h,y){f=f.render;var w=o.ref;if("ref"in h){var E={};for(var O in h)O!=="ref"&&(E[O]=h[O])}else E=h;return ci(o),h=Kh(i,o,f,E,w,y),O=Zh(),i!==null&&!an?(Jh(i,o,y),Ms(i,o,y)):(it&&O&&Th(o),o.flags|=1,An(i,o,h,y),o.child)}function Hv(i,o,f,h,y){if(i===null){var w=f.type;return typeof w=="function"&&!Sh(w)&&w.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=w,qv(i,o,w,h,y)):(i=zu(f.type,null,h,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!vp(i,y)){var E=w.memoizedProps;if(f=f.compare,f=f!==null?f:No,f(E,h)&&i.ref===o.ref)return Ms(i,o,y)}return o.flags|=1,i=ks(w,h),i.ref=o.ref,i.return=o,o.child=i}function qv(i,o,f,h,y){if(i!==null){var w=i.memoizedProps;if(No(w,h)&&i.ref===o.ref)if(an=!1,o.pendingProps=h=w,vp(i,y))(i.flags&131072)!==0&&(an=!0);else return o.lanes=i.lanes,Ms(i,o,y)}return mp(i,o,f,h,y)}function Gv(i,o,f,h){var y=h.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|f:f,i!==null){for(h=o.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~w}else h=0,o.child=null;return Kv(i,o,w,f,h)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ru(o,w!==null?w.cachePool:null),w!==null?Jy(o,w):Vh(),Wy(o);else return h=o.lanes=536870912,Kv(i,o,w!==null?w.baseLanes|f:f,f,h)}else w!==null?(Ru(o,w.cachePool),Jy(o,w),ha(),o.memoizedState=null):(i!==null&&Ru(o,null),Vh(),ha());return An(i,o,y,f),o.child}function Uo(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Kv(i,o,f,h,y){var w=Lh();return w=w===null?null:{parent:rn._currentValue,pool:w},o.memoizedState={baseLanes:f,cachePool:w},i!==null&&Ru(o,null),Vh(),Wy(o),i!==null&&ol(i,o,h,!0),o.childLanes=y,null}function Qu(i,o){return o=ed({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Zv(i,o,f){return mi(o,i.child,null,f),i=Qu(o,o.pendingProps),i.flags|=2,xr(o),o.memoizedState=null,i}function c4(i,o,f){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(it){if(h.mode==="hidden")return i=Qu(o,h),o.lanes=536870912,Uo(null,i);if(qh(o),(i=Ot)?(i=ij(i,Dr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ia!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},f=Oy(i),f.return=o,o.child=f,Cn=o,Ot=null)):i=null,i===null)throw oa(o);return o.lanes=536870912,null}return Qu(o,h)}var w=i.memoizedState;if(w!==null){var E=w.dehydrated;if(qh(o),y)if(o.flags&256)o.flags&=-257,o=Zv(i,o,f);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(an||ol(i,o,f,!1),y=(f&i.childLanes)!==0,an||y){if(h=Ct,h!==null&&(E=Ub(h,f),E!==0&&E!==w.retryLane))throw w.retryLane=E,ai(i,E),ar(h,i,E),fp;cd(),o=Zv(i,o,f)}else i=w.treeContext,Ot=_r(E.nextSibling),Cn=o,it=!0,la=null,Dr=!1,i!==null&&Iy(o,i),o=Qu(o,h),o.flags|=4096;return o}return i=ks(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Xu(i,o){var f=o.ref;if(f===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(o.flags|=4194816)}}function mp(i,o,f,h,y){return ci(o),f=Kh(i,o,f,h,void 0,y),h=Zh(),i!==null&&!an?(Jh(i,o,y),Ms(i,o,y)):(it&&h&&Th(o),o.flags|=1,An(i,o,f,y),o.child)}function Jv(i,o,f,h,y,w){return ci(o),o.updateQueue=null,f=Qy(o,h,f,y),Yy(i),h=Zh(),i!==null&&!an?(Jh(i,o,w),Ms(i,o,w)):(it&&h&&Th(o),o.flags|=1,An(i,o,f,w),o.child)}function Wv(i,o,f,h,y){if(ci(o),o.stateNode===null){var w=sl,E=f.contextType;typeof E=="object"&&E!==null&&(w=Tn(E)),w=new f(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=up,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},Ph(o),E=f.contextType,w.context=typeof E=="object"&&E!==null?Tn(E):sl,w.state=o.memoizedState,E=f.getDerivedStateFromProps,typeof E=="function"&&(cp(o,f,E,h),w.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(E=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),E!==w.state&&up.enqueueReplaceState(w,w.state,null),Do(o,h,w,y),zo(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){w=o.stateNode;var O=o.memoizedProps,$=pi(f,O);w.props=$;var Q=w.context,le=f.contextType;E=sl,typeof le=="object"&&le!==null&&(E=Tn(le));var ue=f.getDerivedStateFromProps;le=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||Q!==E)&&Rv(o,w,h,E),ua=!1;var ne=o.memoizedState;w.state=ne,Do(o,h,w,y),zo(),Q=o.memoizedState,O||ne!==Q||ua?(typeof ue=="function"&&(cp(o,f,ue,h),Q=o.memoizedState),($=ua||_v(o,f,$,h,ne,Q,E))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Q),w.props=h,w.state=Q,w.context=E,h=$):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,Bh(i,o),E=o.memoizedProps,le=pi(f,E),w.props=le,ue=o.pendingProps,ne=w.context,Q=f.contextType,$=sl,typeof Q=="object"&&Q!==null&&($=Tn(Q)),O=f.getDerivedStateFromProps,(Q=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==ue||ne!==$)&&Rv(o,w,h,$),ua=!1,ne=o.memoizedState,w.state=ne,Do(o,h,w,y),zo();var se=o.memoizedState;E!==ue||ne!==se||ua||i!==null&&i.dependencies!==null&&Iu(i.dependencies)?(typeof O=="function"&&(cp(o,f,O,h),se=o.memoizedState),(le=ua||_v(o,f,le,h,ne,se,$)||i!==null&&i.dependencies!==null&&Iu(i.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,se,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,se,$)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=se),w.props=h,w.state=se,w.context=$,h=le):(typeof w.componentDidUpdate!="function"||E===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),h=!1)}return w=h,Xu(i,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,f=h&&typeof f.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&h?(o.child=mi(o,i.child,null,y),o.child=mi(o,null,f,y)):An(i,o,f,y),o.memoizedState=w.state,i=o.child):i=Ms(i,o,y),i}function Yv(i,o,f,h){return li(),o.flags|=256,An(i,o,f,h),o.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(i){return{baseLanes:i,cachePool:By()}}function gp(i,o,f){return i=i!==null?i.childLanes&~f:0,o&&(i|=yr),i}function Qv(i,o,f){var h=o.pendingProps,y=!1,w=(o.flags&128)!==0,E;if((E=w)||(E=i!==null&&i.memoizedState===null?!1:(Yt.current&2)!==0),E&&(y=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,i===null){if(it){if(y?ma(o):ha(),(i=Ot)?(i=ij(i,Dr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ia!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},f=Oy(i),f.return=o,o.child=f,Cn=o,Ot=null)):i=null,i===null)throw oa(o);return Qp(i)?o.lanes=32:o.lanes=536870912,null}var O=h.children;return h=h.fallback,y?(ha(),y=o.mode,O=ed({mode:"hidden",children:O},y),h=ii(h,y,f,null),O.return=o,h.return=o,O.sibling=h,o.child=O,h=o.child,h.memoizedState=pp(f),h.childLanes=gp(i,E,f),o.memoizedState=hp,Uo(null,h)):(ma(o),xp(o,O))}var $=i.memoizedState;if($!==null&&(O=$.dehydrated,O!==null)){if(w)o.flags&256?(ma(o),o.flags&=-257,o=bp(i,o,f)):o.memoizedState!==null?(ha(),o.child=i.child,o.flags|=128,o=null):(ha(),O=h.fallback,y=o.mode,h=ed({mode:"visible",children:h.children},y),O=ii(O,y,f,null),O.flags|=2,h.return=o,O.return=o,h.sibling=O,o.child=h,mi(o,i.child,null,f),h=o.child,h.memoizedState=pp(f),h.childLanes=gp(i,E,f),o.memoizedState=hp,o=Uo(null,h));else if(ma(o),Qp(O)){if(E=O.nextSibling&&O.nextSibling.dataset,E)var Q=E.dgst;E=Q,h=Error(r(419)),h.stack="",h.digest=E,Eo({value:h,source:null,stack:null}),o=bp(i,o,f)}else if(an||ol(i,o,f,!1),E=(f&i.childLanes)!==0,an||E){if(E=Ct,E!==null&&(h=Ub(E,f),h!==0&&h!==$.retryLane))throw $.retryLane=h,ai(i,h),ar(E,i,h),fp;Yp(O)||cd(),o=bp(i,o,f)}else Yp(O)?(o.flags|=192,o.child=i.child,o=null):(i=$.treeContext,Ot=_r(O.nextSibling),Cn=o,it=!0,la=null,Dr=!1,i!==null&&Iy(o,i),o=xp(o,h.children),o.flags|=4096);return o}return y?(ha(),O=h.fallback,y=o.mode,$=i.child,Q=$.sibling,h=ks($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,Q!==null?O=ks(Q,O):(O=ii(O,y,f,null),O.flags|=2),O.return=o,h.return=o,h.sibling=O,o.child=h,Uo(null,h),h=o.child,O=i.child.memoizedState,O===null?O=pp(f):(y=O.cachePool,y!==null?($=rn._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=By(),O={baseLanes:O.baseLanes|f,cachePool:y}),h.memoizedState=O,h.childLanes=gp(i,E,f),o.memoizedState=hp,Uo(i.child,h)):(ma(o),f=i.child,i=f.sibling,f=ks(f,{mode:"visible",children:h.children}),f.return=o,f.sibling=null,i!==null&&(E=o.deletions,E===null?(o.deletions=[i],o.flags|=16):E.push(i)),o.child=f,o.memoizedState=null,f)}function xp(i,o){return o=ed({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function ed(i,o){return i=pr(22,i,null,o),i.lanes=0,i}function bp(i,o,f){return mi(o,i.child,null,f),i=xp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Xv(i,o,f){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Dh(i.return,o,f)}function yp(i,o,f,h,y,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:f,tailMode:y,treeForkCount:w}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=f,E.tailMode=y,E.treeForkCount=w)}function e1(i,o,f){var h=o.pendingProps,y=h.revealOrder,w=h.tail;h=h.children;var E=Yt.current,O=(E&2)!==0;if(O?(E=E&1|2,o.flags|=128):E&=1,ee(Yt,E),An(i,o,h,f),h=it?So:0,!O&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Xv(i,f,o);else if(i.tag===19)Xv(i,f,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(f=o.child,y=null;f!==null;)i=f.alternate,i!==null&&Fu(i)===null&&(y=f),f=f.sibling;f=y,f===null?(y=o.child,o.child=null):(y=f.sibling,f.sibling=null),yp(o,!1,y,f,w,h);break;case"backwards":case"unstable_legacy-backwards":for(f=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Fu(i)===null){o.child=y;break}i=y.sibling,y.sibling=f,f=y,y=i}yp(o,!0,f,null,w,h);break;case"together":yp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ms(i,o,f){if(i!==null&&(o.dependencies=i.dependencies),xa|=o.lanes,(f&o.childLanes)===0)if(i!==null){if(ol(i,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,f=ks(i,i.pendingProps),o.child=f,f.return=o;i.sibling!==null;)i=i.sibling,f=f.sibling=ks(i,i.pendingProps),f.return=o;f.sibling=null}return o.child}function vp(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Iu(i)))}function u4(i,o,f){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),ca(o,rn,i.memoizedState.cache),li();break;case 27:case 5:_e(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:ca(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,qh(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ma(o),o.flags|=128,null):(f&o.child.childLanes)!==0?Qv(i,o,f):(ma(o),i=Ms(i,o,f),i!==null?i.sibling:null);ma(o);break;case 19:var y=(i.flags&128)!==0;if(h=(f&o.childLanes)!==0,h||(ol(i,o,f,!1),h=(f&o.childLanes)!==0),y){if(h)return e1(i,o,f);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ee(Yt,Yt.current),h)break;return null;case 22:return o.lanes=0,Gv(i,o,f,o.pendingProps);case 24:ca(o,rn,i.memoizedState.cache)}return Ms(i,o,f)}function t1(i,o,f){if(i!==null)if(i.memoizedProps!==o.pendingProps)an=!0;else{if(!vp(i,f)&&(o.flags&128)===0)return an=!1,u4(i,o,f);an=(i.flags&131072)!==0}else an=!1,it&&(o.flags&1048576)!==0&&Dy(o,So,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=di(o.elementType),o.type=i,typeof i=="function")Sh(i)?(h=pi(i,h),o.tag=1,o=Wv(null,o,i,h,f)):(o.tag=0,o=mp(null,o,i,h,f));else{if(i!=null){var y=i.$$typeof;if(y===A){o.tag=11,o=Vv(null,o,i,h,f);break e}else if(y===z){o.tag=14,o=Hv(null,o,i,h,f);break e}}throw o=P(i)||i,Error(r(306,o,""))}}return o;case 0:return mp(i,o,o.type,o.pendingProps,f);case 1:return h=o.type,y=pi(h,o.pendingProps),Wv(i,o,h,y,f);case 3:e:{if($e(o,o.stateNode.containerInfo),i===null)throw Error(r(387));h=o.pendingProps;var w=o.memoizedState;y=w.element,Bh(i,o),Do(o,h,null,f);var E=o.memoizedState;if(h=E.cache,ca(o,rn,h),h!==w.cache&&Ih(o,[rn],f,!0),zo(),h=E.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Yv(i,o,h,f);break e}else if(h!==y){y=Mr(Error(r(424)),o),Eo(y),o=Yv(i,o,h,f);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ot=_r(i.firstChild),Cn=o,it=!0,la=null,Dr=!0,f=Gy(o,null,h,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(li(),h===y){o=Ms(i,o,f);break e}An(i,o,h,f)}o=o.child}return o;case 26:return Xu(i,o),i===null?(f=fj(o.type,null,o.pendingProps,null))?o.memoizedState=f:it||(f=o.type,i=o.pendingProps,h=gd(pe.current).createElement(f),h[En]=o,h[Xn]=i,Mn(h,f,i),xn(h),o.stateNode=h):o.memoizedState=fj(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return _e(o),i===null&&it&&(h=o.stateNode=cj(o.type,o.pendingProps,pe.current),Cn=o,Dr=!0,y=Ot,wa(o.type)?(Xp=y,Ot=_r(h.firstChild)):Ot=y),An(i,o,o.pendingProps.children,f),Xu(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&it&&((y=h=Ot)&&(h=B4(h,o.type,o.pendingProps,Dr),h!==null?(o.stateNode=h,Cn=o,Ot=_r(h.firstChild),Dr=!1,y=!0):y=!1),y||oa(o)),_e(o),y=o.type,w=o.pendingProps,E=i!==null?i.memoizedProps:null,h=w.children,Zp(y,w)?h=null:E!==null&&Zp(y,E)&&(o.flags|=32),o.memoizedState!==null&&(y=Kh(i,o,t4,null,null,f),Xo._currentValue=y),Xu(i,o),An(i,o,h,f),o.child;case 6:return i===null&&it&&((i=f=Ot)&&(f=$4(f,o.pendingProps,Dr),f!==null?(o.stateNode=f,Cn=o,Ot=null,i=!0):i=!1),i||oa(o)),null;case 13:return Qv(i,o,f);case 4:return $e(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=mi(o,null,h,f):An(i,o,h,f),o.child;case 11:return Vv(i,o,o.type,o.pendingProps,f);case 7:return An(i,o,o.pendingProps,f),o.child;case 8:return An(i,o,o.pendingProps.children,f),o.child;case 12:return An(i,o,o.pendingProps.children,f),o.child;case 10:return h=o.pendingProps,ca(o,o.type,h.value),An(i,o,h.children,f),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,ci(o),y=Tn(y),h=h(y),o.flags|=1,An(i,o,h,f),o.child;case 14:return Hv(i,o,o.type,o.pendingProps,f);case 15:return qv(i,o,o.type,o.pendingProps,f);case 19:return e1(i,o,f);case 31:return c4(i,o,f);case 22:return Gv(i,o,f,o.pendingProps);case 24:return ci(o),h=Tn(rn),i===null?(y=Lh(),y===null&&(y=Ct,w=_h(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=f),y=w),o.memoizedState={parent:h,cache:y},Ph(o),ca(o,rn,y)):((i.lanes&f)!==0&&(Bh(i,o),Do(o,null,null,f),zo()),y=i.memoizedState,w=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ca(o,rn,h)):(h=w.cache,ca(o,rn,h),h!==y.cache&&Ih(o,[rn],f,!0))),An(i,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Os(i){i.flags|=4}function jp(i,o,f,h,y){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(T1())i.flags|=8192;else throw fi=Uu,Uh}else i.flags&=-16777217}function n1(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xj(o))if(T1())i.flags|=8192;else throw fi=Uu,Uh}function td(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?_b():536870912,i.lanes|=o,vl|=o)}function Po(i,o){if(!it)switch(i.tailMode){case"hidden":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function zt(i){var o=i.alternate!==null&&i.alternate.child===i.child,f=0,h=0;if(o)for(var y=i.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)f|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=f,o}function d4(i,o,f){var h=o.pendingProps;switch(Ah(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return zt(o),null;case 3:return f=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Cs(rn),me(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ll(o)?Os(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Oh())),zt(o),null;case 26:var y=o.type,w=o.memoizedState;return i===null?(Os(o),w!==null?(zt(o),n1(o,w)):(zt(o),jp(o,y,null,h,f))):w?w!==i.memoizedState?(Os(o),zt(o),n1(o,w)):(zt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Os(o),zt(o),jp(o,y,i,h,f)),null;case 27:if(Ke(o),f=pe.current,y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Os(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}i=fe.current,ll(o)?_y(o):(i=cj(y,h,f),o.stateNode=i,Os(o))}return zt(o),null;case 5:if(Ke(o),y=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Os(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(w=fe.current,ll(o))_y(o);else{var E=gd(pe.current);switch(w){case 1:w=E.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=E.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=E.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=E.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?E.createElement(y,{is:h.is}):E.createElement(y)}}w[En]=o,w[Xn]=h;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)w.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=w;e:switch(Mn(w,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Os(o)}}return zt(o),jp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,f),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Os(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=pe.current,ll(o)){if(i=o.stateNode,f=o.memoizedProps,h=null,y=Cn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[En]=o,i=!!(i.nodeValue===f||h!==null&&h.suppressHydrationWarning===!0||Q1(i.nodeValue,f)),i||oa(o,!0)}else i=gd(i).createTextNode(h),i[En]=o,o.stateNode=i}return zt(o),null;case 31:if(f=o.memoizedState,i===null||i.memoizedState!==null){if(h=ll(o),f!==null){if(i===null){if(!h)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[En]=o}else li(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),i=!1}else f=Oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),i=!0;if(!i)return o.flags&256?(xr(o),o):(xr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return zt(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=ll(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[En]=o}else li(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),y=!1}else y=Oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(xr(o),o):(xr(o),null)}return xr(o),(o.flags&128)!==0?(o.lanes=f,o):(f=h!==null,i=i!==null&&i.memoizedState!==null,f&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)),f!==i&&f&&(o.child.flags|=8192),td(o,o.updateQueue),zt(o),null);case 4:return me(),i===null&&Vp(o.stateNode.containerInfo),zt(o),null;case 10:return Cs(o.type),zt(o),null;case 19:if(q(Yt),h=o.memoizedState,h===null)return zt(o),null;if(y=(o.flags&128)!==0,w=h.rendering,w===null)if(y)Po(h,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Fu(i),w!==null){for(o.flags|=128,Po(h,!1),i=w.updateQueue,o.updateQueue=i,td(o,i),o.subtreeFlags=0,i=f,f=o.child;f!==null;)My(f,i),f=f.sibling;return ee(Yt,Yt.current&1|2),it&&Ss(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&ye()>id&&(o.flags|=128,y=!0,Po(h,!1),o.lanes=4194304)}else{if(!y)if(i=Fu(w),i!==null){if(o.flags|=128,y=!0,i=i.updateQueue,o.updateQueue=i,td(o,i),Po(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!it)return zt(o),null}else 2*ye()-h.renderingStartTime>id&&f!==536870912&&(o.flags|=128,y=!0,Po(h,!1),o.lanes=4194304);h.isBackwards?(w.sibling=o.child,o.child=w):(i=h.last,i!==null?i.sibling=w:o.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ye(),i.sibling=null,f=Yt.current,ee(Yt,y?f&1|2:f&1),it&&Ss(o,h.treeForkCount),i):(zt(o),null);case 22:case 23:return xr(o),Hh(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(f&536870912)!==0&&(o.flags&128)===0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),f=o.updateQueue,f!==null&&td(o,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048),i!==null&&q(ui),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Cs(rn),zt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function f4(i,o){switch(Ah(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Cs(rn),me(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ke(o),null;case 31:if(o.memoizedState!==null){if(xr(o),o.alternate===null)throw Error(r(340));li()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(xr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));li()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return q(Yt),null;case 4:return me(),null;case 10:return Cs(o.type),null;case 22:case 23:return xr(o),Hh(),i!==null&&q(ui),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Cs(rn),null;case 25:return null;default:return null}}function r1(i,o){switch(Ah(o),o.tag){case 3:Cs(rn),me();break;case 26:case 27:case 5:Ke(o);break;case 4:me();break;case 31:o.memoizedState!==null&&xr(o);break;case 13:xr(o);break;case 19:q(Yt);break;case 10:Cs(o.type);break;case 22:case 23:xr(o),Hh(),i!==null&&q(ui);break;case 24:Cs(rn)}}function Bo(i,o){try{var f=o.updateQueue,h=f!==null?f.lastEffect:null;if(h!==null){var y=h.next;f=y;do{if((f.tag&i)===i){h=void 0;var w=f.create,E=f.inst;h=w(),E.destroy=h}f=f.next}while(f!==y)}}catch(O){yt(o,o.return,O)}}function pa(i,o,f){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&i)===i){var E=h.inst,O=E.destroy;if(O!==void 0){E.destroy=void 0,y=o;var $=f,Q=O;try{Q()}catch(le){yt(y,$,le)}}}h=h.next}while(h!==w)}}catch(le){yt(o,o.return,le)}}function s1(i){var o=i.updateQueue;if(o!==null){var f=i.stateNode;try{Zy(o,f)}catch(h){yt(i,i.return,h)}}}function a1(i,o,f){f.props=pi(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(h){yt(i,o,h)}}function $o(i,o){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof f=="function"?i.refCleanup=f(h):f.current=h}}catch(y){yt(i,o,y)}}function is(i,o){var f=i.ref,h=i.refCleanup;if(f!==null)if(typeof h=="function")try{h()}catch(y){yt(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){yt(i,o,y)}else f.current=null}function i1(i){var o=i.type,f=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&h.focus();break e;case"img":f.src?h.src=f.src:f.srcSet&&(h.srcset=f.srcSet)}}catch(y){yt(i,i.return,y)}}function wp(i,o,f){try{var h=i.stateNode;I4(h,i.type,f,o),h[Xn]=o}catch(y){yt(i,i.return,y)}}function l1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&wa(i.type)||i.tag===4}function Np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&wa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kp(i,o,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(i),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=ws));else if(h!==4&&(h===27&&wa(i.type)&&(f=i.stateNode,o=null),i=i.child,i!==null))for(kp(i,o,f),i=i.sibling;i!==null;)kp(i,o,f),i=i.sibling}function nd(i,o,f){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?f.insertBefore(i,o):f.appendChild(i);else if(h!==4&&(h===27&&wa(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(nd(i,o,f),i=i.sibling;i!==null;)nd(i,o,f),i=i.sibling}function o1(i){var o=i.stateNode,f=i.memoizedProps;try{for(var h=i.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Mn(o,h,f),o[En]=i,o[Xn]=f}catch(w){yt(i,i.return,w)}}var zs=!1,ln=!1,Sp=!1,c1=typeof WeakSet=="function"?WeakSet:Set,bn=null;function m4(i,o){if(i=i.containerInfo,Gp=Nd,i=jy(i),bh(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var h=f.getSelection&&f.getSelection();if(h&&h.rangeCount!==0){f=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var E=0,O=-1,$=-1,Q=0,le=0,ue=i,ne=null;t:for(;;){for(var se;ue!==f||y!==0&&ue.nodeType!==3||(O=E+y),ue!==w||h!==0&&ue.nodeType!==3||($=E+h),ue.nodeType===3&&(E+=ue.nodeValue.length),(se=ue.firstChild)!==null;)ne=ue,ue=se;for(;;){if(ue===i)break t;if(ne===f&&++Q===y&&(O=E),ne===w&&++le===h&&($=E),(se=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=se}f=O===-1||$===-1?null:{start:O,end:$}}else f=null}f=f||{start:0,end:0}}else f=null;for(Kp={focusedElem:i,selectionRange:f},Nd=!1,bn=o;bn!==null;)if(o=bn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,bn=i;else for(;bn!==null;){switch(o=bn,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(f=0;f<i.length;f++)y=i[f],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,f=o,y=w.memoizedProps,w=w.memoizedState,h=f.stateNode;try{var Se=pi(f.type,y);i=h.getSnapshotBeforeUpdate(Se,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){yt(f,f.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,f=i.nodeType,f===9)Wp(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,bn=i;break}bn=o.return}}function u1(i,o,f){var h=f.flags;switch(f.tag){case 0:case 11:case 15:Is(i,f),h&4&&Bo(5,f);break;case 1:if(Is(i,f),h&4)if(i=f.stateNode,o===null)try{i.componentDidMount()}catch(E){yt(f,f.return,E)}else{var y=pi(f.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(E){yt(f,f.return,E)}}h&64&&s1(f),h&512&&$o(f,f.return);break;case 3:if(Is(i,f),h&64&&(i=f.updateQueue,i!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{Zy(i,o)}catch(E){yt(f,f.return,E)}}break;case 27:o===null&&h&4&&o1(f);case 26:case 5:Is(i,f),o===null&&h&4&&i1(f),h&512&&$o(f,f.return);break;case 12:Is(i,f);break;case 31:Is(i,f),h&4&&m1(i,f);break;case 13:Is(i,f),h&4&&h1(i,f),h&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=w4.bind(null,f),F4(i,f))));break;case 22:if(h=f.memoizedState!==null||zs,!h){o=o!==null&&o.memoizedState!==null||ln,y=zs;var w=ln;zs=h,(ln=o)&&!w?_s(i,f,(f.subtreeFlags&8772)!==0):Is(i,f),zs=y,ln=w}break;case 30:break;default:Is(i,f)}}function d1(i){var o=i.alternate;o!==null&&(i.alternate=null,d1(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&th(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Rt=null,tr=!1;function Ds(i,o,f){for(f=f.child;f!==null;)f1(i,o,f),f=f.sibling}function f1(i,o,f){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(vs,f)}catch{}switch(f.tag){case 26:ln||is(f,o),Ds(i,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:ln||is(f,o);var h=Rt,y=tr;wa(f.type)&&(Rt=f.stateNode,tr=!1),Ds(i,o,f),Wo(f.stateNode),Rt=h,tr=y;break;case 5:ln||is(f,o);case 6:if(h=Rt,y=tr,Rt=null,Ds(i,o,f),Rt=h,tr=y,Rt!==null)if(tr)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(f.stateNode)}catch(w){yt(f,o,w)}else try{Rt.removeChild(f.stateNode)}catch(w){yt(f,o,w)}break;case 18:Rt!==null&&(tr?(i=Rt,sj(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),Tl(i)):sj(Rt,f.stateNode));break;case 4:h=Rt,y=tr,Rt=f.stateNode.containerInfo,tr=!0,Ds(i,o,f),Rt=h,tr=y;break;case 0:case 11:case 14:case 15:pa(2,f,o),ln||pa(4,f,o),Ds(i,o,f);break;case 1:ln||(is(f,o),h=f.stateNode,typeof h.componentWillUnmount=="function"&&a1(f,o,h)),Ds(i,o,f);break;case 21:Ds(i,o,f);break;case 22:ln=(h=ln)||f.memoizedState!==null,Ds(i,o,f),ln=h;break;default:Ds(i,o,f)}}function m1(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tl(i)}catch(f){yt(o,o.return,f)}}}function h1(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tl(i)}catch(f){yt(o,o.return,f)}}function h4(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new c1),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new c1),o;default:throw Error(r(435,i.tag))}}function rd(i,o){var f=h4(i);o.forEach(function(h){if(!f.has(h)){f.add(h);var y=N4.bind(null,i,h);h.then(y,y)}})}function nr(i,o){var f=o.deletions;if(f!==null)for(var h=0;h<f.length;h++){var y=f[h],w=i,E=o,O=E;e:for(;O!==null;){switch(O.tag){case 27:if(wa(O.type)){Rt=O.stateNode,tr=!1;break e}break;case 5:Rt=O.stateNode,tr=!1;break e;case 3:case 4:Rt=O.stateNode.containerInfo,tr=!0;break e}O=O.return}if(Rt===null)throw Error(r(160));f1(w,E,y),Rt=null,tr=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)p1(o,i),o=o.sibling}var Gr=null;function p1(i,o){var f=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:nr(o,i),rr(i),h&4&&(pa(3,i,i.return),Bo(3,i),pa(5,i,i.return));break;case 1:nr(o,i),rr(i),h&512&&(ln||f===null||is(f,f.return)),h&64&&zs&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?h:f.concat(h))));break;case 26:var y=Gr;if(nr(o,i),rr(i),h&512&&(ln||f===null||is(f,f.return)),h&4){var w=f!==null?f.memoizedState:null;if(h=i.memoizedState,f===null)if(h===null)if(i.stateNode===null){e:{h=i.type,f=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[ho]||w[En]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),Mn(w,h,f),w[En]=i,xn(w),h=w;break e;case"link":var E=pj("link","href",y).get(h+(f.href||""));if(E){for(var O=0;O<E.length;O++)if(w=E[O],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){E.splice(O,1);break t}}w=y.createElement(h),Mn(w,h,f),y.head.appendChild(w);break;case"meta":if(E=pj("meta","content",y).get(h+(f.content||""))){for(O=0;O<E.length;O++)if(w=E[O],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){E.splice(O,1);break t}}w=y.createElement(h),Mn(w,h,f),y.head.appendChild(w);break;default:throw Error(r(468,h))}w[En]=i,xn(w),h=w}i.stateNode=h}else gj(y,i.type,i.stateNode);else i.stateNode=hj(y,h,i.memoizedProps);else w!==h?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,h===null?gj(y,i.type,i.stateNode):hj(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&wp(i,i.memoizedProps,f.memoizedProps)}break;case 27:nr(o,i),rr(i),h&512&&(ln||f===null||is(f,f.return)),f!==null&&h&4&&wp(i,i.memoizedProps,f.memoizedProps);break;case 5:if(nr(o,i),rr(i),h&512&&(ln||f===null||is(f,f.return)),i.flags&32){y=i.stateNode;try{Yi(y,"")}catch(Se){yt(i,i.return,Se)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,wp(i,y,f!==null?f.memoizedProps:y)),h&1024&&(Sp=!0);break;case 6:if(nr(o,i),rr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,f=i.stateNode;try{f.nodeValue=h}catch(Se){yt(i,i.return,Se)}}break;case 3:if(yd=null,y=Gr,Gr=xd(o.containerInfo),nr(o,i),Gr=y,rr(i),h&4&&f!==null&&f.memoizedState.isDehydrated)try{Tl(o.containerInfo)}catch(Se){yt(i,i.return,Se)}Sp&&(Sp=!1,g1(i));break;case 4:h=Gr,Gr=xd(i.stateNode.containerInfo),nr(o,i),rr(i),Gr=h;break;case 12:nr(o,i),rr(i);break;case 31:nr(o,i),rr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,rd(i,h)));break;case 13:nr(o,i),rr(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ad=ye()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,rd(i,h)));break;case 22:y=i.memoizedState!==null;var $=f!==null&&f.memoizedState!==null,Q=zs,le=ln;if(zs=Q||y,ln=le||$,nr(o,i),ln=le,zs=Q,rr(i),h&8192)e:for(o=i.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(f===null||$||zs||ln||gi(i)),f=null,o=i;;){if(o.tag===5||o.tag===26){if(f===null){$=f=o;try{if(w=$.stateNode,y)E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{O=$.stateNode;var ue=$.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Se){yt($,$.return,Se)}}}else if(o.tag===6){if(f===null){$=o;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(Se){yt($,$.return,Se)}}}else if(o.tag===18){if(f===null){$=o;try{var se=$.stateNode;y?aj(se,!0):aj($.stateNode,!1)}catch(Se){yt($,$.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(f=h.retryQueue,f!==null&&(h.retryQueue=null,rd(i,f))));break;case 19:nr(o,i),rr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,rd(i,h)));break;case 30:break;case 21:break;default:nr(o,i),rr(i)}}function rr(i){var o=i.flags;if(o&2){try{for(var f,h=i.return;h!==null;){if(l1(h)){f=h;break}h=h.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var y=f.stateNode,w=Np(i);nd(i,w,y);break;case 5:var E=f.stateNode;f.flags&32&&(Yi(E,""),f.flags&=-33);var O=Np(i);nd(i,O,E);break;case 3:case 4:var $=f.stateNode.containerInfo,Q=Np(i);kp(i,Q,$);break;default:throw Error(r(161))}}catch(le){yt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function g1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;g1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Is(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)u1(i,o.alternate,o),o=o.sibling}function gi(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:pa(4,o,o.return),gi(o);break;case 1:is(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&a1(o,o.return,f),gi(o);break;case 27:Wo(o.stateNode);case 26:case 5:is(o,o.return),gi(o);break;case 22:o.memoizedState===null&&gi(o);break;case 30:gi(o);break;default:gi(o)}i=i.sibling}}function _s(i,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=i,w=o,E=w.flags;switch(w.tag){case 0:case 11:case 15:_s(y,w,f),Bo(4,w);break;case 1:if(_s(y,w,f),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Q){yt(h,h.return,Q)}if(h=w,y=h.updateQueue,y!==null){var O=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Ky($[y],O)}catch(Q){yt(h,h.return,Q)}}f&&E&64&&s1(w),$o(w,w.return);break;case 27:o1(w);case 26:case 5:_s(y,w,f),f&&h===null&&E&4&&i1(w),$o(w,w.return);break;case 12:_s(y,w,f);break;case 31:_s(y,w,f),f&&E&4&&m1(y,w);break;case 13:_s(y,w,f),f&&E&4&&h1(y,w);break;case 22:w.memoizedState===null&&_s(y,w,f),$o(w,w.return);break;case 30:break;default:_s(y,w,f)}o=o.sibling}}function Ep(i,o){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Co(f))}function Cp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Co(i))}function Kr(i,o,f,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)x1(i,o,f,h),o=o.sibling}function x1(i,o,f,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Kr(i,o,f,h),y&2048&&Bo(9,o);break;case 1:Kr(i,o,f,h);break;case 3:Kr(i,o,f,h),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Co(i)));break;case 12:if(y&2048){Kr(i,o,f,h),i=o.stateNode;try{var w=o.memoizedProps,E=w.id,O=w.onPostCommit;typeof O=="function"&&O(E,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch($){yt(o,o.return,$)}}else Kr(i,o,f,h);break;case 31:Kr(i,o,f,h);break;case 13:Kr(i,o,f,h);break;case 23:break;case 22:w=o.stateNode,E=o.alternate,o.memoizedState!==null?w._visibility&2?Kr(i,o,f,h):Fo(i,o):w._visibility&2?Kr(i,o,f,h):(w._visibility|=2,xl(i,o,f,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Ep(E,o);break;case 24:Kr(i,o,f,h),y&2048&&Cp(o.alternate,o);break;default:Kr(i,o,f,h)}}function xl(i,o,f,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,E=o,O=f,$=h,Q=E.flags;switch(E.tag){case 0:case 11:case 15:xl(w,E,O,$,y),Bo(8,E);break;case 23:break;case 22:var le=E.stateNode;E.memoizedState!==null?le._visibility&2?xl(w,E,O,$,y):Fo(w,E):(le._visibility|=2,xl(w,E,O,$,y)),y&&Q&2048&&Ep(E.alternate,E);break;case 24:xl(w,E,O,$,y),y&&Q&2048&&Cp(E.alternate,E);break;default:xl(w,E,O,$,y)}o=o.sibling}}function Fo(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=i,h=o,y=h.flags;switch(h.tag){case 22:Fo(f,h),y&2048&&Ep(h.alternate,h);break;case 24:Fo(f,h),y&2048&&Cp(h.alternate,h);break;default:Fo(f,h)}o=o.sibling}}var Vo=8192;function bl(i,o,f){if(i.subtreeFlags&Vo)for(i=i.child;i!==null;)b1(i,o,f),i=i.sibling}function b1(i,o,f){switch(i.tag){case 26:bl(i,o,f),i.flags&Vo&&i.memoizedState!==null&&eM(f,Gr,i.memoizedState,i.memoizedProps);break;case 5:bl(i,o,f);break;case 3:case 4:var h=Gr;Gr=xd(i.stateNode.containerInfo),bl(i,o,f),Gr=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Vo,Vo=16777216,bl(i,o,f),Vo=h):bl(i,o,f));break;default:bl(i,o,f)}}function y1(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ho(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var h=o[f];bn=h,j1(h,i)}y1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v1(i),i=i.sibling}function v1(i){switch(i.tag){case 0:case 11:case 15:Ho(i),i.flags&2048&&pa(9,i,i.return);break;case 3:Ho(i);break;case 12:Ho(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,sd(i)):Ho(i);break;default:Ho(i)}}function sd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var h=o[f];bn=h,j1(h,i)}y1(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:pa(8,o,o.return),sd(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,sd(o));break;default:sd(o)}i=i.sibling}}function j1(i,o){for(;bn!==null;){var f=bn;switch(f.tag){case 0:case 11:case 15:pa(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var h=f.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Co(f.memoizedState.cache)}if(h=f.child,h!==null)h.return=f,bn=h;else e:for(f=i;bn!==null;){h=bn;var y=h.sibling,w=h.return;if(d1(h),h===f){bn=null;break e}if(y!==null){y.return=w,bn=y;break e}bn=w}}}var p4={getCacheForType:function(i){var o=Tn(rn),f=o.data.get(i);return f===void 0&&(f=i(),o.data.set(i,f)),f},cacheSignal:function(){return Tn(rn).controller.signal}},g4=typeof WeakMap=="function"?WeakMap:Map,mt=0,Ct=null,nt=null,st=0,bt=0,br=null,ga=!1,yl=!1,Tp=!1,Rs=0,Vt=0,xa=0,xi=0,Ap=0,yr=0,vl=0,qo=null,sr=null,Mp=!1,ad=0,w1=0,id=1/0,ld=null,ba=null,hn=0,ya=null,jl=null,Ls=0,Op=0,zp=null,N1=null,Go=0,Dp=null;function vr(){return(mt&2)!==0&&st!==0?st&-st:B.T!==null?Pp():Pb()}function k1(){if(yr===0)if((st&536870912)===0||it){var i=pu;pu<<=1,(pu&3932160)===0&&(pu=262144),yr=i}else yr=536870912;return i=gr.current,i!==null&&(i.flags|=32),yr}function ar(i,o,f){(i===Ct&&(bt===2||bt===9)||i.cancelPendingCommit!==null)&&(wl(i,0),va(i,st,yr,!1)),mo(i,f),((mt&2)===0||i!==Ct)&&(i===Ct&&((mt&2)===0&&(xi|=f),Vt===4&&va(i,st,yr,!1)),ls(i))}function S1(i,o,f){if((mt&6)!==0)throw Error(r(327));var h=!f&&(o&127)===0&&(o&i.expiredLanes)===0||fo(i,o),y=h?y4(i,o):_p(i,o,!0),w=h;do{if(y===0){yl&&!h&&va(i,o,0,!1);break}else{if(f=i.current.alternate,w&&!x4(f)){y=_p(i,o,!1),w=!1;continue}if(y===2){if(w=o,i.errorRecoveryDisabledLanes&w)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var O=i;y=qo;var $=O.current.memoizedState.isDehydrated;if($&&(wl(O,E).flags|=256),E=_p(O,E,!1),E!==2){if(Tp&&!$){O.errorRecoveryDisabledLanes|=w,xi|=w,y=4;break e}w=sr,sr=y,w!==null&&(sr===null?sr=w:sr.push.apply(sr,w))}y=E}if(w=!1,y!==2)continue}}if(y===1){wl(i,0),va(i,o,0,!0);break}e:{switch(h=i,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:va(h,o,yr,!ga);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=ad+300-ye(),10<y)){if(va(h,o,yr,!ga),xu(h,0,!0)!==0)break e;Ls=o,h.timeoutHandle=nj(E1.bind(null,h,f,sr,ld,Mp,o,yr,xi,vl,ga,w,"Throttled",-0,0),y);break e}E1(h,f,sr,ld,Mp,o,yr,xi,vl,ga,w,null,-0,0)}}break}while(!0);ls(i)}function E1(i,o,f,h,y,w,E,O,$,Q,le,ue,ne,se){if(i.timeoutHandle=-1,ue=o.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ws},b1(o,w,ue);var Se=(w&62914560)===w?ad-ye():(w&4194048)===w?w1-ye():0;if(Se=tM(ue,Se),Se!==null){Ls=w,i.cancelPendingCommit=Se(I1.bind(null,i,o,w,f,h,y,E,O,$,le,ue,null,ne,se)),va(i,w,E,!Q);return}}I1(i,o,w,f,h,y,E,O,$)}function x4(i){for(var o=i;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var h=0;h<f.length;h++){var y=f[h],w=y.getSnapshot;y=y.value;try{if(!hr(w(),y))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function va(i,o,f,h){o&=~Ap,o&=~xi,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var y=o;0<y;){var w=31-Rn(y),E=1<<w;h[w]=-1,y&=~E}f!==0&&Rb(i,f,o)}function od(){return(mt&6)===0?(Ko(0),!1):!0}function Ip(){if(nt!==null){if(bt===0)var i=nt.return;else i=nt,Es=oi=null,Wh(i),fl=null,Ao=0,i=nt;for(;i!==null;)r1(i.alternate,i),i=i.return;nt=null}}function wl(i,o){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,L4(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),Ls=0,Ip(),Ct=i,nt=f=ks(i.current,null),st=o,bt=0,br=null,ga=!1,yl=fo(i,o),Tp=!1,vl=yr=Ap=xi=xa=Vt=0,sr=qo=null,Mp=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var y=31-Rn(h),w=1<<y;o|=i[y],h&=~w}return Rs=o,Au(),f}function C1(i,o){We=null,B.H=Lo,o===dl||o===Lu?(o=Vy(),bt=3):o===Uh?(o=Vy(),bt=4):bt=o===fp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,br=o,nt===null&&(Vt=1,Yu(i,Mr(o,i.current)))}function T1(){var i=gr.current;return i===null?!0:(st&4194048)===st?Ir===null:(st&62914560)===st||(st&536870912)!==0?i===Ir:!1}function A1(){var i=B.H;return B.H=Lo,i===null?Lo:i}function M1(){var i=B.A;return B.A=p4,i}function cd(){Vt=4,ga||(st&4194048)!==st&&gr.current!==null||(yl=!0),(xa&134217727)===0&&(xi&134217727)===0||Ct===null||va(Ct,st,yr,!1)}function _p(i,o,f){var h=mt;mt|=2;var y=A1(),w=M1();(Ct!==i||st!==o)&&(ld=null,wl(i,o)),o=!1;var E=Vt;e:do try{if(bt!==0&&nt!==null){var O=nt,$=br;switch(bt){case 8:Ip(),E=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(o=!0);var Q=bt;if(bt=0,br=null,Nl(i,O,$,Q),f&&yl){E=0;break e}break;default:Q=bt,bt=0,br=null,Nl(i,O,$,Q)}}b4(),E=Vt;break}catch(le){C1(i,le)}while(!0);return o&&i.shellSuspendCounter++,Es=oi=null,mt=h,B.H=y,B.A=w,nt===null&&(Ct=null,st=0,Au()),E}function b4(){for(;nt!==null;)O1(nt)}function y4(i,o){var f=mt;mt|=2;var h=A1(),y=M1();Ct!==i||st!==o?(ld=null,id=ye()+500,wl(i,o)):yl=fo(i,o);e:do try{if(bt!==0&&nt!==null){o=nt;var w=br;t:switch(bt){case 1:bt=0,br=null,Nl(i,o,w,1);break;case 2:case 9:if($y(w)){bt=0,br=null,z1(o);break}o=function(){bt!==2&&bt!==9||Ct!==i||(bt=7),ls(i)},w.then(o,o);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:$y(w)?(bt=0,br=null,z1(o)):(bt=0,br=null,Nl(i,o,w,7));break;case 5:var E=null;switch(nt.tag){case 26:E=nt.memoizedState;case 5:case 27:var O=nt;if(E?xj(E):O.stateNode.complete){bt=0,br=null;var $=O.sibling;if($!==null)nt=$;else{var Q=O.return;Q!==null?(nt=Q,ud(Q)):nt=null}break t}}bt=0,br=null,Nl(i,o,w,5);break;case 6:bt=0,br=null,Nl(i,o,w,6);break;case 8:Ip(),Vt=6;break e;default:throw Error(r(462))}}v4();break}catch(le){C1(i,le)}while(!0);return Es=oi=null,B.H=h,B.A=y,mt=f,nt!==null?0:(Ct=null,st=0,Au(),Vt)}function v4(){for(;nt!==null&&!ie();)O1(nt)}function O1(i){var o=t1(i.alternate,i,Rs);i.memoizedProps=i.pendingProps,o===null?ud(i):nt=o}function z1(i){var o=i,f=o.alternate;switch(o.tag){case 15:case 0:o=Jv(f,o,o.pendingProps,o.type,void 0,st);break;case 11:o=Jv(f,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:Wh(o);default:r1(f,o),o=nt=My(o,Rs),o=t1(f,o,Rs)}i.memoizedProps=i.pendingProps,o===null?ud(i):nt=o}function Nl(i,o,f,h){Es=oi=null,Wh(o),fl=null,Ao=0;var y=o.return;try{if(o4(i,y,o,f,st)){Vt=1,Yu(i,Mr(f,i.current)),nt=null;return}}catch(w){if(y!==null)throw nt=y,w;Vt=1,Yu(i,Mr(f,i.current)),nt=null;return}o.flags&32768?(it||h===1?i=!0:yl||(st&536870912)!==0?i=!1:(ga=i=!0,(h===2||h===9||h===3||h===6)&&(h=gr.current,h!==null&&h.tag===13&&(h.flags|=16384))),D1(o,i)):ud(o)}function ud(i){var o=i;do{if((o.flags&32768)!==0){D1(o,ga);return}i=o.return;var f=d4(o.alternate,o,Rs);if(f!==null){nt=f;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=i}while(o!==null);Vt===0&&(Vt=5)}function D1(i,o){do{var f=f4(i.alternate,i);if(f!==null){f.flags&=32767,nt=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(i=i.sibling,i!==null)){nt=i;return}nt=i=f}while(i!==null);Vt=6,nt=null}function I1(i,o,f,h,y,w,E,O,$){i.cancelPendingCommit=null;do dd();while(hn!==0);if((mt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=Nh,XT(i,f,w,E,O,$),i===Ct&&(nt=Ct=null,st=0),jl=o,ya=i,Ls=f,Op=w,zp=y,N1=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,k4(ft,function(){return P1(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,y=Y.p,Y.p=2,E=mt,mt|=4;try{m4(i,o,f)}finally{mt=E,Y.p=y,B.T=h}}hn=1,_1(),R1(),L1()}}function _1(){if(hn===1){hn=0;var i=ya,o=jl,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=B.T,B.T=null;var h=Y.p;Y.p=2;var y=mt;mt|=4;try{p1(o,i);var w=Kp,E=jy(i.containerInfo),O=w.focusedElem,$=w.selectionRange;if(E!==O&&O&&O.ownerDocument&&vy(O.ownerDocument.documentElement,O)){if($!==null&&bh(O)){var Q=$.start,le=$.end;if(le===void 0&&(le=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(le,O.value.length);else{var ue=O.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),Se=O.textContent.length,Ve=Math.min($.start,Se),St=$.end===void 0?Ve:Math.min($.end,Se);!se.extend&&Ve>St&&(E=St,St=Ve,Ve=E);var Z=yy(O,Ve),H=yy(O,St);if(Z&&H&&(se.rangeCount!==1||se.anchorNode!==Z.node||se.anchorOffset!==Z.offset||se.focusNode!==H.node||se.focusOffset!==H.offset)){var W=ue.createRange();W.setStart(Z.node,Z.offset),se.removeAllRanges(),Ve>St?(se.addRange(W),se.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),se.addRange(W))}}}}for(ue=[],se=O;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var ce=ue[O];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Nd=!!Gp,Kp=Gp=null}finally{mt=y,Y.p=h,B.T=f}}i.current=o,hn=2}}function R1(){if(hn===2){hn=0;var i=ya,o=jl,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=B.T,B.T=null;var h=Y.p;Y.p=2;var y=mt;mt|=4;try{u1(i,o.alternate,o)}finally{mt=y,Y.p=h,B.T=f}}hn=3}}function L1(){if(hn===4||hn===3){hn=0,Ne();var i=ya,o=jl,f=Ls,h=N1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?hn=5:(hn=0,jl=ya=null,U1(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(ba=null),Xm(f),o=o.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(vs,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=B.T,y=Y.p,Y.p=2,B.T=null;try{for(var w=i.onRecoverableError,E=0;E<h.length;E++){var O=h[E];w(O.value,{componentStack:O.stack})}}finally{B.T=o,Y.p=y}}(Ls&3)!==0&&dd(),ls(i),y=i.pendingLanes,(f&261930)!==0&&(y&42)!==0?i===Dp?Go++:(Go=0,Dp=i):Go=0,Ko(0)}}function U1(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Co(o)))}function dd(){return _1(),R1(),L1(),P1()}function P1(){if(hn!==5)return!1;var i=ya,o=Op;Op=0;var f=Xm(Ls),h=B.T,y=Y.p;try{Y.p=32>f?32:f,B.T=null,f=zp,zp=null;var w=ya,E=Ls;if(hn=0,jl=ya=null,Ls=0,(mt&6)!==0)throw Error(r(331));var O=mt;if(mt|=4,v1(w.current),x1(w,w.current,E,f),mt=O,Ko(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(vs,w)}catch{}return!0}finally{Y.p=y,B.T=h,U1(i,o)}}function B1(i,o,f){o=Mr(f,o),o=dp(i.stateNode,o,2),i=fa(i,o,2),i!==null&&(mo(i,2),ls(i))}function yt(i,o,f){if(i.tag===3)B1(i,i,f);else for(;o!==null;){if(o.tag===3){B1(o,i,f);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ba===null||!ba.has(h))){i=Mr(f,i),f=$v(2),h=fa(o,f,2),h!==null&&(Fv(f,h,o,i),mo(h,2),ls(h));break}}o=o.return}}function Rp(i,o,f){var h=i.pingCache;if(h===null){h=i.pingCache=new g4;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(f)||(Tp=!0,y.add(f),i=j4.bind(null,i,o,f),o.then(i,i))}function j4(i,o,f){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Ct===i&&(st&f)===f&&(Vt===4||Vt===3&&(st&62914560)===st&&300>ye()-ad?(mt&2)===0&&wl(i,0):Ap|=f,vl===st&&(vl=0)),ls(i)}function $1(i,o){o===0&&(o=_b()),i=ai(i,o),i!==null&&(mo(i,o),ls(i))}function w4(i){var o=i.memoizedState,f=0;o!==null&&(f=o.retryLane),$1(i,f)}function N4(i,o){var f=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(f=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),$1(i,f)}function k4(i,o){return F(i,o)}var fd=null,kl=null,Lp=!1,md=!1,Up=!1,ja=0;function ls(i){i!==kl&&i.next===null&&(kl===null?fd=kl=i:kl=kl.next=i),md=!0,Lp||(Lp=!0,E4())}function Ko(i,o){if(!Up&&md){Up=!0;do for(var f=!1,h=fd;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var E=h.suspendedLanes,O=h.pingedLanes;w=(1<<31-Rn(42|i)+1)-1,w&=y&~(E&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,q1(h,w))}else w=st,w=xu(h,h===Ct?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||fo(h,w)||(f=!0,q1(h,w));h=h.next}while(f);Up=!1}}function S4(){F1()}function F1(){md=Lp=!1;var i=0;ja!==0&&R4()&&(i=ja);for(var o=ye(),f=null,h=fd;h!==null;){var y=h.next,w=V1(h,o);w===0?(h.next=null,f===null?fd=y:f.next=y,y===null&&(kl=f)):(f=h,(i!==0||(w&3)!==0)&&(md=!0)),h=y}hn!==0&&hn!==5||Ko(i),ja!==0&&(ja=0)}function V1(i,o){for(var f=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var E=31-Rn(w),O=1<<E,$=y[E];$===-1?((O&f)===0||(O&h)!==0)&&(y[E]=QT(O,o)):$<=o&&(i.expiredLanes|=O),w&=~O}if(o=Ct,f=st,f=xu(i,i===o?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,f===0||i===o&&(bt===2||bt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&J(h),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||fo(i,f)){if(o=f&-f,o===i.callbackPriority)return o;switch(h!==null&&J(h),Xm(f)){case 2:case 8:f=ct;break;case 32:f=ft;break;case 268435456:f=Xa;break;default:f=ft}return h=H1.bind(null,i),f=F(f,h),i.callbackPriority=o,i.callbackNode=f,o}return h!==null&&h!==null&&J(h),i.callbackPriority=2,i.callbackNode=null,2}function H1(i,o){if(hn!==0&&hn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(dd()&&i.callbackNode!==f)return null;var h=st;return h=xu(i,i===Ct?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(S1(i,h,o),V1(i,ye()),i.callbackNode!=null&&i.callbackNode===f?H1.bind(null,i):null)}function q1(i,o){if(dd())return null;S1(i,o,!0)}function E4(){U4(function(){(mt&6)!==0?F(Ie,S4):F1()})}function Pp(){if(ja===0){var i=cl;i===0&&(i=hu,hu<<=1,(hu&261888)===0&&(hu=256)),ja=i}return ja}function G1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ju(""+i)}function K1(i,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,i.id&&f.setAttribute("form",i.id),o.parentNode.insertBefore(f,o),i=new FormData(i),f.parentNode.removeChild(f),i}function C4(i,o,f,h,y){if(o==="submit"&&f&&f.stateNode===y){var w=G1((y[Xn]||null).action),E=h.submitter;E&&(o=(o=E[Xn]||null)?G1(o.formAction):E.getAttribute("formAction"),o!==null&&(w=o,E=null));var O=new Su("action","action",null,h,y);i.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ja!==0){var $=E?K1(y,E):new FormData(y);ap(f,{pending:!0,data:$,method:y.method,action:w},null,$)}}else typeof w=="function"&&(O.preventDefault(),$=E?K1(y,E):new FormData(y),ap(f,{pending:!0,data:$,method:y.method,action:w},w,$))},currentTarget:y}]})}}for(var Bp=0;Bp<wh.length;Bp++){var $p=wh[Bp],T4=$p.toLowerCase(),A4=$p[0].toUpperCase()+$p.slice(1);qr(T4,"on"+A4)}qr(ky,"onAnimationEnd"),qr(Sy,"onAnimationIteration"),qr(Ey,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(qA,"onTransitionRun"),qr(GA,"onTransitionStart"),qr(KA,"onTransitionCancel"),qr(Cy,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function Z1(i,o){o=(o&4)!==0;for(var f=0;f<i.length;f++){var h=i[f],y=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var E=h.length-1;0<=E;E--){var O=h[E],$=O.instance,Q=O.currentTarget;if(O=O.listener,$!==w&&y.isPropagationStopped())break e;w=O,y.currentTarget=Q;try{w(y)}catch(le){Tu(le)}y.currentTarget=null,w=$}else for(E=0;E<h.length;E++){if(O=h[E],$=O.instance,Q=O.currentTarget,O=O.listener,$!==w&&y.isPropagationStopped())break e;w=O,y.currentTarget=Q;try{w(y)}catch(le){Tu(le)}y.currentTarget=null,w=$}}}}function rt(i,o){var f=o[eh];f===void 0&&(f=o[eh]=new Set);var h=i+"__bubble";f.has(h)||(J1(o,i,2,!1),f.add(h))}function Fp(i,o,f){var h=0;o&&(h|=4),J1(f,i,h,o)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Vp(i){if(!i[hd]){i[hd]=!0,Fb.forEach(function(f){f!=="selectionchange"&&(M4.has(f)||Fp(f,!1,i),Fp(f,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[hd]||(o[hd]=!0,Fp("selectionchange",!1,o))}}function J1(i,o,f,h){switch(kj(o)){case 2:var y=sM;break;case 8:y=aM;break;default:y=sg}f=y.bind(null,o,f,i),y=void 0,!ch||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(o,f,{capture:!0,passive:y}):i.addEventListener(o,f,!0):y!==void 0?i.addEventListener(o,f,{passive:y}):i.addEventListener(o,f,!1)}function Hp(i,o,f,h,y){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var O=h.stateNode.containerInfo;if(O===y)break;if(E===4)for(E=h.return;E!==null;){var $=E.tag;if(($===3||$===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;O!==null;){if(E=Gi(O),E===null)return;if($=E.tag,$===5||$===6||$===26||$===27){h=w=E;continue e}O=O.parentNode}}h=h.return}ey(function(){var Q=w,le=lh(f),ue=[];e:{var ne=Ty.get(i);if(ne!==void 0){var se=Su,Se=i;switch(i){case"keypress":if(Nu(f)===0)break e;case"keydown":case"keyup":se=NA;break;case"focusin":Se="focus",se=mh;break;case"focusout":Se="blur",se=mh;break;case"beforeblur":case"afterblur":se=mh;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=dA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=EA;break;case ky:case Sy:case Ey:se=hA;break;case Cy:se=TA;break;case"scroll":case"scrollend":se=cA;break;case"wheel":se=MA;break;case"copy":case"cut":case"paste":se=gA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=ay;break;case"toggle":case"beforetoggle":se=zA}var Ve=(o&4)!==0,St=!Ve&&(i==="scroll"||i==="scrollend"),Z=Ve?ne!==null?ne+"Capture":null:ne;Ve=[];for(var H=Q,W;H!==null;){var ce=H;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||Z===null||(ce=go(H,Z),ce!=null&&Ve.push(Jo(H,ce,W))),St)break;H=H.return}0<Ve.length&&(ne=new se(ne,Se,null,f,le),ue.push({event:ne,listeners:Ve}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",ne&&f!==ih&&(Se=f.relatedTarget||f.fromElement)&&(Gi(Se)||Se[qi]))break e;if((se||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(Se=f.relatedTarget||f.toElement,se=Q,Se=Se?Gi(Se):null,Se!==null&&(St=l(Se),Ve=Se.tag,Se!==St||Ve!==5&&Ve!==27&&Ve!==6)&&(Se=null)):(se=null,Se=Q),se!==Se)){if(Ve=ry,ce="onMouseLeave",Z="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=ay,ce="onPointerLeave",Z="onPointerEnter",H="pointer"),St=se==null?ne:po(se),W=Se==null?ne:po(Se),ne=new Ve(ce,H+"leave",se,f,le),ne.target=St,ne.relatedTarget=W,ce=null,Gi(le)===Q&&(Ve=new Ve(Z,H+"enter",Se,f,le),Ve.target=W,Ve.relatedTarget=St,ce=Ve),St=ce,se&&Se)t:{for(Ve=O4,Z=se,H=Se,W=0,ce=Z;ce;ce=Ve(ce))W++;ce=0;for(var Re=H;Re;Re=Ve(Re))ce++;for(;0<W-ce;)Z=Ve(Z),W--;for(;0<ce-W;)H=Ve(H),ce--;for(;W--;){if(Z===H||H!==null&&Z===H.alternate){Ve=Z;break t}Z=Ve(Z),H=Ve(H)}Ve=null}else Ve=null;se!==null&&W1(ue,ne,se,Ve,!1),Se!==null&&St!==null&&W1(ue,St,Se,Ve,!0)}}e:{if(ne=Q?po(Q):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var ut=my;else if(dy(ne))if(hy)ut=FA;else{ut=BA;var ze=PA}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Q&&ah(Q.elementType)&&(ut=my):ut=$A;if(ut&&(ut=ut(i,Q))){fy(ue,ut,f,le);break e}ze&&ze(i,ne,Q),i==="focusout"&&Q&&ne.type==="number"&&Q.memoizedProps.value!=null&&sh(ne,"number",ne.value)}switch(ze=Q?po(Q):window,i){case"focusin":(dy(ze)||ze.contentEditable==="true")&&(tl=ze,yh=Q,ko=null);break;case"focusout":ko=yh=tl=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,wy(ue,f,le);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":wy(ue,f,le)}var Ye;if(ph)e:{switch(i){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else el?cy(i,f)&&(at="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(at="onCompositionStart");at&&(iy&&f.locale!=="ko"&&(el||at!=="onCompositionStart"?at==="onCompositionEnd"&&el&&(Ye=ty()):(aa=le,uh="value"in aa?aa.value:aa.textContent,el=!0)),ze=pd(Q,at),0<ze.length&&(at=new sy(at,i,null,f,le),ue.push({event:at,listeners:ze}),Ye?at.data=Ye:(Ye=uy(f),Ye!==null&&(at.data=Ye)))),(Ye=IA?_A(i,f):RA(i,f))&&(at=pd(Q,"onBeforeInput"),0<at.length&&(ze=new sy("onBeforeInput","beforeinput",null,f,le),ue.push({event:ze,listeners:at}),ze.data=Ye)),C4(ue,i,Q,f,le)}Z1(ue,o)})}function Jo(i,o,f){return{instance:i,listener:o,currentTarget:f}}function pd(i,o){for(var f=o+"Capture",h=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=go(i,f),y!=null&&h.unshift(Jo(i,y,w)),y=go(i,o),y!=null&&h.push(Jo(i,y,w))),i.tag===3)return h;i=i.return}return[]}function O4(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function W1(i,o,f,h,y){for(var w=o._reactName,E=[];f!==null&&f!==h;){var O=f,$=O.alternate,Q=O.stateNode;if(O=O.tag,$!==null&&$===h)break;O!==5&&O!==26&&O!==27||Q===null||($=Q,y?(Q=go(f,w),Q!=null&&E.unshift(Jo(f,Q,$))):y||(Q=go(f,w),Q!=null&&E.push(Jo(f,Q,$)))),f=f.return}E.length!==0&&i.push({event:o,listeners:E})}var z4=/\r\n?/g,D4=/\u0000|\uFFFD/g;function Y1(i){return(typeof i=="string"?i:""+i).replace(z4,`
`).replace(D4,"")}function Q1(i,o){return o=Y1(o),Y1(i)===o}function kt(i,o,f,h,y,w){switch(f){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Yi(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Yi(i,""+h);break;case"className":yu(i,"class",h);break;case"tabIndex":yu(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":yu(i,f,h);break;case"style":Qb(i,h,w);break;case"data":if(o!=="object"){yu(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||f!=="href")){i.removeAttribute(f);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=ju(""+h),i.setAttribute(f,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(o!=="input"&&kt(i,o,"name",y.name,y,null),kt(i,o,"formEncType",y.formEncType,y,null),kt(i,o,"formMethod",y.formMethod,y,null),kt(i,o,"formTarget",y.formTarget,y,null)):(kt(i,o,"encType",y.encType,y,null),kt(i,o,"method",y.method,y,null),kt(i,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(f);break}h=ju(""+h),i.setAttribute(f,h);break;case"onClick":h!=null&&(i.onclick=ws);break;case"onScroll":h!=null&&rt("scroll",i);break;case"onScrollEnd":h!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}f=ju(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""+h):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":h===!0?i.setAttribute(f,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(f,h):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(f,h):i.removeAttribute(f);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(f):i.setAttribute(f,h);break;case"popover":rt("beforetoggle",i),rt("toggle",i),bu(i,"popover",h);break;case"xlinkActuate":js(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":js(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":js(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":js(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":js(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":js(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":js(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":js(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":js(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":bu(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=lA.get(f)||f,bu(i,f,h))}}function qp(i,o,f,h,y,w){switch(f){case"style":Qb(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(f=h.__html,f!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof h=="string"?Yi(i,h):(typeof h=="number"||typeof h=="bigint")&&Yi(i,""+h);break;case"onScroll":h!=null&&rt("scroll",i);break;case"onScrollEnd":h!=null&&rt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vb.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),o=f.slice(2,y?f.length-7:void 0),w=i[Xn]||null,w=w!=null?w[f]:null,typeof w=="function"&&i.removeEventListener(o,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(o,h,y);break e}f in i?i[f]=h:h===!0?i.setAttribute(f,""):bu(i,f,h)}}}function Mn(i,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var h=!1,y=!1,w;for(w in f)if(f.hasOwnProperty(w)){var E=f[w];if(E!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kt(i,o,w,E,f,null)}}y&&kt(i,o,"srcSet",f.srcSet,f,null),h&&kt(i,o,"src",f.src,f,null);return;case"input":rt("invalid",i);var O=w=E=y=null,$=null,Q=null;for(h in f)if(f.hasOwnProperty(h)){var le=f[h];if(le!=null)switch(h){case"name":y=le;break;case"type":E=le;break;case"checked":$=le;break;case"defaultChecked":Q=le;break;case"value":w=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:kt(i,o,h,le,f,null)}}Zb(i,w,O,$,Q,E,y,!1);return;case"select":rt("invalid",i),h=E=w=null;for(y in f)if(f.hasOwnProperty(y)&&(O=f[y],O!=null))switch(y){case"value":w=O;break;case"defaultValue":E=O;break;case"multiple":h=O;default:kt(i,o,y,O,f,null)}o=w,f=E,i.multiple=!!h,o!=null?Wi(i,!!h,o,!1):f!=null&&Wi(i,!!h,f,!0);return;case"textarea":rt("invalid",i),w=y=h=null;for(E in f)if(f.hasOwnProperty(E)&&(O=f[E],O!=null))switch(E){case"value":h=O;break;case"defaultValue":y=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:kt(i,o,E,O,f,null)}Wb(i,h,y,w);return;case"option":for($ in f)if(f.hasOwnProperty($)&&(h=f[$],h!=null))switch($){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:kt(i,o,$,h,f,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(h=0;h<Zo.length;h++)rt(Zo[h],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(h=f[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kt(i,o,Q,h,f,null)}return;default:if(ah(o)){for(le in f)f.hasOwnProperty(le)&&(h=f[le],h!==void 0&&qp(i,o,le,h,f,void 0));return}}for(O in f)f.hasOwnProperty(O)&&(h=f[O],h!=null&&kt(i,o,O,h,f,null))}function I4(i,o,f,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,E=null,O=null,$=null,Q=null,le=null;for(se in f){var ue=f[se];if(f.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":$=ue;default:h.hasOwnProperty(se)||kt(i,o,se,null,h,ue)}}for(var ne in h){var se=h[ne];if(ue=f[ne],h.hasOwnProperty(ne)&&(se!=null||ue!=null))switch(ne){case"type":w=se;break;case"name":y=se;break;case"checked":Q=se;break;case"defaultChecked":le=se;break;case"value":E=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==ue&&kt(i,o,ne,se,h,ue)}}rh(i,E,O,$,Q,le,w,y);return;case"select":se=E=O=ne=null;for(w in f)if($=f[w],f.hasOwnProperty(w)&&$!=null)switch(w){case"value":break;case"multiple":se=$;default:h.hasOwnProperty(w)||kt(i,o,w,null,h,$)}for(y in h)if(w=h[y],$=f[y],h.hasOwnProperty(y)&&(w!=null||$!=null))switch(y){case"value":ne=w;break;case"defaultValue":O=w;break;case"multiple":E=w;default:w!==$&&kt(i,o,y,w,h,$)}o=O,f=E,h=se,ne!=null?Wi(i,!!f,ne,!1):!!h!=!!f&&(o!=null?Wi(i,!!f,o,!0):Wi(i,!!f,f?[]:"",!1));return;case"textarea":se=ne=null;for(O in f)if(y=f[O],f.hasOwnProperty(O)&&y!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:kt(i,o,O,null,h,y)}for(E in h)if(y=h[E],w=f[E],h.hasOwnProperty(E)&&(y!=null||w!=null))switch(E){case"value":ne=y;break;case"defaultValue":se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&kt(i,o,E,y,h,w)}Jb(i,ne,se);return;case"option":for(var Se in f)if(ne=f[Se],f.hasOwnProperty(Se)&&ne!=null&&!h.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:kt(i,o,Se,null,h,ne)}for($ in h)if(ne=h[$],se=f[$],h.hasOwnProperty($)&&ne!==se&&(ne!=null||se!=null))switch($){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:kt(i,o,$,ne,h,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in f)ne=f[Ve],f.hasOwnProperty(Ve)&&ne!=null&&!h.hasOwnProperty(Ve)&&kt(i,o,Ve,null,h,ne);for(Q in h)if(ne=h[Q],se=f[Q],h.hasOwnProperty(Q)&&ne!==se&&(ne!=null||se!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:kt(i,o,Q,ne,h,se)}return;default:if(ah(o)){for(var St in f)ne=f[St],f.hasOwnProperty(St)&&ne!==void 0&&!h.hasOwnProperty(St)&&qp(i,o,St,void 0,h,ne);for(le in h)ne=h[le],se=f[le],!h.hasOwnProperty(le)||ne===se||ne===void 0&&se===void 0||qp(i,o,le,ne,h,se);return}}for(var Z in f)ne=f[Z],f.hasOwnProperty(Z)&&ne!=null&&!h.hasOwnProperty(Z)&&kt(i,o,Z,null,h,ne);for(ue in h)ne=h[ue],se=f[ue],!h.hasOwnProperty(ue)||ne===se||ne==null&&se==null||kt(i,o,ue,ne,h,se)}function X1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,f=performance.getEntriesByType("resource"),h=0;h<f.length;h++){var y=f[h],w=y.transferSize,E=y.initiatorType,O=y.duration;if(w&&O&&X1(E)){for(E=0,O=y.responseEnd,h+=1;h<f.length;h++){var $=f[h],Q=$.startTime;if(Q>O)break;var le=$.transferSize,ue=$.initiatorType;le&&X1(ue)&&($=$.responseEnd,E+=le*($<O?1:(O-Q)/($-Q)))}if(--h,o+=8*(w+E)/(y.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Gp=null,Kp=null;function gd(i){return i.nodeType===9?i:i.ownerDocument}function ej(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tj(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Zp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jp=null;function R4(){var i=window.event;return i&&i.type==="popstate"?i===Jp?!1:(Jp=i,!0):(Jp=null,!1)}var nj=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0,rj=typeof Promise=="function"?Promise:void 0,U4=typeof queueMicrotask=="function"?queueMicrotask:typeof rj<"u"?function(i){return rj.resolve(null).then(i).catch(P4)}:nj;function P4(i){setTimeout(function(){throw i})}function wa(i){return i==="head"}function sj(i,o){var f=o,h=0;do{var y=f.nextSibling;if(i.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"||f==="/&"){if(h===0){i.removeChild(y),Tl(o);return}h--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")h++;else if(f==="html")Wo(i.ownerDocument.documentElement);else if(f==="head"){f=i.ownerDocument.head,Wo(f);for(var w=f.firstChild;w;){var E=w.nextSibling,O=w.nodeName;w[ho]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=E}}else f==="body"&&Wo(i.ownerDocument.body);f=y}while(f);Tl(o)}function aj(i,o){var f=i;i=0;do{var h=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),h&&h.nodeType===8)if(f=h.data,f==="/$"){if(i===0)break;i--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||i++;f=h}while(f)}function Wp(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Wp(f),th(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function B4(i,o,f,h){for(;i.nodeType===1;){var y=f;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ho])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=_r(i.nextSibling),i===null)break}return null}function $4(i,o,f){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=_r(i.nextSibling),i===null))return null;return i}function ij(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=_r(i.nextSibling),i===null))return null;return i}function Yp(i){return i.data==="$?"||i.data==="$~"}function Qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function F4(i,o){var f=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||f.readyState!=="loading")o();else{var h=function(){o(),f.removeEventListener("DOMContentLoaded",h)};f.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function _r(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Xp=null;function lj(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"||f==="/&"){if(o===0)return _r(i.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}i=i.nextSibling}return null}function oj(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return i;o--}else f!=="/$"&&f!=="/&"||o++}i=i.previousSibling}return null}function cj(i,o,f){switch(o=gd(f),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Wo(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);th(i)}var Rr=new Map,uj=new Set;function xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Us=Y.d;Y.d={f:V4,r:H4,D:q4,C:G4,L:K4,m:Z4,X:W4,S:J4,M:Y4};function V4(){var i=Us.f(),o=od();return i||o}function H4(i){var o=Ki(i);o!==null&&o.tag===5&&o.type==="form"?Cv(o):Us.r(i)}var Sl=typeof document>"u"?null:document;function dj(i,o,f){var h=Sl;if(h&&typeof o=="string"&&o){var y=Tr(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),uj.has(y)||(uj.add(y),i={rel:i,crossOrigin:f,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Mn(o,"link",i),xn(o),h.head.appendChild(o)))}}function q4(i){Us.D(i),dj("dns-prefetch",i,null)}function G4(i,o){Us.C(i,o),dj("preconnect",i,o)}function K4(i,o,f){Us.L(i,o,f);var h=Sl;if(h&&i&&o){var y='link[rel="preload"][as="'+Tr(o)+'"]';o==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+Tr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+Tr(f.imageSizes)+'"]')):y+='[href="'+Tr(i)+'"]';var w=y;switch(o){case"style":w=El(i);break;case"script":w=Cl(i)}Rr.has(w)||(i=g({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:i,as:o},f),Rr.set(w,i),h.querySelector(y)!==null||o==="style"&&h.querySelector(Yo(w))||o==="script"&&h.querySelector(Qo(w))||(o=h.createElement("link"),Mn(o,"link",i),xn(o),h.head.appendChild(o)))}}function Z4(i,o){Us.m(i,o);var f=Sl;if(f&&i){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Tr(h)+'"][href="'+Tr(i)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Cl(i)}if(!Rr.has(w)&&(i=g({rel:"modulepreload",href:i},o),Rr.set(w,i),f.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Qo(w)))return}h=f.createElement("link"),Mn(h,"link",i),xn(h),f.head.appendChild(h)}}}function J4(i,o,f){Us.S(i,o,f);var h=Sl;if(h&&i){var y=Zi(h).hoistableStyles,w=El(i);o=o||"default";var E=y.get(w);if(!E){var O={loading:0,preload:null};if(E=h.querySelector(Yo(w)))O.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},f),(f=Rr.get(w))&&eg(i,f);var $=E=h.createElement("link");xn($),Mn($,"link",i),$._p=new Promise(function(Q,le){$.onload=Q,$.onerror=le}),$.addEventListener("load",function(){O.loading|=1}),$.addEventListener("error",function(){O.loading|=2}),O.loading|=4,bd(E,o,h)}E={type:"stylesheet",instance:E,count:1,state:O},y.set(w,E)}}}function W4(i,o){Us.X(i,o);var f=Sl;if(f&&i){var h=Zi(f).hoistableScripts,y=Cl(i),w=h.get(y);w||(w=f.querySelector(Qo(y)),w||(i=g({src:i,async:!0},o),(o=Rr.get(y))&&tg(i,o),w=f.createElement("script"),xn(w),Mn(w,"link",i),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function Y4(i,o){Us.M(i,o);var f=Sl;if(f&&i){var h=Zi(f).hoistableScripts,y=Cl(i),w=h.get(y);w||(w=f.querySelector(Qo(y)),w||(i=g({src:i,async:!0,type:"module"},o),(o=Rr.get(y))&&tg(i,o),w=f.createElement("script"),xn(w),Mn(w,"link",i),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function fj(i,o,f,h){var y=(y=pe.current)?xd(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=El(f.href),f=Zi(y).hoistableStyles,h=f.get(o),h||(h={type:"style",instance:null,count:0,state:null},f.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=El(f.href);var w=Zi(y).hoistableStyles,E=w.get(i);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,E),(w=y.querySelector(Yo(i)))&&!w._p&&(E.instance=w,E.state.loading=5),Rr.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Rr.set(i,f),w||Q4(y,i,f,E.state))),o&&h===null)throw Error(r(528,""));return E}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Cl(f),f=Zi(y).hoistableScripts,h=f.get(o),h||(h={type:"script",instance:null,count:0,state:null},f.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function El(i){return'href="'+Tr(i)+'"'}function Yo(i){return'link[rel="stylesheet"]['+i+"]"}function mj(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function Q4(i,o,f,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Mn(o,"link",f),xn(o),i.head.appendChild(o))}function Cl(i){return'[src="'+Tr(i)+'"]'}function Qo(i){return"script[async]"+i}function hj(i,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+Tr(f.href)+'"]');if(h)return o.instance=h,xn(h),h;var y=g({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),xn(h),Mn(h,"style",y),bd(h,f.precedence,i),o.instance=h;case"stylesheet":y=El(f.href);var w=i.querySelector(Yo(y));if(w)return o.state.loading|=4,o.instance=w,xn(w),w;h=mj(f),(y=Rr.get(y))&&eg(h,y),w=(i.ownerDocument||i).createElement("link"),xn(w);var E=w;return E._p=new Promise(function(O,$){E.onload=O,E.onerror=$}),Mn(w,"link",h),o.state.loading|=4,bd(w,f.precedence,i),o.instance=w;case"script":return w=Cl(f.src),(y=i.querySelector(Qo(w)))?(o.instance=y,xn(y),y):(h=f,(y=Rr.get(w))&&(h=g({},f),tg(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),xn(y),Mn(y,"link",h),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,bd(h,f.precedence,i));return o.instance}function bd(i,o,f){for(var h=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,E=0;E<h.length;E++){var O=h[E];if(O.dataset.precedence===o)w=O;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(i,o.firstChild))}function eg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function tg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var yd=null;function pj(i,o,f){if(yd===null){var h=new Map,y=yd=new Map;y.set(f,h)}else y=yd,h=y.get(f),h||(h=new Map,y.set(f,h));if(h.has(i))return h;for(h.set(i,null),f=f.getElementsByTagName(i),y=0;y<f.length;y++){var w=f[y];if(!(w[ho]||w[En]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var E=w.getAttribute(o)||"";E=i+E;var O=h.get(E);O?O.push(w):h.set(E,[w])}}return h}function gj(i,o,f){i=i.ownerDocument||i,i.head.insertBefore(f,o==="title"?i.querySelector("head > title"):null)}function X4(i,o,f){if(f===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function xj(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function eM(i,o,f,h){if(f.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var y=El(h.href),w=o.querySelector(Yo(y));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=vd.bind(i),o.then(i,i)),f.state.loading|=4,f.instance=w,xn(w);return}w=o.ownerDocument||o,h=mj(h),(y=Rr.get(y))&&eg(h,y),w=w.createElement("link"),xn(w);var E=w;E._p=new Promise(function(O,$){E.onload=O,E.onerror=$}),Mn(w,"link",h),f.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(i.count++,f=vd.bind(i),o.addEventListener("load",f),o.addEventListener("error",f))}}var ng=0;function tM(i,o){return i.stylesheets&&i.count===0&&wd(i,i.stylesheets),0<i.count||0<i.imgCount?function(f){var h=setTimeout(function(){if(i.stylesheets&&wd(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&ng===0&&(ng=62500*_4());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&wd(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>ng?50:800)+o);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jd=null;function wd(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jd=new Map,o.forEach(nM,i),jd=null,vd.call(i))}function nM(i,o){if(!(o.state.loading&4)){var f=jd.get(i);if(f)var h=f.get(null);else{f=new Map,jd.set(i,f);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var E=y[w];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(f.set(E.dataset.precedence,E),h=E)}h&&f.set(null,h)}y=o.instance,E=y.getAttribute("data-precedence"),w=f.get(E)||h,w===h&&f.set(null,y),f.set(E,y),this.count++,h=vd.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Xo={$$typeof:C,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function rM(i,o,f,h,y,w,E,O,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ym(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ym(0),this.hiddenUpdates=Ym(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function bj(i,o,f,h,y,w,E,O,$,Q,le,ue){return i=new rM(i,o,f,E,$,Q,le,ue,O),o=1,w===!0&&(o|=24),w=pr(3,null,null,o),i.current=w,w.stateNode=i,o=_h(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:f,cache:o},Ph(w),i}function yj(i){return i?(i=sl,i):sl}function vj(i,o,f,h,y,w){y=yj(y),h.context===null?h.context=y:h.pendingContext=y,h=da(o),h.payload={element:f},w=w===void 0?null:w,w!==null&&(h.callback=w),f=fa(i,h,o),f!==null&&(ar(f,i,o),Oo(f,i,o))}function jj(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<o?f:o}}function rg(i,o){jj(i,o),(i=i.alternate)&&jj(i,o)}function wj(i){if(i.tag===13||i.tag===31){var o=ai(i,67108864);o!==null&&ar(o,i,67108864),rg(i,67108864)}}function Nj(i){if(i.tag===13||i.tag===31){var o=vr();o=Qm(o);var f=ai(i,o);f!==null&&ar(f,i,o),rg(i,o)}}var Nd=!0;function sM(i,o,f,h){var y=B.T;B.T=null;var w=Y.p;try{Y.p=2,sg(i,o,f,h)}finally{Y.p=w,B.T=y}}function aM(i,o,f,h){var y=B.T;B.T=null;var w=Y.p;try{Y.p=8,sg(i,o,f,h)}finally{Y.p=w,B.T=y}}function sg(i,o,f,h){if(Nd){var y=ag(h);if(y===null)Hp(i,o,h,kd,f),Sj(i,h);else if(lM(y,i,o,f,h))h.stopPropagation();else if(Sj(i,h),o&4&&-1<iM.indexOf(i)){for(;y!==null;){var w=Ki(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var E=ei(w.pendingLanes);if(E!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;E;){var $=1<<31-Rn(E);O.entanglements[1]|=$,E&=~$}ls(w),(mt&6)===0&&(id=ye()+500,Ko(0))}}break;case 31:case 13:O=ai(w,2),O!==null&&ar(O,w,2),od(),rg(w,2)}if(w=ag(h),w===null&&Hp(i,o,h,kd,f),w===y)break;y=w}y!==null&&h.stopPropagation()}else Hp(i,o,h,null,f)}}function ag(i){return i=lh(i),ig(i)}var kd=null;function ig(i){if(kd=null,i=Gi(i),i!==null){var o=l(i);if(o===null)i=null;else{var f=o.tag;if(f===13){if(i=c(o),i!==null)return i;i=null}else if(f===31){if(i=u(o),i!==null)return i;i=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return kd=i,null}function kj(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Ie:return 2;case ct:return 8;case ft:case Qn:return 32;case Xa:return 268435456;default:return 32}default:return 32}}var lg=!1,Na=null,ka=null,Sa=null,ec=new Map,tc=new Map,Ea=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sj(i,o){switch(i){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":ec.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(o.pointerId)}}function nc(i,o,f,h,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:f,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Ki(o),o!==null&&wj(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function lM(i,o,f,h,y){switch(o){case"focusin":return Na=nc(Na,i,o,f,h,y),!0;case"dragenter":return ka=nc(ka,i,o,f,h,y),!0;case"mouseover":return Sa=nc(Sa,i,o,f,h,y),!0;case"pointerover":var w=y.pointerId;return ec.set(w,nc(ec.get(w)||null,i,o,f,h,y)),!0;case"gotpointercapture":return w=y.pointerId,tc.set(w,nc(tc.get(w)||null,i,o,f,h,y)),!0}return!1}function Ej(i){var o=Gi(i.target);if(o!==null){var f=l(o);if(f!==null){if(o=f.tag,o===13){if(o=c(f),o!==null){i.blockedOn=o,Bb(i.priority,function(){Nj(f)});return}}else if(o===31){if(o=u(f),o!==null){i.blockedOn=o,Bb(i.priority,function(){Nj(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sd(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var f=ag(i.nativeEvent);if(f===null){f=i.nativeEvent;var h=new f.constructor(f.type,f);ih=h,f.target.dispatchEvent(h),ih=null}else return o=Ki(f),o!==null&&wj(o),i.blockedOn=f,!1;o.shift()}return!0}function Cj(i,o,f){Sd(i)&&f.delete(o)}function oM(){lg=!1,Na!==null&&Sd(Na)&&(Na=null),ka!==null&&Sd(ka)&&(ka=null),Sa!==null&&Sd(Sa)&&(Sa=null),ec.forEach(Cj),tc.forEach(Cj)}function Ed(i,o){i.blockedOn===o&&(i.blockedOn=null,lg||(lg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oM)))}var Cd=null;function Tj(i){Cd!==i&&(Cd=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cd===i&&(Cd=null);for(var o=0;o<i.length;o+=3){var f=i[o],h=i[o+1],y=i[o+2];if(typeof h!="function"){if(ig(h||f)===null)continue;break}var w=Ki(f);w!==null&&(i.splice(o,3),o-=3,ap(w,{pending:!0,data:y,method:f.method,action:h},h,y))}}))}function Tl(i){function o($){return Ed($,i)}Na!==null&&Ed(Na,i),ka!==null&&Ed(ka,i),Sa!==null&&Ed(Sa,i),ec.forEach(o),tc.forEach(o);for(var f=0;f<Ea.length;f++){var h=Ea[f];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ea.length&&(f=Ea[0],f.blockedOn===null);)Ej(f),f.blockedOn===null&&Ea.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(h=0;h<f.length;h+=3){var y=f[h],w=f[h+1],E=y[Xn]||null;if(typeof w=="function")E||Tj(f);else if(E){var O=null;if(w&&w.hasAttribute("formAction")){if(y=w,E=w[Xn]||null)O=E.formAction;else if(ig(y)!==null)continue}else O=E.action;typeof O=="function"?f[h+1]=O:(f.splice(h,3),h-=3),Tj(f)}}}function Aj(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(E){return y=E})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(f,20)}function f(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function og(i){this._internalRoot=i}Td.prototype.render=og.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var f=o.current,h=vr();vj(f,h,i,o,null,null)},Td.prototype.unmount=og.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;vj(i.current,2,null,i,null,null),od(),o[qi]=null}};function Td(i){this._internalRoot=i}Td.prototype.unstable_scheduleHydration=function(i){if(i){var o=Pb();i={blockedOn:null,target:i,priority:o};for(var f=0;f<Ea.length&&o!==0&&o<Ea[f].priority;f++);Ea.splice(f,0,i),f===0&&Ej(i)}};var Mj=t.version;if(Mj!=="19.2.0")throw Error(r(527,Mj,"19.2.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var cM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{vs=Ad.inject(cM),Sn=Ad}catch{}}return sc.createRoot=function(i,o){if(!s(i))throw Error(r(299));var f=!1,h="",y=Lv,w=Uv,E=Pv;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=bj(i,1,!1,null,null,f,h,null,y,w,E,Aj),i[qi]=o.current,Vp(i),new og(o)},sc.hydrateRoot=function(i,o,f){if(!s(i))throw Error(r(299));var h=!1,y="",w=Lv,E=Uv,O=Pv,$=null;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(E=f.onCaughtError),f.onRecoverableError!==void 0&&(O=f.onRecoverableError),f.formState!==void 0&&($=f.formState)),o=bj(i,1,!0,o,f??null,h,y,$,w,E,O,Aj),o.context=yj(null),f=o.current,h=vr(),h=Qm(h),y=da(h),y.callback=null,fa(f,y,h),f=h,o.current.lanes=f,mo(o,f),ls(o),i[qi]=o.current,Vp(i),new Td(o)},sc.version="19.2.0",sc}var $j;function yM(){if($j)return dg.exports;$j=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dg.exports=bM(),dg.exports}var vM=yM();var Fj="popstate";function jM(e={}){function t(r,s){let{pathname:l,search:c,hash:u}=r.location;return cx("",{pathname:l,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_c(s)}return NM(t,n,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Er(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wM(){return Math.random().toString(36).substring(2,10)}function Vj(e,t){return{usr:e.state,key:e.key,idx:t}}function cx(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?no(t):t,state:n,key:t&&t.key||r||wM()}}function _c({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function no(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function NM(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,u="POP",d=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let N=p(),k=N==null?null:N-m;m=N,d&&d({action:u,location:j.location,delta:k})}function x(N,k){u="PUSH";let T=cx(j.location,N,k);m=p()+1;let C=Vj(T,m),A=j.createHref(T);try{c.pushState(C,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(A)}l&&d&&d({action:u,location:j.location,delta:1})}function b(N,k){u="REPLACE";let T=cx(j.location,N,k);m=p();let C=Vj(T,m),A=j.createHref(T);c.replaceState(C,"",A),l&&d&&d({action:u,location:j.location,delta:0})}function v(N){return kM(N)}let j={get action(){return u},get location(){return e(s,c)},listen(N){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Fj,g),d=N,()=>{s.removeEventListener(Fj,g),d=null}},createHref(N){return t(s,N)},createURL:v,encodeLocation(N){let k=v(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:b,go(N){return c.go(N)}};return j}function kM(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:_c(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function J2(e,t,n="/"){return SM(e,t,n,!1)}function SM(e,t,n,r){let s=typeof t=="string"?no(t):t,l=Xs(s.pathname||"/",n);if(l==null)return null;let c=W2(e);EM(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let m=LM(l);u=_M(c[d],m,r)}return u}function W2(e,t=[],n=[],r="",s=!1){let l=(c,u,d=s,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Lt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Js([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(Lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),W2(c.children,t,x,g,d)),!(c.path==null&&!c.index)&&t.push({path:g,score:DM(g,c.index),routesMeta:x})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let d of Y2(c.path))l(c,u,!0,d)}),t}function Y2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=Y2(r.join("/")),u=[];return u.push(...c.map(d=>d===""?l:[l,d].join("/"))),s&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function EM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:IM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CM=/^:[\w-]+$/,TM=3,AM=2,MM=1,OM=10,zM=-2,Hj=e=>e==="*";function DM(e,t){let n=e.split("/"),r=n.length;return n.some(Hj)&&(r+=zM),t&&(r+=AM),n.filter(s=>!Hj(s)).reduce((s,l)=>s+(CM.test(l)?TM:l===""?MM:OM),r)}function IM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function _M(e,t,n=!1){let{routesMeta:r}=e,s={},l="/",c=[];for(let u=0;u<r.length;++u){let d=r[u],m=u===r.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},p),x=d.route;if(!g&&m&&n&&!r[r.length-1].route.index&&(g=hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:Js([l,g.pathname]),pathnameBase:FM(Js([l,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(l=Js([l,g.pathnameBase]))}return c}function hf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=RM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:g},x)=>{if(p==="*"){let v=u[x]||"";c=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const b=u[x];return g&&!b?m[p]=void 0:m[p]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function RM(e,t=!1,n=!0){Er(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function LM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Er(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var UM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PM=e=>UM.test(e);function BM(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?no(e):e,l;if(n)if(PM(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Er(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=qj(n.substring(1),"/"):l=qj(n,t)}else l=t;return{pathname:l,search:VM(r),hash:HM(s)}}function qj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $M(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function i0(e){let t=$M(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function l0(e,t,n,r=!1){let s;typeof e=="string"?s=no(e):(s={...e},Lt(!s.pathname||!s.pathname.includes("?"),pg("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),pg("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),pg("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,u;if(c==null)u=n;else{let g=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}u=g>=0?t[g]:"/"}let d=BM(s,u),m=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||p)&&(d.pathname+="/"),d}var Js=e=>e.join("/").replace(/\/\/+/g,"/"),FM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q2=["POST","PUT","PATCH","DELETE"];new Set(Q2);var GM=["GET",...Q2];new Set(GM);var ro=S.createContext(null);ro.displayName="DataRouter";var xm=S.createContext(null);xm.displayName="DataRouterState";S.createContext(!1);var X2=S.createContext({isTransitioning:!1});X2.displayName="ViewTransition";var KM=S.createContext(new Map);KM.displayName="Fetchers";var ZM=S.createContext(null);ZM.displayName="Await";var Qr=S.createContext(null);Qr.displayName="Navigation";var nu=S.createContext(null);nu.displayName="Location";var Xr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Xr.displayName="Route";var o0=S.createContext(null);o0.displayName="RouteError";function JM(e,{relative:t}={}){Lt(so(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Qr),{hash:s,pathname:l,search:c}=ru(e,{relative:t}),u=l;return n!=="/"&&(u=l==="/"?n:Js([n,l])),r.createHref({pathname:u,search:c,hash:s})}function so(){return S.useContext(nu)!=null}function es(){return Lt(so(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(nu).location}var ek="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tk(e){S.useContext(Qr).static||S.useLayoutEffect(e)}function _t(){let{isDataRoute:e}=S.useContext(Xr);return e?o3():WM()}function WM(){Lt(so(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(ro),{basename:t,navigator:n}=S.useContext(Qr),{matches:r}=S.useContext(Xr),{pathname:s}=es(),l=JSON.stringify(i0(r)),c=S.useRef(!1);return tk(()=>{c.current=!0}),S.useCallback((d,m={})=>{if(Er(c.current,ek),!c.current)return;if(typeof d=="number"){n.go(d);return}let p=l0(d,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Js([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,l,s,e])}S.createContext(null);function ys(){let{matches:e}=S.useContext(Xr),t=e[e.length-1];return t?t.params:{}}function ru(e,{relative:t}={}){let{matches:n}=S.useContext(Xr),{pathname:r}=es(),s=JSON.stringify(i0(n));return S.useMemo(()=>l0(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function YM(e,t){return nk(e,t)}function nk(e,t,n,r,s){Lt(so(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Qr),{matches:c}=S.useContext(Xr),u=c[c.length-1],d=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let T=g&&g.path||"";rk(m,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let x=es(),b;if(t){let T=typeof t=="string"?no(t):t;Lt(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=x;let v=b.pathname||"/",j=v;if(p!=="/"){let T=p.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let N=J2(e,{pathname:j});Er(g||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Er(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=n3(N&&N.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:Js([p,l.encodeLocation?l.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Js([p,l.encodeLocation?l.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),c,n,r,s);return t&&k?S.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function QM(){let e=l3(),t=qM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,c)}var XM=S.createElement(QM,null),e3=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Xr.Provider,{value:this.props.routeContext},S.createElement(o0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t3({routeContext:e,match:t,children:n}){let r=S.useContext(ro);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Xr.Provider,{value:e},n)}function n3(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:x,errors:b}=n,v=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){u=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:g})}:void 0;return l.reduceRight((p,g,x)=>{let b,v=!1,j=null,N=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||XM,u&&(d<0&&x===0?(rk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):d===x&&(v=!0,N=g.route.hydrateFallbackElement||null)));let k=t.concat(l.slice(0,x+1)),T=()=>{let C;return b?C=j:v?C=N:g.route.Component?C=S.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,S.createElement(t3,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?S.createElement(e3,{location:n.location,revalidation:n.revalidation,component:j,error:b,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):T()},null)}function c0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r3(e){let t=S.useContext(ro);return Lt(t,c0(e)),t}function s3(e){let t=S.useContext(xm);return Lt(t,c0(e)),t}function a3(e){let t=S.useContext(Xr);return Lt(t,c0(e)),t}function u0(e){let t=a3(e),n=t.matches[t.matches.length-1];return Lt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function i3(){return u0("useRouteId")}function l3(){let e=S.useContext(o0),t=s3("useRouteError"),n=u0("useRouteError");return e!==void 0?e:t.errors?.[n]}function o3(){let{router:e}=r3("useNavigate"),t=u0("useNavigate"),n=S.useRef(!1);return tk(()=>{n.current=!0}),S.useCallback(async(s,l={})=>{Er(n.current,ek),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var Gj={};function rk(e,t,n){!t&&!Gj[e]&&(Gj[e]=!0,Er(!1,n))}S.memo(c3);function c3({routes:e,future:t,state:n,unstable_onError:r}){return nk(e,void 0,n,r,t)}function u3({to:e,replace:t,state:n,relative:r}){Lt(so(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Qr);Er(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Xr),{pathname:c}=es(),u=_t(),d=l0(e,i0(l),c,r==="path"),m=JSON.stringify(d);return S.useEffect(()=>{u(JSON.parse(m),{replace:t,state:n,relative:r})},[u,m,r,t,n]),null}function Xe(e){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:l=!1}){Lt(!so(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=no(n));let{pathname:d="/",search:m="",hash:p="",state:g=null,key:x="default"}=n,b=S.useMemo(()=>{let v=Xs(d,c);return v==null?null:{location:{pathname:v,search:m,hash:p,state:g,key:x},navigationType:r}},[c,d,m,p,g,x,r]);return Er(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(Qr.Provider,{value:u},S.createElement(nu.Provider,{children:t,value:b}))}function f3({children:e,location:t}){return YM(ux(e),t)}function ux(e,t=[]){let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let l=[...t,s];if(r.type===S.Fragment){n.push.apply(n,ux(r.props.children,l));return}Lt(r.type===Xe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ux(r.props.children,l)),n.push(c)}),n}var tf="get",nf="application/x-www-form-urlencoded";function bm(e){return e!=null&&typeof e.tagName=="string"}function m3(e){return bm(e)&&e.tagName.toLowerCase()==="button"}function h3(e){return bm(e)&&e.tagName.toLowerCase()==="form"}function p3(e){return bm(e)&&e.tagName.toLowerCase()==="input"}function g3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function x3(e,t){return e.button===0&&(!t||t==="_self")&&!g3(e)}function dx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function b3(e,t){let n=dx(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(l=>{n.append(s,l)})}),n}var Md=null;function y3(){if(Md===null)try{new FormData(document.createElement("form"),0),Md=!1}catch{Md=!0}return Md}var v3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gg(e){return e!=null&&!v3.has(e)?(Er(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):e}function j3(e,t){let n,r,s,l,c;if(h3(e)){let u=e.getAttribute("action");r=u?Xs(u,t):null,n=e.getAttribute("method")||tf,s=gg(e.getAttribute("enctype"))||nf,l=new FormData(e)}else if(m3(e)||p3(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Xs(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||tf,s=gg(e.getAttribute("formenctype"))||gg(u.getAttribute("enctype"))||nf,l=new FormData(u,e),!y3()){let{name:m,type:p,value:g}=e;if(p==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,g)}}else{if(bm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=tf,r=null,s=nf,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w3(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Xs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function N3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function S3(e,t,n){let r=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await N3(l,n);return c.links?c.links():[]}return[]}));return A3(r.flat(1).filter(k3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Kj(e,t,n,r,s,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,u=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return l==="assets"?t.filter((d,m)=>c(d,m)||u(d,m)):l==="data"?t.filter((d,m)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,m)||u(d,m))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function E3(e,t,{includeHydrateFallback:n}={}){return C3(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function C3(e){return[...new Set(e)]}function T3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function A3(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let l=JSON.stringify(T3(s));return n.has(l)||(n.add(l),r.push({key:l,link:s})),r},[])}function sk(){let e=S.useContext(ro);return d0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function M3(){let e=S.useContext(xm);return d0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var f0=S.createContext(void 0);f0.displayName="FrameworkContext";function ak(){let e=S.useContext(f0);return d0(e,"You must render this element inside a <HydratedRouter> element"),e}function O3(e,t){let n=S.useContext(f0),[r,s]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:m,onMouseLeave:p,onTouchStart:g}=t,x=S.useRef(null);S.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=k=>{k.forEach(T=>{c(T.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[e]),S.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let b=()=>{s(!0)},v=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,x,{}]:[l,x,{onFocus:ac(u,b),onBlur:ac(d,v),onMouseEnter:ac(m,b),onMouseLeave:ac(p,v),onTouchStart:ac(g,b)}]:[!1,x,{}]}function ac(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function z3({page:e,...t}){let{router:n}=sk(),r=S.useMemo(()=>J2(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(I3,{page:e,matches:r,...t}):null}function D3(e){let{manifest:t,routeModules:n}=ak(),[r,s]=S.useState([]);return S.useEffect(()=>{let l=!1;return S3(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),r}function I3({page:e,matches:t,...n}){let r=es(),{manifest:s,routeModules:l}=ak(),{basename:c}=sk(),{loaderData:u,matches:d}=M3(),m=S.useMemo(()=>Kj(e,t,d,s,r,"data"),[e,t,d,s,r]),p=S.useMemo(()=>Kj(e,t,d,s,r,"assets"),[e,t,d,s,r]),g=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,j=!1;if(t.forEach(k=>{let T=s.routes[k.route.id];!T||!T.hasLoader||(!m.some(C=>C.route.id===k.route.id)&&k.route.id in u&&l[k.route.id]?.shouldRevalidate||T.hasClientLoader?j=!0:v.add(k.route.id))}),v.size===0)return[];let N=w3(e,c,"data");return j&&v.size>0&&N.searchParams.set("_routes",t.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[c,u,r,s,m,t,e,l]),x=S.useMemo(()=>E3(p,s),[p,s]),b=D3(p);return S.createElement(S.Fragment,null,g.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),x.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),b.map(({key:v,link:j})=>S.createElement("link",{key:v,nonce:n.nonce,...j})))}function _3(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ik&&(window.__reactRouterVersion="7.9.6")}catch{}function R3({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=jM({window:n,v5Compat:!0}));let s=r.current,[l,c]=S.useState({action:s.action,location:s.location}),u=S.useCallback(d=>{S.startTransition(()=>c(d))},[c]);return S.useLayoutEffect(()=>s.listen(u),[s,u]),S.createElement(d3,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:u,target:d,to:m,preventScrollReset:p,viewTransition:g,...x},b){let{basename:v}=S.useContext(Qr),j=typeof m=="string"&&lk.test(m),N,k=!1;if(typeof m=="string"&&j&&(N=m,ik))try{let K=new URL(window.location.href),X=m.startsWith("//")?new URL(K.protocol+m):new URL(m),R=Xs(X.pathname,v);X.origin===K.origin&&R!=null?m=R+X.search+X.hash:k=!0}catch{Er(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=JM(m,{relative:s}),[C,A,M]=O3(r,x),D=B3(m,{replace:c,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function z(K){t&&t(K),K.defaultPrevented||D(K)}let L=S.createElement("a",{...x,...M,href:N||T,onClick:k||l?t:z,ref:_3(b,A),target:d,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?S.createElement(S.Fragment,null,L,S.createElement(z3,{page:T})):L});Me.displayName="Link";var L3=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:u,children:d,...m},p){let g=ru(c,{relative:m.relative}),x=es(),b=S.useContext(xm),{navigator:v,basename:j}=S.useContext(Qr),N=b!=null&&q3(g)&&u===!0,k=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,T=x.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(T=T.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&j&&(C=Xs(C,j)||C);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let M=T===k||!s&&T.startsWith(k)&&T.charAt(A)==="/",D=C!=null&&(C===k||!s&&C.startsWith(k)&&C.charAt(k.length)==="/"),z={isActive:M,isPending:D,isTransitioning:N},L=M?t:void 0,K;typeof r=="function"?K=r(z):K=[r,M?"active":null,D?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let X=typeof l=="function"?l(z):l;return S.createElement(Me,{...m,"aria-current":L,className:K,ref:p,style:X,to:c,viewTransition:u},typeof d=="function"?d(z):d)});L3.displayName="NavLink";var U3=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:l,method:c=tf,action:u,onSubmit:d,relative:m,preventScrollReset:p,viewTransition:g,...x},b)=>{let v=V3(),j=H3(u,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&lk.test(u),T=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let A=C.nativeEvent.submitter,M=A?.getAttribute("formmethod")||c;v(A||C.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:s,state:l,relative:m,preventScrollReset:p,viewTransition:g})};return S.createElement("form",{ref:b,method:N,action:j,onSubmit:r?d:T,...x,"data-discover":!k&&e==="render"?"true":void 0})});U3.displayName="Form";function P3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ok(e){let t=S.useContext(ro);return Lt(t,P3(e)),t}function B3(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let u=_t(),d=es(),m=ru(e,{relative:l});return S.useCallback(p=>{if(x3(p,t)){p.preventDefault();let g=n!==void 0?n:_c(d)===_c(m);u(e,{replace:g,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[d,u,m,n,r,t,e,s,l,c])}function ta(e){Er(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(dx(e)),n=S.useRef(!1),r=es(),s=S.useMemo(()=>b3(r.search,n.current?null:t.current),[r.search]),l=_t(),c=S.useCallback((u,d)=>{const m=dx(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,l("?"+m,d)},[l,s]);return[s,c]}var $3=0,F3=()=>`__${String(++$3)}__`;function V3(){let{router:e}=ok("useSubmit"),{basename:t}=S.useContext(Qr),n=i3();return S.useCallback(async(r,s={})=>{let{action:l,method:c,encType:u,formData:d,body:m}=j3(r,t);if(s.navigate===!1){let p=s.fetcherKey||F3();await e.fetch(p,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function H3(e,{relative:t}={}){let{basename:n}=S.useContext(Qr),r=S.useContext(Xr);Lt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...ru(e||".",{relative:t})},c=es();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Js([n,l.pathname])),_c(l)}function q3(e,{relative:t}={}){let n=S.useContext(X2);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ok("useViewTransitionState"),s=ru(e,{relative:t});if(!n.isTransitioning)return!1;let l=Xs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Xs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hf(s.pathname,c)!=null||hf(s.pathname,l)!=null}var ck=Z2();const G3=a0(ck);const K3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zj=e=>{const t=Z3(e);return t.charAt(0).toUpperCase()+t.slice(1)},uk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),J3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var W3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Y3=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...u},d)=>S.createElement("svg",{ref:d,...W3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:uk("lucide",s),...!l&&!J3(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,p])=>S.createElement(m,p)),...Array.isArray(l)?l:[l]]));const De=(e,t)=>{const n=S.forwardRef(({className:r,...s},l)=>S.createElement(Y3,{ref:l,iconNode:t,className:uk(`lucide-${K3(Zj(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Zj(e),n};const Q3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ql=De("arrow-left",Q3);const X3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],e6=De("arrow-right",X3);const t6=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],n6=De("bold",t6);const r6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rc=De("calendar",r6);const s6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],It=De("chevron-down",s6);const a6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ym=De("chevron-left",a6);const i6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ao=De("chevron-right",i6);const l6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Zt=De("chevron-up",l6);const o6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],c6=De("circle-alert",o6);const u6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gc=De("circle-check-big",u6);const d6=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dk=De("circle-play",d6);const f6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fx=De("circle-x",f6);const m6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rf=De("download",m6);const h6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],p6=De("external-link",h6);const g6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m0=De("eye",g6);const x6=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],b6=De("facebook",x6);const y6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],La=De("file-text",y6);const v6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ts=De("grip-vertical",v6);const j6=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],w6=De("heading-1",j6);const N6=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],k6=De("heading-2",N6);const S6=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],E6=De("heading-3",S6);const C6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],h0=De("house",C6);const T6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],A6=De("image",T6);const M6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],O6=De("info",M6);const z6=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],D6=De("instagram",z6);const I6=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],_6=De("italic",I6);const R6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],L6=De("layout-dashboard",R6);const U6=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],P6=De("link",U6);const B6=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],$6=De("list-ordered",B6);const F6=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],V6=De("list",F6);const H6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ge=De("loader-circle",H6);const q6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vm=De("mail",q6);const G6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fk=De("map-pin",G6);const K6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],mk=De("menu",K6);const Z6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],J6=De("message-circle",Z6);const W6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Y6=De("message-square",W6);const Q6=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],X6=De("newspaper",Q6);const eO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],tO=De("panels-top-left",eO);const nO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rO=De("pen",nO);const sO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],p0=De("phone",sO);const aO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lc=De("play",aO);const iO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wt=De("plus",iO);const lO=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oO=De("power-off",lO);const cO=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],uO=De("power",cO);const dO=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],fO=De("quote",dO);const mO=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],hO=De("redo",mO);const pO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gO=De("save",pO);const xO=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Gl=De("scissors",xO);const bO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jm=De("search",bO);const yO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vO=De("send",yO);const jO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wO=De("settings",jO);const NO=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],kO=De("sliders-vertical",NO);const SO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Gn=De("square-pen",SO);const EO=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],CO=De("strikethrough",EO);const TO=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],AO=De("tag",TO);const MO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OO=De("trash-2",MO);const zO=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],DO=De("underline",zO);const IO=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],_O=De("undo",IO);const RO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lt=De("upload",RO);const LO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ae=De("x",LO);const UO=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],PO=De("youtube",UO);function hk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=hk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function BO(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=hk(e))&&(r&&(r+=" "),r+=t);return r}const $O=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},FO=(e,t)=>({classGroupId:e,validator:t}),pk=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),pf="-",Jj=[],VO="arbitrary..",HO=e=>{const t=GO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return qO(c);const u=c.split(pf),d=u[0]===""&&u.length>1?1:0;return gk(u,d,t)},getConflictingClassGroupIds:(c,u)=>{if(u){const d=r[c],m=n[c];return d?m?$O(m,d):d:m||Jj}return n[c]||Jj}}},gk=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],l=n.nextPart.get(s);if(l){const m=gk(e,t+1,l);if(m)return m}const c=n.validators;if(c===null)return;const u=t===0?e.join(pf):e.slice(t).join(pf),d=c.length;for(let m=0;m<d;m++){const p=c[m];if(p.validator(u))return p.classGroupId}},qO=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?VO+r:void 0})(),GO=e=>{const{theme:t,classGroups:n}=e;return KO(n,t)},KO=(e,t)=>{const n=pk();for(const r in e){const s=e[r];g0(s,n,r,t)}return n},g0=(e,t,n,r)=>{const s=e.length;for(let l=0;l<s;l++){const c=e[l];ZO(c,t,n,r)}},ZO=(e,t,n,r)=>{if(typeof e=="string"){JO(e,t,n);return}if(typeof e=="function"){WO(e,t,n,r);return}YO(e,t,n,r)},JO=(e,t,n)=>{const r=e===""?t:xk(t,e);r.classGroupId=n},WO=(e,t,n,r)=>{if(QO(e)){g0(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(FO(n,e))},YO=(e,t,n,r)=>{const s=Object.entries(e),l=s.length;for(let c=0;c<l;c++){const[u,d]=s[c];g0(d,xk(t,u),n,r)}},xk=(e,t)=>{let n=e;const r=t.split(pf),s=r.length;for(let l=0;l<s;l++){const c=r[l];let u=n.nextPart.get(c);u||(u=pk(),n.nextPart.set(c,u)),n=u}return n},QO=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,XO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(l,c)=>{n[l]=c,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return s(l,c),c},set(l,c){l in n?n[l]=c:s(l,c)}}},mx="!",Wj=":",e5=[],Yj=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),t5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const l=[];let c=0,u=0,d=0,m;const p=s.length;for(let j=0;j<p;j++){const N=s[j];if(c===0&&u===0){if(N===Wj){l.push(s.slice(d,j)),d=j+1;continue}if(N==="/"){m=j;continue}}N==="["?c++:N==="]"?c--:N==="("?u++:N===")"&&u--}const g=l.length===0?s:s.slice(d);let x=g,b=!1;g.endsWith(mx)?(x=g.slice(0,-1),b=!0):g.startsWith(mx)&&(x=g.slice(1),b=!0);const v=m&&m>d?m-d:void 0;return Yj(l,b,x,v)};if(t){const s=t+Wj,l=r;r=c=>c.startsWith(s)?l(c.slice(s.length)):Yj(e5,!1,c,void 0,!0)}if(n){const s=r;r=l=>n({className:l,parseClassName:s})}return r},n5=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let l=0;l<n.length;l++){const c=n[l],u=c[0]==="[",d=t.has(c);u||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(c)):s.push(c)}return s.length>0&&(s.sort(),r.push(...s)),r}},r5=e=>({cache:XO(e.cacheSize),parseClassName:t5(e),sortModifiers:n5(e),...HO(e)}),s5=/\s+/,a5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:l}=t,c=[],u=e.trim().split(s5);let d="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:j}=n(p);if(g){d=p+(d.length>0?" "+d:d);continue}let N=!!j,k=r(N?v.substring(0,j):v);if(!k){if(!N){d=p+(d.length>0?" "+d:d);continue}if(k=r(v),!k){d=p+(d.length>0?" "+d:d);continue}N=!1}const T=x.length===0?"":x.length===1?x[0]:l(x).join(":"),C=b?T+mx:T,A=C+k;if(c.indexOf(A)>-1)continue;c.push(A);const M=s(k,N);for(let D=0;D<M.length;++D){const z=M[D];c.push(C+z)}d=p+(d.length>0?" "+d:d)}return d},i5=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=bk(n))&&(s&&(s+=" "),s+=r);return s},bk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=bk(e[r]))&&(n&&(n+=" "),n+=t);return n},l5=(e,...t)=>{let n,r,s,l;const c=d=>{const m=t.reduce((p,g)=>g(p),e());return n=r5(m),r=n.cache.get,s=n.cache.set,l=u,u(d)},u=d=>{const m=r(d);if(m)return m;const p=a5(d,n);return s(d,p),p};return l=c,(...d)=>l(i5(...d))},o5=[],pn=e=>{const t=n=>n[e]||o5;return t.isThemeGetter=!0,t},yk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,c5=/^\d+\/\d+$/,u5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,m5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=e=>c5.test(e),tt=e=>!!e&&!Number.isNaN(Number(e)),Ta=e=>!!e&&Number.isInteger(Number(e)),xg=e=>e.endsWith("%")&&tt(e.slice(0,-1)),Ps=e=>u5.test(e),p5=()=>!0,g5=e=>d5.test(e)&&!f5.test(e),jk=()=>!1,x5=e=>m5.test(e),b5=e=>h5.test(e),y5=e=>!Ee(e)&&!Ce(e),v5=e=>io(e,kk,jk),Ee=e=>yk.test(e),bi=e=>io(e,Sk,g5),bg=e=>io(e,S5,tt),Qj=e=>io(e,wk,jk),j5=e=>io(e,Nk,b5),Od=e=>io(e,Ek,x5),Ce=e=>vk.test(e),ic=e=>lo(e,Sk),w5=e=>lo(e,E5),Xj=e=>lo(e,wk),N5=e=>lo(e,kk),k5=e=>lo(e,Nk),zd=e=>lo(e,Ek,!0),io=(e,t,n)=>{const r=yk.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},lo=(e,t,n=!1)=>{const r=vk.exec(e);return r?r[1]?t(r[1]):n:!1},wk=e=>e==="position"||e==="percentage",Nk=e=>e==="image"||e==="url",kk=e=>e==="length"||e==="size"||e==="bg-size",Sk=e=>e==="length",S5=e=>e==="number",E5=e=>e==="family-name",Ek=e=>e==="shadow",C5=()=>{const e=pn("color"),t=pn("font"),n=pn("text"),r=pn("font-weight"),s=pn("tracking"),l=pn("leading"),c=pn("breakpoint"),u=pn("container"),d=pn("spacing"),m=pn("radius"),p=pn("shadow"),g=pn("inset-shadow"),x=pn("text-shadow"),b=pn("drop-shadow"),v=pn("blur"),j=pn("perspective"),N=pn("aspect"),k=pn("ease"),T=pn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...A(),Ce,Ee],D=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],L=()=>[Ce,Ee,d],K=()=>[Al,"full","auto",...L()],X=()=>[Ta,"none","subgrid",Ce,Ee],R=()=>["auto",{span:["full",Ta,Ce,Ee]},Ta,Ce,Ee],_=()=>[Ta,"auto",Ce,Ee],U=()=>["auto","min","max","fr",Ce,Ee],P=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...L()],Y=()=>[Al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],V=()=>[e,Ce,Ee],ve=()=>[...A(),Xj,Qj,{position:[Ce,Ee]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",N5,v5,{size:[Ce,Ee]}],q=()=>[xg,ic,bi],ee=()=>["","none","full",m,Ce,Ee],fe=()=>["",tt,ic,bi],we=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[tt,xg,Xj,Qj],$e=()=>["","none",v,Ce,Ee],me=()=>["none",tt,Ce,Ee],_e=()=>["none",tt,Ce,Ee],Ke=()=>[tt,Ce,Ee],ot=()=>[Al,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ps],breakpoint:[Ps],color:[p5],container:[Ps],"drop-shadow":[Ps],ease:["in","out","in-out"],font:[y5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ps],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ps],shadow:[Ps],spacing:["px",tt],text:[Ps],"text-shadow":[Ps],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Al,Ee,Ce,N]}],container:["container"],columns:[{columns:[tt,Ee,Ce,u]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[Ta,"auto",Ce,Ee]}],basis:[{basis:[Al,"full","auto",u,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,Al,"auto","initial","none",Ee]}],grow:[{grow:["",tt,Ce,Ee]}],shrink:[{shrink:["",tt,Ce,Ee]}],order:[{order:[Ta,"first","last","none",Ce,Ee]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...P(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...P()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":P()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[u,"screen",...Y()]}],"min-w":[{"min-w":[u,"screen","none",...Y()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",n,ic,bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,bg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xg,Ee]}],"font-family":[{font:[w5,Ee,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ce,Ee]}],"line-clamp":[{"line-clamp":[tt,"none",Ce,bg]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",Ce,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",Ce,bi]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[tt,"auto",Ce,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ta,Ce,Ee],radial:["",Ce,Ee],conic:[Ta,Ce,Ee]},k5,j5]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,Ce,Ee]}],"outline-w":[{outline:["",tt,ic,bi]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",p,zd,Od]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,zd,Od]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[tt,bi]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",x,zd,Od]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[tt,Ce,Ee]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Ce,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ee]}],filter:[{filter:["","none",Ce,Ee]}],blur:[{blur:$e()}],brightness:[{brightness:[tt,Ce,Ee]}],contrast:[{contrast:[tt,Ce,Ee]}],"drop-shadow":[{"drop-shadow":["","none",b,zd,Od]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",tt,Ce,Ee]}],"hue-rotate":[{"hue-rotate":[tt,Ce,Ee]}],invert:[{invert:["",tt,Ce,Ee]}],saturate:[{saturate:[tt,Ce,Ee]}],sepia:[{sepia:["",tt,Ce,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ee]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[tt,Ce,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[tt,Ce,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,Ce,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,Ce,Ee]}],"backdrop-invert":[{"backdrop-invert":["",tt,Ce,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[tt,Ce,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[tt,Ce,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,Ce,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",Ce,Ee]}],ease:[{ease:["linear","initial",k,Ce,Ee]}],delay:[{delay:[tt,Ce,Ee]}],animate:[{animate:["none",T,Ce,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ce,Ee]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[Ce,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ot()}],"translate-x":[{"translate-x":ot()}],"translate-y":[{"translate-y":ot()}],"translate-z":[{"translate-z":ot()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ee]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[tt,ic,bi,bg]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},T5=l5(C5);function Gs(...e){return T5(BO(e))}function x0(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function Ks({menus:e,locale:t="id",logo:n,websiteName:r,showWebsiteName:s=!0}){const[l,c]=S.useState(!1),[u,d]=S.useState(null),[m,p]=S.useState(null),g=j=>{d(u===j?null:j),p(null)},x=j=>{p(m===j?null:j)},b=n&&s||s,v=!b;return a.jsxs("nav",{className:"absolute top-0 left-0 right-0 z-50 bg-transparent",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-20",children:[b?a.jsxs("div",{className:"flex items-center space-x-3",children:[n&&s&&a.jsx(Me,{to:"/",className:"flex items-center",children:a.jsx("img",{src:n,alt:r||"Logo",className:"h-12 w-auto object-contain drop-shadow-lg"})}),s&&a.jsx(Me,{to:"/",className:"text-2xl md:text-3xl font-bold text-white hover:text-white/90 transition-colors drop-shadow-lg",children:r||""})]}):a.jsx("div",{className:"hidden md:block flex-1"}),a.jsxs("div",{className:`hidden md:flex md:items-center md:space-x-2 ${v?"absolute left-1/2 transform -translate-x-1/2":""}`,children:[e.map(j=>a.jsxs("div",{className:"relative group",children:[j.menuType==="external"&&j.externalUrl?a.jsxs("a",{href:j.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 text-white hover:text-white/80 font-semibold text-sm transition-colors flex items-center drop-shadow-md",children:[t==="en"&&j.titleEn?j.titleEn:j.title,j.children&&j.children.length>0&&a.jsx("span",{className:"ml-1 text-white/90",children:"+"})]}):j.slug.startsWith("#")?a.jsxs("span",{className:"px-3 py-2 text-white font-semibold text-sm flex items-center drop-shadow-md cursor-default",children:[t==="en"&&j.titleEn?j.titleEn:j.title,j.children&&j.children.length>0&&a.jsx("span",{className:"ml-1 text-white/90",children:"+"})]}):a.jsxs(Me,{to:`/${j.slug}`,className:"px-3 py-2 text-white hover:text-white/80 font-semibold text-sm transition-colors flex items-center drop-shadow-md",children:[t==="en"&&j.titleEn?j.titleEn:j.title,j.children&&j.children.length>0&&a.jsx("span",{className:"ml-1 text-white/90",children:"+"})]}),j.children&&j.children.length>0&&a.jsx("div",{className:"absolute left-0 mt-1 w-64 bg-white/95 backdrop-blur-md rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 border border-gray-200/50",children:a.jsx("div",{className:"py-2",children:j.children.map(N=>a.jsxs("div",{className:"relative group/submenu",children:[N.menuType==="external"&&N.externalUrl?a.jsxs("a",{href:N.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-2.5 text-sm text-gray-800 hover:bg-primary-50 hover:text-primary-700 font-medium transition-colors relative",children:[t==="en"&&N.titleEn?N.titleEn:N.title,N.children&&N.children.length>0&&a.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:""})]}):N.slug.startsWith("#")?a.jsxs("span",{className:"block px-4 py-2.5 text-sm text-gray-800 font-medium relative",children:[t==="en"&&N.titleEn?N.titleEn:N.title,N.children&&N.children.length>0&&a.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:""})]}):a.jsxs(Me,{to:`/${N.slug}`,className:"block px-4 py-2.5 text-sm text-gray-800 hover:bg-primary-50 hover:text-primary-700 font-medium transition-colors relative",children:[t==="en"&&N.titleEn?N.titleEn:N.title,N.children&&N.children.length>0&&a.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400",children:""})]}),N.children&&N.children.length>0&&a.jsx("div",{className:"absolute left-full top-0 ml-1 w-64 bg-white/95 backdrop-blur-md rounded-lg shadow-xl opacity-0 invisible group-hover/submenu:opacity-100 group-hover/submenu:visible transition-all duration-200 border border-gray-200/50 z-50",children:a.jsx("div",{className:"py-2",children:N.children.map(k=>k.menuType==="external"&&k.externalUrl?a.jsx("a",{href:k.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-2.5 text-sm text-gray-800 hover:bg-primary-50 hover:text-primary-700 font-medium transition-colors",children:t==="en"&&k.titleEn?k.titleEn:k.title},k.id):k.slug.startsWith("#")?a.jsx("span",{className:"block px-4 py-2.5 text-sm text-gray-800 font-medium",children:t==="en"&&k.titleEn?k.titleEn:k.title},k.id):a.jsx(Me,{to:`/${k.slug}`,className:"block px-4 py-2.5 text-sm text-gray-800 hover:bg-primary-50 hover:text-primary-700 font-medium transition-colors",children:t==="en"&&k.titleEn?k.titleEn:k.title},k.id))})})]},N.id))})})]},j.id)),a.jsxs("div",{className:"ml-6 flex items-center space-x-1 border-l border-white/30 pl-4",children:[a.jsx(Me,{to:"/?locale=en",className:Gs("w-8 h-8 flex items-center justify-center rounded transition-all",t==="en"?"bg-white/30 backdrop-blur-sm shadow-md":"hover:bg-white/20 backdrop-blur-sm"),title:"English",children:a.jsx("span",{className:"text-lg drop-shadow-md",children:""})}),a.jsx(Me,{to:"/?locale=id",className:Gs("w-8 h-8 flex items-center justify-center rounded transition-all",t==="id"?"bg-white/30 backdrop-blur-sm shadow-md":"hover:bg-white/20 backdrop-blur-sm"),title:"Indonesia",children:a.jsx("span",{className:"text-lg drop-shadow-md",children:""})})]})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:()=>c(!l),className:"text-white hover:text-white/80 drop-shadow-md",children:l?a.jsx(Ae,{size:24}):a.jsx(mk,{size:24})})})]})}),l&&a.jsx("div",{className:"md:hidden border-t border-white/20 bg-white/95 backdrop-blur-md",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[e.map(j=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[j.menuType==="external"&&j.externalUrl?a.jsx("a",{href:j.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 text-gray-800 hover:bg-primary-50 rounded-md font-medium flex-1",onClick:()=>c(!1),children:t==="en"&&j.titleEn?j.titleEn:j.title}):j.slug.startsWith("#")?a.jsx("span",{className:"block px-3 py-2 text-gray-800 font-medium flex-1",children:t==="en"&&j.titleEn?j.titleEn:j.title}):a.jsx(Me,{to:`/${j.slug}`,className:"block px-3 py-2 text-gray-800 hover:bg-primary-50 rounded-md font-medium flex-1",onClick:()=>!j.children||j.children.length===0?c(!1):void 0,children:t==="en"&&j.titleEn?j.titleEn:j.title}),j.children&&j.children.length>0&&a.jsx("button",{onClick:()=>g(j.id),className:"px-3 py-2",children:a.jsx(It,{className:Gs("h-4 w-4 transition-transform",u===j.id&&"rotate-180")})})]}),j.children&&j.children.length>0&&u===j.id&&a.jsx("div",{className:"pl-4 space-y-1",children:j.children.map(N=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[N.menuType==="external"&&N.externalUrl?a.jsx("a",{href:N.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 text-sm text-gray-600 hover:bg-primary-50 rounded-md flex-1",onClick:()=>!N.children||N.children.length===0?c(!1):void 0,children:t==="en"&&N.titleEn?N.titleEn:N.title}):N.slug.startsWith("#")?a.jsx("span",{className:"block px-3 py-2 text-sm text-gray-600 flex-1",children:t==="en"&&N.titleEn?N.titleEn:N.title}):a.jsx(Me,{to:`/${N.slug}`,className:"block px-3 py-2 text-sm text-gray-600 hover:bg-primary-50 rounded-md flex-1",onClick:()=>!N.children||N.children.length===0?c(!1):void 0,children:t==="en"&&N.titleEn?N.titleEn:N.title}),N.children&&N.children.length>0&&a.jsx("button",{onClick:()=>x(N.id),className:"px-3 py-2",children:a.jsx(It,{className:Gs("h-4 w-4 transition-transform",m===N.id&&"rotate-180")})})]}),N.children&&N.children.length>0&&m===N.id&&a.jsx("div",{className:"pl-4 space-y-1",children:N.children.map(k=>k.menuType==="external"&&k.externalUrl?a.jsx("a",{href:k.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 text-xs text-gray-500 hover:bg-primary-50 rounded-md",onClick:()=>c(!1),children:t==="en"&&k.titleEn?k.titleEn:k.title},k.id):k.slug.startsWith("#")?a.jsx("span",{className:"block px-3 py-2 text-xs text-gray-500",children:t==="en"&&k.titleEn?k.titleEn:k.title},k.id):a.jsx(Me,{to:`/${k.slug}`,className:"block px-3 py-2 text-xs text-gray-500 hover:bg-primary-50 rounded-md",onClick:()=>c(!1),children:t==="en"&&k.titleEn?k.titleEn:k.title},k.id))})]},N.id))})]},j.id)),a.jsxs("div",{className:"pt-4 border-t flex space-x-2",children:[a.jsx(Me,{to:"/?locale=en",className:Gs("flex-1 text-center px-3 py-2 text-sm rounded",t==="en"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700"),onClick:()=>c(!1),children:"English"}),a.jsx(Me,{to:"/?locale=id",className:Gs("flex-1 text-center px-3 py-2 text-sm rounded",t==="id"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700"),onClick:()=>c(!1),children:"Indonesia"})]})]})})]})}const A5="https://api.aicjatibening.com/api",Ck="https://api.aicjatibening.com";function ew(){return Ck}function oe(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;if(e.startsWith("/")){const s=ew();if(s){const l=s.replace(/\/+$/,""),c=e.replace(/^\/+/,"/");return`${l}${c}`}return console.error("[getImageUrl] ERROR: No baseUrl found!",{imagePath:e,API_URL:A5,BASE_URL_ENV:Ck,windowOrigin:typeof window<"u"?window.location.origin:"N/A"}),e}const t=e.startsWith("uploads/")?`/${e}`:`/uploads/${e}`,n=ew();return n?`${n}${t}`:t}function Tk(e){if(!e)return[];if(Array.isArray(e))return e.map(t=>oe(t)).filter(t=>t!=="");if(typeof e=="string")try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(n=>oe(n)).filter(n=>n!=="")}catch{const t=oe(e);return t?[t]:[]}return[]}function Ei({locale:e="id",logo:t,websiteName:n,address:r,phone:s,email:l,facebookUrl:c,instagramUrl:u,youtubeUrl:d}){const m=new Date().getFullYear(),p=n||"";return a.jsx("footer",{className:"bg-gradient-to-b from-primary-800 to-primary-900 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("div",{className:"mb-6",children:t?a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("img",{src:oe(t),alt:p,className:"h-14 md:h-20 w-auto object-contain",onError:g=>{console.error("Failed to load footer logo:",t),g.currentTarget.style.display="none"}}),n&&a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:n})]}):n?a.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4 text-white",children:n}):null}),a.jsx("p",{className:"text-primary-100 text-sm leading-relaxed mb-6",children:e==="en"?"Qur'anic Learning, Courtesy Oriented and World Class Education":"Menjadi Sekolah Menengah Atas yang unggul dalam membina generasi Qur'ani, berprestasi, dan berwawasan global, dengan mengintegrasikan nilai-nilai Islam dan Al-Qur'an dalam pengembangan ilmu pengetahuan, sains, dan teknologi"}),(c||u||d)&&a.jsxs("div",{className:"flex space-x-4",children:[c&&a.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-700 hover:bg-primary-600 p-3 rounded-full transition-all duration-300 transform hover:scale-110","aria-label":"Facebook",children:a.jsx(b6,{size:20,className:"text-white"})}),u&&a.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-700 hover:bg-primary-600 p-3 rounded-full transition-all duration-300 transform hover:scale-110","aria-label":"Instagram",children:a.jsx(D6,{size:20,className:"text-white"})}),d&&a.jsx("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"bg-primary-700 hover:bg-primary-600 p-3 rounded-full transition-all duration-300 transform hover:scale-110","aria-label":"YouTube",children:a.jsx(PO,{size:20,className:"text-white"})})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("h4",{className:"text-lg font-bold mb-6 text-white",children:e==="en"?"Contact Information":"Informasi Kontak"}),a.jsxs("div",{className:"space-y-4",children:[r&&a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(fk,{className:"mt-1 text-primary-300 flex-shrink-0",size:20}),a.jsx("p",{className:"text-primary-100 text-sm leading-relaxed",children:r})]}),s&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(p0,{className:"text-primary-300 flex-shrink-0",size:20}),a.jsx("a",{href:`tel:${s.replace(/\s/g,"")}`,className:"text-primary-100 hover:text-white transition-colors text-sm",children:s})]}),l&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(vm,{className:"text-primary-300 flex-shrink-0",size:20}),a.jsx("a",{href:`mailto:${l}`,className:"text-primary-100 hover:text-white transition-colors text-sm",children:l})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-bold mb-6 text-white",children:e==="en"?"Quick Links":"Tautan Cepat"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx("a",{href:"/",className:"text-primary-100 hover:text-white transition-colors text-sm",children:e==="en"?"Home":"Beranda"})}),a.jsx("li",{children:a.jsx("a",{href:"/selayang-pandang",className:"text-primary-100 hover:text-white transition-colors text-sm",children:e==="en"?"About Us":"Selayang Pandang"})}),a.jsx("li",{children:a.jsx("a",{href:"/visi-misi",className:"text-primary-100 hover:text-white transition-colors text-sm",children:e==="en"?"Vision & Mission":"Visi & Misi"})}),a.jsx("li",{children:a.jsx("a",{href:"/kontak",className:"text-primary-100 hover:text-white transition-colors text-sm",children:e==="en"?"Contact":"Kontak"})})]})]})]}),a.jsx("div",{className:"border-t border-primary-700 pt-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[a.jsxs("p",{className:"text-primary-200 text-sm text-center md:text-left",children:[" ",m," ",p&&`${p}. `,e==="en"?"All rights reserved.":"Hak cipta dilindungi."]}),a.jsx("p",{className:"text-primary-200 text-sm text-center md:text-right",children:e==="en"?"Qur'anic Learning, Courtesy Oriented and World Class Education":"Menjadi Sekolah Menengah Atas yang unggul dalam membina generasi Qur'ani, berprestasi, dan berwawasan global, dengan mengintegrasikan nilai-nilai Islam dan Al-Qur'an dalam pengembangan ilmu pengetahuan, sains, dan teknologi"})]})})]})})}function Ci({phoneNumber:e,defaultMessage:t}){const[n,r]=S.useState(!1),[s,l]=S.useState("");if(S.useEffect(()=>{l(t||`Assalamualaikum SMA AL AZHAR INSAN CENDEKIA JATIBENING
Mohon info lebih lanjut untuk pendaftaran murid baru
Terima Kasih`)},[t]),!e)return null;const c=()=>{const u=encodeURIComponent(s),d=`https://wa.me/${e.replace(/[^0-9]/g,"")}?text=${u}`;window.open(d,"_blank")};return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>r(!n),className:`fixed bottom-6 right-6 z-50 bg-[#25D366] hover:bg-[#20BA5A] text-white rounded-full p-4 shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center group ${n?"rotate-0":""}`,"aria-label":"WhatsApp",children:n?a.jsx(Ae,{size:28,className:"transition-transform"}):a.jsx(J6,{size:28,className:"group-hover:scale-110 transition-transform"})}),n&&a.jsxs("div",{className:"fixed bottom-24 right-6 z-40 w-80 bg-white rounded-lg shadow-2xl overflow-hidden border border-gray-200",children:[a.jsxs("div",{className:"bg-[#25D366] text-white px-4 py-3 flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-sm",children:"WhatsApp"}),a.jsx("button",{onClick:()=>r(!1),className:"text-white hover:bg-white/20 rounded-full p-1 transition-colors","aria-label":"Close",children:a.jsx(Ae,{size:18})})]}),a.jsx("div",{className:"p-4 bg-white",children:a.jsx("textarea",{value:s,onChange:u=>l(u.target.value),className:"w-full bg-white border border-gray-200 rounded-lg p-3 outline-none resize-none text-sm text-gray-700 focus:ring-2 focus:ring-[#25D366] focus:border-[#25D366]",rows:5,placeholder:"Tulis pesan Anda..."})}),a.jsx("div",{className:"px-4 pb-4",children:a.jsxs("button",{onClick:c,className:"w-full bg-[#25D366] hover:bg-[#20BA5A] text-white font-semibold py-2.5 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors text-sm",children:[a.jsx(vO,{size:18}),a.jsx("span",{children:"Kirim"})]})})]})]})}function b0({sliders:e,locale:t="id"}){const[n,r]=S.useState(0),[s,l]=S.useState(!0),[c,u]=S.useState(null),[d,m]=S.useState({}),[p,g]=S.useState({}),x=S.useRef(null),b=e.filter(R=>R.isActive!==!1);S.useEffect(()=>{b.forEach(R=>{if(R.image&&R.image.trim()!==""&&R.image!=="null"){const _=new Image;_.src=oe(R.image),_.onload=()=>{g(U=>({...U,[R.id]:!0}))},_.onerror=()=>{console.error("Failed to preload image for slider:",R.id,oe(R.image)),g(U=>({...U,[R.id]:!1}))}}})},[b]),S.useEffect(()=>{},[e,b]);const v=()=>{x.current&&(clearTimeout(x.current),x.current=null)},j=()=>{l(!1),v()},N=()=>{v(),x.current=setTimeout(()=>{l(!0),x.current=null},1e4)};if(S.useEffect(()=>()=>{v()},[]),S.useEffect(()=>{if(!s||b.length<=1)return;const R=b[n],_=R?.videoFile,U=R?.videoDuration,P=_&&U&&U>0?U*1e3:5e3,G=setTimeout(()=>{r(B=>(B+1)%b.length)},P);return()=>clearTimeout(G)},[s,b.length,n,b]),b.length===0)return a.jsx("div",{className:"flex items-center justify-center h-[50vh] bg-gray-100 text-gray-500",children:"No active slides available."});const k=b[n],T=R=>{r(R),u(null),j(),N()},C=()=>{r(R=>(R-1+b.length)%b.length),u(null),j(),N()},A=()=>{r(R=>(R+1)%b.length),u(null),j(),N()},M=100/b.length,D=`translateX(-${n*M}%)`;S.useEffect(()=>{},[n,b.length,D,k]);const z=R=>R&&(R.startsWith("http://")||R.startsWith("https://")),L=R=>{if(!R)return null;const _=R.trim(),U=/(?:youtube\.com\/(?:watch\?v=|embed\/|shorts\/|v\/)|youtu\.be\/)([A-Za-z0-9_-]{11})/,P=_.match(U);if(P&&P[1])return P[1];try{const G=new URL(_);if(G.hostname.includes("youtube.com")){const B=G.searchParams.get("v");return B&&B.length>=11?B:null}}catch{}return null},K=R=>{if(!R.videoUrl)return;const _=L(R.videoUrl);if(j(),!_){window.open(R.videoUrl,"_blank","noopener,noreferrer");return}u({sliderId:R.id,videoId:_})},X=()=>{u(null),l(!0)};return a.jsxs("div",{className:"relative h-[85vh] min-h-[700px] overflow-hidden",style:{width:"100vw",position:"relative"},children:[a.jsx("div",{className:"flex h-full transition-transform duration-700 ease-in-out",style:{width:`${b.length*100}%`,transform:D,position:"relative",willChange:"transform",display:"flex",flexDirection:"row"},children:b.map((R,_)=>{const U=100/b.length;return a.jsx("div",{style:{width:`${U}%`,minWidth:`${U}%`,maxWidth:`${U}%`,flexShrink:0,flexGrow:0,position:"relative",height:"100%",overflow:"hidden"},className:"h-full relative","data-slider-index":_,"data-slider-id":R.id,children:R.videoFile&&R.videoFile.trim()!==""&&R.videoFile!=="null"?a.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[R.image&&R.image.trim()!==""&&R.image!=="null"&&a.jsx("img",{src:oe(R.image),alt:R.title||"Hero Background",className:"absolute inset-0 w-full h-full object-cover",style:{zIndex:0},loading:"eager",onError:P=>{console.error("Failed to load video background image:",{sliderId:R.id,image:R.image,imageUrl:oe(R.image)}),P.currentTarget.style.display="none"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/40",style:{zIndex:.5}}),a.jsxs("video",{autoPlay:!0,muted:!0,loop:!R.videoDuration,playsInline:!0,preload:"auto",className:"absolute inset-0 w-full h-full object-cover",style:{zIndex:d[R.id]?1:0,opacity:d[R.id]?1:0,transition:"opacity 0.5s ease-in-out"},onEnded:()=>{R.videoDuration&&s&&b.length>1&&r(P=>(P+1)%b.length)},onError:P=>{console.error("Video load error, hiding video and showing image fallback:",{videoFile:R.videoFile,videoUrl:oe(R.videoFile),sliderId:R.id}),m(B=>({...B,[R.id]:!1}));const G=P.currentTarget;G.style.display="none"},onLoadedData:()=>{m(P=>({...P,[R.id]:!0}))},onCanPlay:()=>{m(P=>({...P,[R.id]:!0}))},children:[a.jsx("source",{src:oe(R.videoFile),type:"video/mp4"}),a.jsx("source",{src:oe(R.videoFile),type:"video/webm"}),"Your browser does not support the video tag."]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/40 z-10"})]}):a.jsx("div",{className:"absolute inset-0 w-full h-full bg-gray-200",style:{zIndex:0,visibility:"visible"},children:R.image&&R.image.trim()!==""&&R.image!=="null"?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:oe(R.image),alt:R.title||"Hero Slider",className:"absolute inset-0 w-full h-full object-cover",style:{zIndex:0,minWidth:"100%",minHeight:"100%",width:"100%",height:"100%",display:"block",visibility:"visible",opacity:p[R.id]!==!1?1:0,transition:"opacity 0.3s ease-in-out"},loading:"eager",decoding:"async",onError:P=>{console.error("Failed to load slider image:",{sliderId:R.id,image:R.image,imageUrl:oe(R.image),mapIndex:_,slideWidthPercent:U}),g(G=>({...G,[R.id]:!1})),P.currentTarget.style.display="none"},onLoad:P=>{g(G=>({...G,[R.id]:!0})),P.currentTarget.style.opacity="1"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-black/40",style:{zIndex:1}})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{zIndex:0},children:a.jsx("p",{className:"text-gray-500",children:"Gambar tidak tersedia"})})})},R.id)})}),a.jsx("div",{className:"absolute inset-0 flex items-center pt-32",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:a.jsxs("div",{className:"max-w-5xl text-white text-center mx-auto",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold mb-6 text-white animate-slide-in leading-tight",style:{textShadow:"3px 3px 12px rgba(0,0,0,0.9)",letterSpacing:"0.5px"},children:(()=>{const R=t==="en"&&k.titleEn?k.titleEn:k.title,_=R?.split(" Islamic ")||[];if(_.length>1)return a.jsxs(a.Fragment,{children:[_[0],a.jsx("br",{}),"Islamic ",_[1]]});const U=R?.split(" International ")||[];return U.length>1?a.jsxs(a.Fragment,{children:[U[0],a.jsx("br",{}),"International ",U[1]]}):R})()}),k.subtitle&&(()=>{const R=t==="en"&&k.subtitleEn?k.subtitleEn:k.subtitle;if(!R)return null;const _=R.split(" and ");return _.length>1?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-lg md:text-xl lg:text-2xl mb-1 text-white font-normal animate-slide-in animate-delay-1",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.9)"},children:_[0]}),a.jsx("p",{className:"text-lg md:text-xl lg:text-2xl mb-8 text-white font-normal animate-slide-in animate-delay-1",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.9)"},children:_[1]})]}):a.jsx("p",{className:"text-lg md:text-xl lg:text-2xl mb-8 text-white font-normal animate-slide-in animate-delay-1",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.9)"},children:R})})(),k.videoUrl&&a.jsxs("div",{className:"animate-slide-in animate-delay-2 mt-6 flex flex-col items-center",children:[a.jsx("button",{type:"button",onClick:()=>K(k),className:"w-20 h-20 rounded-full bg-white/90 text-red-600 hover:bg-red-600 hover:text-white shadow-2xl flex items-center justify-center transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-white/50","aria-label":"Putar video",children:a.jsx(Lc,{size:36,fill:"currentColor",strokeWidth:0,className:"ml-1"})}),a.jsx("span",{className:"mt-4 uppercase tracking-[0.5em] text-xs text-white/80",children:"Putar Video"})]}),k.buttonText&&k.buttonUrl&&a.jsx("div",{className:`animate-slide-in ${k.videoUrl?"animate-delay-3":"animate-delay-2"} mt-8`,children:a.jsx("a",{href:k.buttonUrl,target:z(k.buttonUrl)?"_blank":"_self",rel:z(k.buttonUrl)?"noopener noreferrer":void 0,className:"inline-block bg-primary-500 hover:bg-primary-600 text-white px-10 py-4 rounded-lg font-bold text-lg md:text-xl shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105",style:{boxShadow:"0 10px 25px rgba(34, 197, 94, 0.3)"},children:t==="en"&&k.buttonTextEn?k.buttonTextEn:k.buttonText})})]})})},n),b.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:C,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 rounded-full transition-all duration-200 z-20 shadow-lg","aria-label":"Previous slide",children:a.jsx(ym,{size:24})}),a.jsx("button",{onClick:A,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 rounded-full transition-all duration-200 z-20 shadow-lg","aria-label":"Next slide",children:a.jsx(ao,{size:24})})]}),b.length>1&&a.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex space-x-2 z-20",children:b.map((R,_)=>a.jsx("button",{onClick:()=>T(_),className:`h-2 rounded-full transition-all duration-300 ${_===n?"w-10 bg-primary-500":"w-2 bg-white/60 hover:bg-white/80"}`,"aria-label":`Go to slide ${_+1}`},_))}),c&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:a.jsxs("div",{className:"relative w-full max-w-5xl aspect-video bg-black rounded-2xl overflow-hidden shadow-2xl border border-white/10",children:[a.jsx("iframe",{src:`https://www.youtube.com/embed/${c.videoId}?autoplay=1&rel=0`,title:"Hero Slider Video",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"}),a.jsx("button",{type:"button",onClick:X,className:"absolute top-4 right-4 bg-black/70 text-white rounded-full p-2 hover:bg-black focus:outline-none focus:ring-2 focus:ring-white/70","aria-label":"Tutup video",children:a.jsx(Ae,{size:20})})]})})]})}function M5({quote:e,quoteEn:t,locale:n="id"}){if(!e)return null;const r=n==="en"&&t?t:e;return a.jsxs("section",{className:"py-8 md:py-10 lg:py-12 bg-white relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-primary-200 rounded-full -translate-x-1/2 -translate-y-1/2 blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-primary-200 rounded-full translate-x-1/2 translate-y-1/2 blur-3xl"})]}),a.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:a.jsx("div",{className:"text-center",children:a.jsxs("h2",{className:"font-serif italic text-gray-900",style:{fontFamily:"'Playfair Display', 'Georgia', 'Times New Roman', serif",fontSize:"clamp(1.75rem, 3.5vw, 2.5rem)",fontWeight:400,letterSpacing:"0.02em",lineHeight:"1.5",fontStyle:"italic",textShadow:"0 1px 2px rgba(0,0,0,0.03)"},children:['"',r,'"']})})})]})}function y0({sections:e,locale:t="id"}){const n=r=>r&&(r.startsWith("http://")||r.startsWith("https://"));return e.length===0?null:a.jsx(a.Fragment,{children:e.map(r=>a.jsx("section",{className:"bg-white",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-[500px] lg:min-h-[600px]",children:[a.jsx("div",{className:"bg-yellow-400 flex items-center justify-center p-8 lg:p-12 xl:p-16",children:a.jsxs("div",{className:"max-w-xl space-y-6",children:[r.title&&a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 leading-tight font-sans",children:t==="en"&&r.titleEn?r.titleEn:r.title}),(r.content||r.subtitle)&&a.jsx("p",{className:"text-gray-900 text-base md:text-lg leading-relaxed font-sans",children:t==="en"&&r.contentEn?r.contentEn:r.content||r.subtitle}),r.buttonText&&r.buttonUrl&&a.jsx("div",{className:"pt-4",children:n(r.buttonUrl)?a.jsx("a",{href:r.buttonUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-primary-700 hover:bg-primary-800 text-white px-8 py-3.5 rounded-lg font-bold text-base shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105",children:t==="en"&&r.buttonTextEn?r.buttonTextEn:r.buttonText}):a.jsx("a",{href:r.buttonUrl,className:"inline-block bg-primary-700 hover:bg-primary-800 text-white px-8 py-3.5 rounded-lg font-bold text-base shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105",children:t==="en"&&r.buttonTextEn?r.buttonTextEn:r.buttonText})})]})}),a.jsx("div",{className:"relative min-h-[400px] lg:min-h-full",children:r.image?a.jsx("img",{src:oe(r.image),alt:t==="en"&&r.titleEn?r.titleEn:r.title||"",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400",children:"No image"})})})]})},r.id))})}function Ak({section:e,locale:t="id"}){const[n,r]=S.useState([]),[s,l]=S.useState(0),[c]=S.useState(!1);S.useEffect(()=>{let m=[];if(e.faqItems){if(Array.isArray(e.faqItems))m=e.faqItems;else if(typeof e.faqItems=="string")try{const g=JSON.parse(e.faqItems);m=Array.isArray(g)?g:[]}catch(g){console.error("Error parsing faqItems:",g),m=[]}}const p=m.sort((g,x)=>(g.order||0)-(x.order||0)).map(g=>({id:g.id,question:g.question||"",questionEn:g.questionEn||null,answer:g.answer||"",answerEn:g.answerEn||null}));r(p)},[e.faqItems]);const u=m=>{l(s===m?null:m)};if(c)return a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})})});if(n.length===0)return null;const d=t==="en"&&e.titleEn?e.titleEn:e.title;return a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d&&a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:d})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-start",children:[a.jsx("div",{className:"space-y-4",children:n.map((m,p)=>{const g=s===p,x=t==="en"&&m.questionEn?m.questionEn:m.question,b=t==="en"&&m.answerEn?m.answerEn:m.answer;return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[a.jsxs("button",{onClick:()=>u(p),className:`w-full px-6 py-4 flex items-center justify-between text-left transition-colors ${g?"bg-green-500 text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[a.jsx("span",{className:"font-semibold text-base md:text-lg pr-4",children:x}),g?a.jsx(Zt,{size:24,className:"flex-shrink-0"}):a.jsx(It,{size:24,className:"flex-shrink-0"})]}),g&&a.jsx("div",{className:"px-6 py-4 bg-white",children:a.jsx("div",{className:"text-gray-700 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:b}})})]},m.id)})}),e.image&&a.jsx("div",{className:"sticky top-8",children:a.jsx("div",{className:"relative h-full min-h-[500px] lg:min-h-[600px]",children:a.jsx("img",{src:oe(e.image),alt:"FAQ Section Image",className:"w-full h-full object-cover rounded-lg shadow-lg",onError:m=>{console.error("Failed to load image:",e.image),m.currentTarget.src="/placeholder-image.png"}})})})]})]})})}function O5({section:e,locale:t="id"}){const n=t==="en"&&e.titleEn?e.titleEn:e.title,r=t==="en"&&e.contentEn?e.contentEn:e.content;return a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900",children:n})}),a.jsx("div",{className:"relative w-full",style:{minHeight:"600px"},children:e.image?a.jsx("div",{className:"relative w-full h-full",children:a.jsx("img",{src:oe(e.image),alt:n||"University Map",className:"w-full h-auto object-contain",style:{maxHeight:"800px"}})}):a.jsxs("div",{className:"relative w-full bg-gray-100 rounded-lg overflow-hidden",style:{minHeight:"600px"},children:[a.jsxs("svg",{viewBox:"0 0 1000 500",className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{width:"1000",height:"500",fill:"#e0f2fe"}),a.jsx("path",{d:"M 150 100 L 250 80 L 280 120 L 270 180 L 200 200 L 150 180 Z",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:"2"}),a.jsx("path",{d:"M 200 220 L 250 200 L 260 280 L 240 350 L 200 340 Z",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:"2"}),a.jsx("path",{d:"M 450 80 L 520 70 L 540 120 L 500 150 L 450 140 Z",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:"2"}),a.jsx("path",{d:"M 480 150 L 550 140 L 560 280 L 520 350 L 480 340 Z",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:"2"}),a.jsx("path",{d:"M 550 50 L 750 40 L 800 100 L 780 200 L 720 250 L 650 240 L 580 200 L 560 120 Z",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:"2"}),a.jsx("path",{d:"M 750 300 L 850 290 L 860 330 L 840 360 L 780 350 Z",fill:"#3b82f6",stroke:"#1e40af",strokeWidth:"2"}),a.jsx("circle",{cx:"200",cy:"140",r:"6",fill:"#ef4444"}),a.jsx("circle",{cx:"480",cy:"100",r:"6",fill:"#ef4444"}),a.jsx("circle",{cx:"650",cy:"80",r:"6",fill:"#ef4444"}),a.jsx("circle",{cx:"700",cy:"150",r:"6",fill:"#ef4444"}),a.jsx("circle",{cx:"800",cy:"200",r:"6",fill:"#ef4444"}),a.jsx("circle",{cx:"800",cy:"320",r:"6",fill:"#ef4444"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500 text-lg",children:t==="id"?"Upload gambar peta universitas":"Upload university map image"})})]})}),r&&a.jsx("div",{className:"mt-8 text-center",children:a.jsx("div",{className:"text-gray-700 text-base md:text-lg leading-relaxed max-w-3xl mx-auto prose prose-lg",dangerouslySetInnerHTML:{__html:r}})})]})})}function z5({section:e,locale:t="id"}){let n=[];if(e.figures){if(Array.isArray(e.figures))n=e.figures;else if(typeof e.figures=="string")try{const s=JSON.parse(e.figures);n=Array.isArray(s)?s:[]}catch(s){console.error("Error parsing figures:",s),n=[]}}if(n.length===0)return null;const r=t==="en"&&e.titleEn?e.titleEn:e.title||"Tokoh-Tokoh SMA AL AZHAR INSAN CENDEKIA JATIBENING";return a.jsxs("section",{className:"relative py-20 md:py-24 lg:py-32 min-h-[700px] flex items-center",style:{backgroundImage:e.image?`url(${oe(e.image)})`:"linear-gradient(to bottom, #4a5568 0%, #2d3748 25%, #1a202c 50%, #2d3748 75%, #4a5568 100%)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/30"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full",children:[a.jsx("div",{className:"text-center mb-16 md:mb-20",children:a.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white",style:{textShadow:"0 4px 12px rgba(0, 0, 0, 0.5)",letterSpacing:"-0.02em"},children:r})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 md:gap-16 max-w-5xl mx-auto",children:n.map(s=>{const l=t==="en"&&s.nameEn?s.nameEn:s.name,c=t==="en"&&s.positionEn?s.positionEn:s.position;return a.jsxs("div",{className:"relative group flex flex-col items-center",children:[a.jsx("div",{className:"relative mb-6 w-full max-w-sm",children:a.jsx("div",{className:"relative w-full aspect-[3/4] overflow-hidden",children:a.jsx("img",{src:oe(s.image),alt:l,className:"w-full h-full object-cover object-top transition-transform duration-300 group-hover:scale-105"})})}),a.jsx("div",{className:"text-center w-full",children:a.jsxs("div",{className:"bg-blue-900/95 backdrop-blur-sm px-6 py-4 rounded-lg shadow-xl inline-block",style:{minWidth:"200px",maxWidth:"100%"},children:[a.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1.5",style:{textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:l}),a.jsx("p",{className:"text-sm md:text-base text-white/95 font-medium uppercase tracking-wide",style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.2)"},children:c})]})})]},s.id)})})]})]})}function D5({section:e,locale:t="id"}){const n=t==="en"&&e.titleEn?e.titleEn:e.title,r=t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle,s=t==="en"&&e.contentEn?e.contentEn:e.content,l=t==="en"&&e.buttonTextEn?e.buttonTextEn:e.buttonText,c=u=>u&&(u.startsWith("http://")||u.startsWith("https://"));return a.jsx("section",{className:"bg-white",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-[500px] lg:min-h-[600px]",children:[a.jsx("div",{className:"bg-blue-900 flex items-center justify-center p-8 lg:p-12 xl:p-16",style:{background:"linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #1e3a8a 100%)"},children:a.jsxs("div",{className:"max-w-xl space-y-6",children:[n&&a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white leading-tight",children:n}),r&&a.jsx("p",{className:"text-xl md:text-2xl text-white/90 font-medium",children:r}),s&&a.jsx("div",{className:"text-white text-base md:text-lg leading-relaxed",style:{textShadow:"0 1px 3px rgba(0, 0, 0, 0.3)"},dangerouslySetInnerHTML:{__html:s}}),l&&e.buttonUrl&&a.jsx("div",{className:"pt-4",children:c(e.buttonUrl)?a.jsx("a",{href:e.buttonUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gray-900 hover:bg-gray-800 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:l}):a.jsx(Me,{to:e.buttonUrl,className:"inline-block bg-gray-900 hover:bg-gray-800 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:l})})]})}),a.jsx("div",{className:"relative min-h-[400px] lg:min-h-full",children:e.image?a.jsx("img",{src:oe(e.image),alt:n||"International Program",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400",children:"No image"})})})]})})}const I5={international:{id:"Kerjasama ",en:"Cooperation"},health:{id:"Kerjasama Kesehatan",en:"Health Cooperation"},"student-escort":{id:"Kerjasama Pengawalan Siswa",en:"Student Escort Cooperation"}};function _5({section:e,locale:t="id"}){let n=[];if(e.partnerships)if(typeof e.partnerships=="string")try{const l=JSON.parse(e.partnerships);n=Array.isArray(l)?l:[]}catch{n=[]}else Array.isArray(e.partnerships)&&(n=e.partnerships);if(n.length===0)return null;const r=n.reduce((l,c)=>(l[c.category]||(l[c.category]=[]),l[c.category].push(c),l),{}),s=["international","health","student-escort"];return a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.map(l=>{const c=r[l]||[];if(c.length===0)return null;const u=I5[l],d=t==="en"?u.en:u.id;return a.jsxs("div",{className:"mb-16 last:mb-0",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-10 text-primary-600",children:d}),a.jsx("div",{className:"flex flex-wrap justify-center items-start gap-8 md:gap-12",children:c.map(m=>{const p=t==="en"&&m.nameEn?m.nameEn:m.name,g=t==="en"&&m.locationEn?m.locationEn:m.location;return a.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[200px] max-w-[250px]",children:[m.logo&&a.jsx("div",{className:"mb-4 h-24 w-full flex items-center justify-center",children:a.jsx("img",{src:oe(m.logo),alt:p,className:"max-h-24 max-w-full object-contain",onError:x=>{console.error("Failed to load logo:",m.logo),x.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm md:text-base text-primary-600 font-medium mb-1",children:p}),g&&a.jsx("p",{className:"text-xs md:text-sm text-primary-600",children:g})]})]},m.id)})})]},l)})})})}const R5="https://api.aicjatibening.com/api".replace(/\/+$/,"");function lc(e){const t=R5,n=e.startsWith("/")?e:`/${e}`;return`${t}${n}`}function Mk(){return typeof window<"u"?localStorage.getItem("auth_token"):null}function Dd(e=!0){const t={"Content-Type":"application/json"};if(e){const n=Mk();n&&(t.Authorization=`Bearer ${n}`)}return t}const ae={async get(e,t=!0){const n=await fetch(lc(e),{method:"GET",headers:Dd(t)});if(!n.ok){const s=n.headers.get("content-type");if(s&&s.includes("application/json")){const l=await n.json().catch(()=>({error:"Unknown error"}));throw new Error(l.error||"Request failed")}else{const l=await n.text().catch(()=>"Request failed");throw new Error(l||"Request failed")}}const r=n.headers.get("content-type");if(r&&r.includes("application/json"))return n.json();{const s=await n.text();try{return JSON.parse(s)}catch{return e.includes("/admin/")?[]:null}}},async post(e,t,n=!0){const r=await fetch(lc(e),{method:"POST",headers:Dd(n),body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({error:"Unknown error"}));throw new Error(s.error||"Request failed")}return r.json()},async put(e,t,n=!0){const r=await fetch(lc(e),{method:"PUT",headers:Dd(n),body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({error:"Unknown error"}));throw new Error(s.error||"Request failed")}return r.json()},async delete(e,t=!0){const n=await fetch(lc(e),{method:"DELETE",headers:Dd(t)});if(!n.ok){const s=await n.json().catch(()=>({error:"Unknown error"}));throw new Error(s.error||"Request failed")}const r=n.headers.get("content-type");return r&&r.includes("application/json")?n.json():{success:!0}},async upload(e,t,n="general",r=!0,s=!1,l=!1,c=!1,u=5){const d=new FormData;d.append("file",t),d.append("type",n),s&&d.append("isVideo","true"),l&&d.append("isDocument","true"),c&&(d.append("trimVideo","true"),d.append("trimDuration",u.toString()));const m={};if(r){const g=Mk();g&&(m.Authorization=`Bearer ${g}`)}const p=await fetch(lc(e),{method:"POST",headers:m,body:d});if(!p.ok){const g=await p.json().catch(()=>({error:"Unknown error"}));throw new Error(g.error||"Upload failed")}return p.json()}};function Ok(e={}){const{threshold:t=.15,rootMargin:n="0px 0px -80px 0px",triggerOnce:r=!0}=e,[s,l]=S.useState(!1),c=S.useRef(null);return S.useEffect(()=>{const u=c.current;if(!u)return;const d=new IntersectionObserver(m=>{m.forEach(p=>{p.isIntersecting?(l(!0),r&&d.unobserve(u)):r||l(!1)})},{threshold:t,rootMargin:n});return d.observe(u),()=>{u&&d.unobserve(u)}},[t,n,r]),{elementRef:c,isVisible:s}}function v0({children:e,className:t="",delay:n=0,direction:r="up"}){const{elementRef:s,isVisible:l}=Ok({threshold:.1,rootMargin:"0px 0px -50px 0px",triggerOnce:!0}),u={opacity:l?1:0,transform:l?"translateY(0) translateX(0)":(()=>{switch(r){case"up":return"translateY(20px)";case"down":return"translateY(-20px)";case"left":return"translateX(-20px)";case"right":return"translateX(20px)";case"fade":return"translateY(0)";default:return"translateY(20px)"}})(),transition:`opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1) ${n}s, transform 0.6s cubic-bezier(0.4, 0, 0.2, 1) ${n}s`,willChange:l?"auto":"opacity, transform"};return a.jsx("div",{ref:s,className:t,style:u,children:e})}function L5({section:e,locale:t="id"}){const[n,r]=S.useState([]),[s,l]=S.useState(!0),[c]=S.useState(3);S.useEffect(()=>{u()},[]);async function u(){try{const m=await ae.get("/admin/posts",!1),p=(Array.isArray(m)?m:[]).filter(g=>g.isPublished).sort((g,x)=>{const b=new Date(g.publishedAt||g.createdAt).getTime();return new Date(x.publishedAt||x.createdAt).getTime()-b}).slice(0,c);r(p)}catch(m){console.error("Error loading posts:",m),r([])}finally{l(!1)}}const d=t==="en"&&e.titleEn?e.titleEn:e.title;return s?a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):n.length===0?null:a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d&&a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4",style:{color:"#1e3a8a"},children:d})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((m,p)=>{const g=t==="en"&&m.titleEn?m.titleEn:m.title,x=t==="en"&&m.excerptEn?m.excerptEn:m.excerpt,b=v=>{if(!v)return"";const j=new Date(v),N=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];return`${j.getDate()} ${N[j.getMonth()]} ${j.getFullYear()}`};return a.jsx(v0,{delay:p*.1,direction:"up",children:a.jsxs(Me,{to:`/berita/${m.slug}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 group block",children:[m.featuredImage&&a.jsx("div",{className:"relative h-56 overflow-hidden",children:a.jsx("img",{src:oe(m.featuredImage),alt:g,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:v=>{console.error("Failed to load image:",m.featuredImage),v.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[a.jsx(Rc,{size:16,className:"mr-2"}),a.jsx("span",{children:b(m.publishedAt||m.createdAt)})]}),a.jsx("h3",{className:"text-lg md:text-xl font-bold mb-3 text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:g}),x&&a.jsx("p",{className:"text-gray-600 text-sm md:text-base line-clamp-3 mb-4",children:x}),a.jsxs("span",{className:"text-blue-600 font-medium text-sm hover:underline inline-flex items-center",children:[t==="en"?"Read More":"Selengkapnya",a.jsx("span",{className:"ml-1",children:""})]})]})]})},m.id)})})]})})}function U5({section:e,locale:t="id"}){const n=t==="en"&&e.titleEn?e.titleEn:e.title,r=t==="en"&&e.contentEn?e.contentEn:e.content;return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 md:gap-12",children:[e.badgeImage&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:oe(e.badgeImage),alt:"Akreditasi Badge",className:"h-48 w-48 md:h-64 md:w-64 object-contain"})}),a.jsxs("div",{className:"flex-1",children:[n&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:n}),r&&a.jsx("p",{className:"text-gray-600 text-base md:text-lg leading-relaxed whitespace-pre-line",children:r}),e.accreditationNumber&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["No. ",e.accreditationNumber]}),e.accreditationBody&&a.jsx("p",{className:"text-sm text-gray-500",children:e.accreditationBody})]})]})})})}function P5({section:e,locale:t="id"}){let n=[];if(e.navigationItems)if(typeof e.navigationItems=="string")try{const l=JSON.parse(e.navigationItems);n=Array.isArray(l)?l:[]}catch{n=[]}else Array.isArray(e.navigationItems)&&(n=e.navigationItems);if(n.length===0)return null;const r=t==="en"&&e.titleEn?e.titleEn:e.title,s=l=>l.startsWith("http://")||l.startsWith("https://");return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 mb-8 md:mb-12",children:r}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:n.map(l=>{const c=a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-teal-500 text-white p-6 rounded-lg hover:from-blue-600 hover:to-teal-600 transition-all duration-300 transform hover:scale-105 shadow-md h-full flex flex-col items-center justify-center text-center",children:[l.icon&&a.jsx("div",{className:"mb-3",children:a.jsx("img",{src:oe(l.icon),alt:l.label,className:"h-12 w-12 object-contain"})}),a.jsx("span",{className:"font-semibold text-sm md:text-base",children:l.label})]});return s(l.url)?a.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:c},l.id):a.jsx(Me,{to:l.url,className:"block",children:c},l.id)})})]})})}function B5({section:e,locale:t="id"}){let n=[];if(e.programItems)if(typeof e.programItems=="string")try{const l=JSON.parse(e.programItems);n=Array.isArray(l)?l:[]}catch{n=[]}else Array.isArray(e.programItems)&&(n=e.programItems);if(n.length===0)return null;const r=t==="en"&&e.titleEn?e.titleEn:e.title,s=l=>l&&(l.startsWith("http://")||l.startsWith("https://"));return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 mb-8 md:mb-12",children:r}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:n.map(l=>{const c=a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 h-full flex flex-col hover:shadow-xl transition-shadow duration-300",children:[l.icon&&a.jsx("div",{className:"mb-4",children:a.jsx("img",{src:oe(l.icon),alt:l.title,className:"h-16 w-16 object-contain"})}),a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3",children:l.title}),a.jsx("div",{className:"h-1 w-12 bg-red-500 mb-4"}),a.jsx("p",{className:"text-gray-600 text-sm md:text-base leading-relaxed flex-grow",children:l.description})]});return l.url&&s(l.url)?a.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:c},l.id):l.url?a.jsx(Me,{to:l.url,className:"block",children:c},l.id):a.jsx("div",{children:c},l.id)})})]})})}function $5({section:e,locale:t="id"}){let n=[];if(e.facilityItems)if(typeof e.facilityItems=="string")try{const l=JSON.parse(e.facilityItems);n=Array.isArray(l)?l:[]}catch{n=[]}else Array.isArray(e.facilityItems)&&(n=e.facilityItems);if(n.length===0)return null;const r=t==="en"&&e.titleEn?e.titleEn:e.title,s=l=>l&&(l.startsWith("http://")||l.startsWith("https://"));return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-900 mb-8 md:mb-12",children:r}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6",children:n.map(l=>{const c=a.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[a.jsx("img",{src:oe(l.image),alt:l.caption||"Facility",className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-110"}),l.caption&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:a.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:l.caption})})]});return l.url&&s(l.url)?a.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"block",children:c},l.id):l.url?a.jsx(Me,{to:l.url,className:"block",children:c},l.id):a.jsx("div",{children:c},l.id)})})]})})}function F5({section:e,locale:t="id"}){let n=[];if(e.extracurricularItems)if(typeof e.extracurricularItems=="string")try{const p=JSON.parse(e.extracurricularItems);n=Array.isArray(p)?p:[]}catch{n=[]}else Array.isArray(e.extracurricularItems)&&(n=e.extracurricularItems);const[r,s]=S.useState(0),l=()=>{s(p=>(p+1)%n.length)},c=()=>{s(p=>(p-1+n.length)%n.length)},u=p=>{s(p)};if(n.length===0)return null;const d=t==="en"&&e.titleEn?e.titleEn:e.title,m=n[r];return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8 md:mb-12 text-center",children:d}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center",children:[e.imageLeft&&a.jsx("div",{className:"relative",children:a.jsx("img",{src:oe(e.imageLeft),alt:"Student",className:"w-full h-auto rounded-lg shadow-lg"})}),a.jsxs("div",{className:"relative",children:[m&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[m.image&&a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:oe(m.image),alt:m.title,className:"w-full h-64 object-cover rounded-lg"})}),a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:m.title}),a.jsx("p",{className:"text-gray-600 text-base md:text-lg leading-relaxed",children:m.description})]}),n.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:c,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors","aria-label":"Previous",children:a.jsx(ym,{size:24,className:"text-gray-700"})}),a.jsx("button",{onClick:l,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors","aria-label":"Next",children:a.jsx(ao,{size:24,className:"text-gray-700"})})]}),n.length>1&&a.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:n.map((p,g)=>a.jsx("button",{onClick:()=>u(g),className:`h-2 rounded-full transition-all ${g===r?"w-8 bg-primary-600":"w-2 bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to slide ${g+1}`},g))})]})]})]})})}function V5({section:e,locale:t="id"}){const r=(u=>{if(!u)return[];if(Array.isArray(u))return u;try{const d=JSON.parse(u);return Array.isArray(d)?d:[]}catch{return[]}})(e.organizationItems);if(r.length===0)return null;const s=(u=null)=>r.filter(d=>d.parentId===u).sort((d,m)=>d.order-m.order).map(d=>({...d,children:s(d.id)})),l=s(),c=(u,d=0)=>{const m=r.filter(g=>g.parentId===u.id).sort((g,x)=>g.order-x.order),p=m.length>0;return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-white shadow-lg bg-gray-200 flex items-center justify-center",children:[u.image?a.jsx("img",{src:oe(u.image),alt:u.name||u.position,className:"w-full h-full object-cover",onError:g=>{g.currentTarget.style.display="none",g.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,!u.image&&a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs md:text-sm font-bold",children:u.name?u.name.charAt(0).toUpperCase():"?"})})]})}),a.jsxs("div",{className:"mt-3 bg-white rounded-lg shadow-md p-3 min-w-[180px] md:min-w-[220px] text-center border border-gray-200",children:[a.jsx("h4",{className:"font-semibold text-sm md:text-base text-gray-900 mb-1",children:u.name||"N/A"}),a.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:t==="en"&&u.positionEn?u.positionEn:u.position})]})]}),p&&a.jsx("div",{className:"relative w-full flex justify-center mb-4",children:a.jsx("div",{className:"w-0.5 h-8 bg-gray-400"})}),p&&a.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6 lg:gap-8 mt-4",children:m.map(g=>c(g,d+1))})]},u.id)};return a.jsxs("section",{className:"py-12 md:py-16 lg:py-20 bg-gradient-to-br from-blue-50 via-blue-100 to-blue-50 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"60px 60px"}})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[(e.title||e.titleEn)&&a.jsx("div",{className:"text-center mb-8 md:mb-12",children:a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-2",children:t==="en"&&e.titleEn?e.titleEn:e.title})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-6 md:p-8 lg:p-12 border border-white/50",children:a.jsx("div",{className:"flex flex-wrap justify-center gap-6 md:gap-8 lg:gap-12",children:l.map(u=>c(u))})})]})]})}function H5({section:e,locale:t="id"}){const[n,r]=S.useState(null),l=(x=>{if(!x)return[];if(Array.isArray(x))return x;try{const b=JSON.parse(x);return Array.isArray(b)?b:[]}catch{return[]}})(e.achievementItems).sort((x,b)=>x.order-b.order);if(l.length===0)return null;const c=x=>{r(x),document.body.style.overflow="hidden"},u=()=>{r(null),document.body.style.overflow="unset"},d=()=>{if(n===null)return;const x=n>0?n-1:l.length-1;r(x)},m=()=>{if(n===null)return;const x=n<l.length-1?n+1:0;r(x)};qt.useEffect(()=>{if(n===null)return;const x=b=>{b.key==="Escape"?u():b.key==="ArrowLeft"?d():b.key==="ArrowRight"&&m()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[n]);const p=x=>{switch(x){case"gold":return"bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600";case"blue":return"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700";default:return"bg-gradient-to-br from-blue-400 via-teal-500 to-green-500"}},g=(x,b,v=!1)=>{const j=t==="en"&&x.titleEn?x.titleEn:x.title,N=t==="en"&&x.descriptionEn?x.descriptionEn:x.description,k=t==="en"&&x.competitionNameEn?x.competitionNameEn:x.competitionName;return a.jsxs("div",{className:`${p(x.backgroundType)} rounded-2xl shadow-xl p-6 md:p-8 lg:p-10 text-white relative overflow-hidden ${v?"max-w-4xl mx-auto":"cursor-pointer transform transition-all hover:scale-105 hover:shadow-2xl"}`,onClick:v?void 0:()=>c(b),children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"60px 60px"}})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.leftLogo&&a.jsx("img",{src:oe(x.leftLogo),alt:"Left Logo",className:"h-12 md:h-16 w-auto object-contain"}),x.rightLogo&&a.jsx("img",{src:oe(x.rightLogo),alt:"Right Logo",className:"h-12 md:h-16 w-auto object-contain"})]}),a.jsx("h3",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-2 text-center",children:j}),x.subtitle&&a.jsx("p",{className:"text-sm md:text-base text-center mb-6 opacity-90",children:x.subtitle}),x.students.length>0&&a.jsx("div",{className:`flex flex-wrap justify-center gap-4 md:gap-6 mb-6 ${x.students.length===1?"justify-center":""}`,children:x.students.map(T=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"relative mb-3",children:a.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 lg:w-28 lg:h-28 rounded-full overflow-hidden border-4 border-white shadow-lg bg-white/20 flex items-center justify-center",children:T.image?a.jsx("img",{src:oe(T.image),alt:T.name,className:"w-full h-full object-cover",onError:C=>{C.currentTarget.style.display="none"}}):a.jsx("div",{className:"w-full h-full bg-white/30 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl md:text-3xl font-bold",children:T.name?T.name.charAt(0).toUpperCase():"?"})})})}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-semibold text-sm md:text-base mb-1",children:T.name}),T.position&&a.jsx("p",{className:"text-xs md:text-sm opacity-90",children:T.position})]})]},T.id))}),k&&a.jsx("p",{className:"text-center text-sm md:text-base font-medium mb-4 opacity-95",children:k}),N&&a.jsx("p",{className:"text-center text-sm md:text-base leading-relaxed opacity-90",children:N})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(e.title||e.titleEn)&&a.jsx("div",{className:"text-center mb-8 md:mb-12",children:a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-2",children:t==="en"&&e.titleEn?e.titleEn:e.title})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:l.map((x,b)=>a.jsx("div",{children:g(x,b,!1)},x.id))})]})}),n!==null&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",onClick:u,children:a.jsxs("div",{className:"relative w-full max-w-5xl",onClick:x=>x.stopPropagation(),children:[a.jsx("button",{onClick:u,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors z-10","aria-label":"Close",children:a.jsx(Ae,{size:32})}),l.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:x=>{x.stopPropagation(),d()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white rounded-full p-3 transition-colors z-10","aria-label":"Previous",children:a.jsx(ym,{size:24})}),a.jsx("button",{onClick:x=>{x.stopPropagation(),m()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white rounded-full p-3 transition-colors z-10","aria-label":"Next",children:a.jsx(ao,{size:24})})]}),g(l[n],n,!0),l.length>1&&a.jsx("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2 flex space-x-2",children:l.map((x,b)=>a.jsx("button",{onClick:v=>{v.stopPropagation(),r(b)},className:`h-2 rounded-full transition-all ${b===n?"w-8 bg-white":"w-2 bg-white/40 hover:bg-white/60"}`,"aria-label":`Go to slide ${b+1}`},b))}),l.length>1&&a.jsxs("div",{className:"absolute -bottom-12 right-0 text-white text-sm",children:[n+1," / ",l.length]})]})})]})}function q5({section:e,locale:t="id"}){let n=[];if(e.curriculumItems){if(Array.isArray(e.curriculumItems))n=e.curriculumItems;else if(typeof e.curriculumItems=="string")try{const d=JSON.parse(e.curriculumItems);n=Array.isArray(d)?d:[]}catch{n=[]}}n=n.sort((d,m)=>(d.order||0)-(m.order||0));const r=n.reduce((d,m)=>d+(m.jpTM||0),0),s=n.reduce((d,m)=>d+(m.jpProyek||0),0),l=t==="en"&&e.titleEn?e.titleEn:e.title,c=t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle,u=t==="en"&&e.contentEn?e.contentEn:e.content;return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[l&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 text-center",children:l}),c&&a.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-gray-700 mb-6 text-center",children:c}),u&&a.jsx("div",{className:"prose prose-lg max-w-none mb-8 text-gray-700",dangerouslySetInnerHTML:{__html:u}}),n.length>0&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse border border-gray-300 bg-white shadow-lg rounded-lg overflow-hidden",children:[a.jsxs("thead",{children:[a.jsxs("tr",{className:"bg-blue-600 text-white",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold w-16",children:"No."}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Mata Pelajaran"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-center font-semibold",colSpan:2,children:"Alokasi Waktu"})]}),a.jsxs("tr",{className:"bg-blue-500 text-white",children:[a.jsx("th",{className:"border border-gray-300"}),a.jsx("th",{className:"border border-gray-300"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:"JP TM"}),a.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:"JP Proyek"})]})]}),a.jsxs("tbody",{children:[n.map((d,m)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center font-medium",children:m+1}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:d.mataPelajaran}),a.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:d.jpTM||0}),a.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:d.jpProyek!==null&&d.jpProyek!==void 0?d.jpProyek:"-"})]},d.id)),a.jsxs("tr",{className:"bg-gray-100 font-bold",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",colSpan:2,children:"Total"}),a.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:r}),a.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center",children:s})]})]})]})}),n.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{children:"Belum ada data kurikulum."})})]})})}function G5({section:e,locale:t="id"}){let n=[];if(e.calendarItems){if(Array.isArray(e.calendarItems))n=e.calendarItems;else if(typeof e.calendarItems=="string")try{const u=JSON.parse(e.calendarItems);n=Array.isArray(u)?u:[]}catch{n=[]}}n=n.sort((u,d)=>(u.order||0)-(d.order||0));const r=t==="en"&&e.titleEn?e.titleEn:e.title,s=t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle,l=t==="en"&&e.contentEn?e.contentEn:e.content,c=u=>{if(!u)return"";try{return new Date(u).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}catch{return u}};return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[r&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 text-center",children:r}),s&&a.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-gray-700 mb-6 text-center",children:s}),l&&a.jsx("div",{className:"prose prose-lg max-w-none mb-8 text-gray-700",dangerouslySetInnerHTML:{__html:l}}),n.length>0&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse border border-gray-300 bg-white shadow-lg rounded-lg overflow-hidden",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-blue-600 text-white",children:[a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold w-16",children:"No."}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Bulan/Periode"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Kegiatan"}),a.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left font-semibold",children:"Keterangan"})]})}),a.jsx("tbody",{children:n.map((u,d)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"border border-gray-300 px-4 py-3 text-center font-medium",children:d+1}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Rc,{size:18,className:"text-blue-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:u.bulan}),(u.tanggalMulai||u.tanggalSelesai)&&a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[u.tanggalMulai&&c(u.tanggalMulai),u.tanggalMulai&&u.tanggalSelesai&&" - ",u.tanggalSelesai&&c(u.tanggalSelesai)]})]})]})}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:a.jsx("div",{className:"font-medium text-gray-900",children:u.kegiatan})}),a.jsx("td",{className:"border border-gray-300 px-4 py-3",children:u.keterangan?a.jsx("div",{className:"text-gray-700",children:u.keterangan}):a.jsx("span",{className:"text-gray-400",children:"-"})})]},u.id))})]})}),n.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Rc,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("p",{children:"Belum ada data kalender pendidikan."})]})]})})}function K5({section:e,locale:t="id"}){const[n,r]=S.useState([]),[s,l]=S.useState(!0),[c,u]=S.useState(""),[d,m]=S.useState(null);S.useEffect(()=>{console.log("previewPdf state changed to:",d)},[d]);let p=[];if(e.documentItems){if(Array.isArray(e.documentItems))p=e.documentItems;else if(typeof e.documentItems=="string")try{const C=JSON.parse(e.documentItems);p=Array.isArray(C)?C:[]}catch{p=[]}}S.useEffect(()=>{console.log("=== DOCUMENT ITEMS DEBUG ==="),console.log("Raw section.documentItems:",e.documentItems),console.log("Parsed documentItems:",p),p.forEach((C,A)=>{console.log(`Item ${A}:`,{id:C.id,nama:C.nama,fileUrl:C.fileUrl,fileName:C.fileName,order:C.order})})},[e.documentItems,p]),p=p.filter(C=>C.fileUrl&&C.fileUrl.trim()!==""),p=p.sort((C,A)=>(C.order||0)-(A.order||0)),S.useEffect(()=>{g()},[]);async function g(){try{const C=await ae.get("/admin/posts",!1),A=(Array.isArray(C)?C:[]).filter(M=>M.isPublished).sort((M,D)=>{const z=new Date(M.publishedAt||M.createdAt).getTime();return new Date(D.publishedAt||D.createdAt).getTime()-z}).slice(0,5);r(A)}catch(C){console.error("Error loading posts:",C),r([])}finally{l(!1)}}const x=p.filter(C=>C.nama.toLowerCase().includes(c.toLowerCase())),b=t==="en"&&e.titleEn?e.titleEn:e.title,v=t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle,j=t==="en"&&e.contentEn?e.contentEn:e.content,N=C=>{if(!C)return"";const A=new Date(C),M=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];return`${A.getDate()} ${M[A.getMonth()]} ${A.getFullYear()}`},k=C=>C&&C.split(".").pop()?.toUpperCase()||"PDF",T=(C,A)=>{if(console.log("handlePreviewClick called with:",{fileUrl:C,itemId:A}),!C||C.trim()===""){console.error("File URL is empty!"),alert("File URL tidak tersedia. Silakan hubungi administrator.");return}const M=oe(C);if(console.log("PDF URL generated:",M),!M||M.trim()===""){console.error("Generated PDF URL is empty!"),alert("Gagal membuat URL PDF. Silakan coba lagi.");return}m(M),console.log("previewPdf state set to:",M)};return a.jsxs("section",{className:"py-12 md:py-16 bg-white",children:[a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[b&&a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6 text-center",children:b}),v&&a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-700 mb-6 text-center",children:v}),j&&a.jsx("div",{className:"prose prose-lg max-w-none mb-8 text-gray-700",dangerouslySetInnerHTML:{__html:j}}),p.length>0&&a.jsxs("div",{className:"mb-12",children:[a.jsx("div",{className:"mb-6 max-w-md mx-auto",children:a.jsxs("div",{className:"relative",children:[a.jsx(jm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",value:c,onChange:C=>u(C.target.value),placeholder:"Cari dokumen...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsx("div",{className:"space-y-3",style:{position:"relative",zIndex:1},children:x.length>0?x.map(C=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-300 rounded-lg hover:shadow-md transition-shadow relative",style:{position:"relative",zIndex:1},children:[a.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[a.jsx(La,{className:"text-blue-600 flex-shrink-0",size:24}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 truncate",children:C.nama}),C.fileName&&a.jsxs("div",{className:"text-sm text-gray-500 truncate",children:[C.fileName," (",k(C.fileName),")"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 ml-4",style:{position:"relative",zIndex:10},children:[C.fileUrl&&C.fileUrl.trim()!==""?a.jsxs("button",{type:"button",onClick:A=>{A.preventDefault(),A.stopPropagation(),console.log("=== PREVIEW BUTTON CLICKED ==="),console.log("Item ID:",C.id),console.log("File URL:",C.fileUrl),T(C.fileUrl,C.id)},onMouseDown:A=>{console.log("Preview button mouse down event"),A.stopPropagation()},onMouseUp:A=>{console.log("Preview button mouse up event"),A.stopPropagation()},onTouchStart:A=>{console.log("Preview button touch start (mobile)"),A.stopPropagation()},style:{position:"relative",zIndex:11,pointerEvents:"auto",cursor:"pointer",userSelect:"none",WebkitUserSelect:"none"},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 active:bg-green-800 transition-colors","aria-label":"Preview PDF",tabIndex:0,children:[a.jsx(m0,{size:18}),a.jsx("span",{children:"Preview"})]}):a.jsx("span",{className:"text-sm text-gray-500 italic",children:"File tidak tersedia"}),C.fileUrl&&C.fileUrl.trim()!==""?a.jsxs("a",{href:oe(C.fileUrl),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors pointer-events-auto z-10 relative",children:[a.jsx(rf,{size:18}),a.jsx("span",{children:"Unduh"})]}):null]})]},C.id)):a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{children:"Tidak ada dokumen yang ditemukan."})})})]}),!s&&n.length>0&&a.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-300",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-8 text-center",children:"Berita Terbaru"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(C=>{const A=t==="en"&&C.titleEn?C.titleEn:C.title,M=t==="en"&&C.excerptEn?C.excerptEn:C.excerpt;return a.jsxs(Me,{to:`/berita/${C.slug}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 group",children:[C.featuredImage&&a.jsx("div",{className:"relative h-48 overflow-hidden",children:a.jsx("img",{src:oe(C.featuredImage),alt:A,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:D=>{D.currentTarget.style.display="none"}})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[a.jsx(Rc,{size:16,className:"mr-2"}),a.jsx("span",{children:N(C.publishedAt||C.createdAt)})]}),a.jsx("h3",{className:"text-lg md:text-xl font-bold mb-3 text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:A}),M&&a.jsx("p",{className:"text-gray-600 text-sm md:text-base line-clamp-3 mb-4",children:M}),a.jsxs("span",{className:"text-blue-600 font-medium text-sm hover:underline inline-flex items-center",children:[t==="en"?"Read More":"Selengkapnya",a.jsx("span",{className:"ml-1",children:""})]})]})]},C.id)})})]}),p.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(La,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("p",{children:"Belum ada dokumen yang tersedia."})]})]}),d&&a.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:()=>{console.log("Modal backdrop clicked"),m(null)},children:a.jsxs("div",{className:"relative w-full h-full max-w-6xl max-h-[90vh] bg-white rounded-lg shadow-2xl flex flex-col",onClick:C=>{C.stopPropagation()},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-300",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview PDF"}),a.jsx("button",{type:"button",onClick:C=>{C.stopPropagation(),m(null)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:a.jsx(Ae,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-100 relative",children:[a.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(d)}&embedded=true`,className:"w-full h-full border-0",title:"PDF Preview",allow:"fullscreen",onError:()=>{console.log("Google Docs Viewer failed")}},d),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white hidden",id:"pdf-fallback",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx(La,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 mb-4",children:"PDF tidak dapat ditampilkan di preview. Silakan unduh untuk melihat."}),a.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(rf,{size:18}),a.jsx("span",{children:"Buka PDF di Tab Baru"})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-300",children:[a.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:C=>{C.stopPropagation()},children:[a.jsx(La,{size:18}),a.jsx("span",{children:"Buka di Tab Baru"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("a",{href:d,download:!0,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:C=>{C.stopPropagation()},children:[a.jsx(rf,{size:18}),a.jsx("span",{children:"Unduh PDF"})]}),a.jsx("button",{type:"button",onClick:C=>{C.stopPropagation(),m(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors cursor-pointer",children:"Tutup"})]})]})]})})]})}var su=e=>e.type==="checkbox",ji=e=>e instanceof Date,ir=e=>e==null;const zk=e=>typeof e=="object";var dn=e=>!ir(e)&&!Array.isArray(e)&&zk(e)&&!ji(e),Z5=e=>dn(e)&&e.target?su(e.target)?e.target.checked:e.target.value:e,J5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,W5=(e,t)=>e.has(J5(t)),Y5=e=>{const t=e.constructor&&e.constructor.prototype;return dn(t)&&t.hasOwnProperty("isPrototypeOf")},j0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(j0&&(e instanceof Blob||r))&&(n||dn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!Y5(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=yn(e[s]));else return e;return t}var wm=e=>/^\w*$/.test(e),tn=e=>e===void 0,w0=e=>Array.isArray(e)?e.filter(Boolean):[],N0=e=>w0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,n)=>{if(!t||!dn(e))return n;const r=(wm(t)?[t]:N0(t)).reduce((s,l)=>ir(s)?s:s[l],e);return tn(r)||r===e?tn(e[t])?n:e[t]:r},fs=e=>typeof e=="boolean",Tt=(e,t,n)=>{let r=-1;const s=wm(t)?[t]:N0(t),l=s.length,c=l-1;for(;++r<l;){const u=s[r];let d=n;if(r!==c){const m=e[u];d=dn(m)||Array.isArray(m)?m:isNaN(+s[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const tw={BLUR:"blur",FOCUS_OUT:"focusout"},Zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Q5=qt.createContext(null);Q5.displayName="HookFormContext";var X5=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(s,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Zr.all&&(t._proxyFormState[c]=!r||Zr.all),e[c]}});return s};const ez=typeof window<"u"?qt.useLayoutEffect:qt.useEffect;var jr=e=>typeof e=="string",tz=(e,t,n,r,s)=>jr(e)?(r&&t.watch.add(e),Te(n,e,s)):Array.isArray(e)?e.map(l=>(r&&t.watch.add(l),Te(n,l))):(r&&(t.watchAll=!0),n),hx=e=>ir(e)||!zk(e);function Ia(e,t,n=new WeakSet){if(hx(e)||hx(t))return Object.is(e,t);if(ji(e)&&ji(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const l of r){const c=e[l];if(!s.includes(l))return!1;if(l!=="ref"){const u=t[l];if(ji(c)&&ji(u)||dn(c)&&dn(u)||Array.isArray(c)&&Array.isArray(u)?!Ia(c,u,n):!Object.is(c,u))return!1}}return!0}var k0=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},wc=e=>Array.isArray(e)?e:[e],nw=()=>{let e=[];return{get observers(){return e},next:s=>{for(const l of e)l.next&&l.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(l=>l!==s)}}),unsubscribe:()=>{e=[]}}};function Dk(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],l=t[r];if(s&&dn(s)&&l){const c=Dk(s,l);dn(c)&&(n[r]=c)}else e[r]&&(n[r]=l)}return n}var Hn=e=>dn(e)&&!Object.keys(e).length,S0=e=>e.type==="file",Jr=e=>typeof e=="function",gf=e=>{if(!j0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ik=e=>e.type==="select-multiple",E0=e=>e.type==="radio",nz=e=>E0(e)||su(e),yg=e=>gf(e)&&e.isConnected;function rz(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=tn(e)?r++:e[t[r++]];return e}function sz(e){for(const t in e)if(e.hasOwnProperty(t)&&!tn(e[t]))return!1;return!0}function on(e,t){const n=Array.isArray(t)?t:wm(t)?[t]:N0(t),r=n.length===1?e:rz(e,n),s=n.length-1,l=n[s];return r&&delete r[l],s!==0&&(dn(r)&&Hn(r)||Array.isArray(r)&&sz(r))&&on(e,n.slice(0,-1)),e}var az=e=>{for(const t in e)if(Jr(e[t]))return!0;return!1};function _k(e){return Array.isArray(e)||dn(e)&&!az(e)}function px(e,t={}){for(const n in e){const r=e[n];_k(r)?(t[n]=Array.isArray(r)?[]:{},px(r,t[n])):tn(r)||(t[n]=!0)}return t}function Il(e,t,n){n||(n=px(t));for(const r in e){const s=e[r];if(_k(s))tn(t)||hx(n[r])?n[r]=px(s,Array.isArray(s)?[]:{}):Il(s,ir(t)?{}:t[r],n[r]);else{const l=t[r];n[r]=!Ia(s,l)}}return n}const rw={value:!1,isValid:!1},sw={value:!0,isValid:!0};var Rk=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!tn(e[0].attributes.value)?tn(e[0].value)||e[0].value===""?sw:{value:e[0].value,isValid:!0}:sw:rw}return rw},Lk=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>tn(e)?e:t?e===""?NaN:e&&+e:n&&jr(e)?new Date(e):r?r(e):e;const aw={isValid:!1,value:null};var Uk=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,aw):aw;function iw(e){const t=e.ref;return S0(t)?t.files:E0(t)?Uk(e.refs).value:Ik(t)?[...t.selectedOptions].map(({value:n})=>n):su(t)?Rk(e.refs).value:Lk(tn(t.value)?e.ref.value:t.value,e)}var iz=(e,t,n,r)=>{const s={};for(const l of e){const c=Te(t,l);c&&Tt(s,l,c._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},xf=e=>e instanceof RegExp,oc=e=>tn(e)?e:xf(e)?e.source:dn(e)?xf(e.value)?e.value.source:e.value:e,lw=e=>({isOnSubmit:!e||e===Zr.onSubmit,isOnBlur:e===Zr.onBlur,isOnChange:e===Zr.onChange,isOnAll:e===Zr.all,isOnTouch:e===Zr.onTouched});const ow="AsyncFunction";var lz=e=>!!e&&!!e.validate&&!!(Jr(e.validate)&&e.validate.constructor.name===ow||dn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ow)),oz=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cw=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Nc=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const l=Te(e,s);if(l){const{_f:c,...u}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],s)&&!r)return!0;if(c.ref&&t(c.ref,c.name)&&!r)return!0;if(Nc(u,t))break}else if(dn(u)&&Nc(u,t))break}}};function uw(e,t,n){const r=Te(e,n);if(r||wm(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const l=s.join("."),c=Te(t,l),u=Te(e,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(u&&u.type)return{name:l,error:u};if(u&&u.root&&u.root.type)return{name:`${l}.root`,error:u.root};s.pop()}return{name:n}}var cz=(e,t,n,r)=>{n(e);const{name:s,...l}=e;return Hn(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===(!r||Zr.all))},uz=(e,t,n)=>!e||!t||e===t||wc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),dz=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,fz=(e,t)=>!w0(Te(e,t)).length&&on(e,t),mz=(e,t,n)=>{const r=wc(Te(e,n));return Tt(r,"root",t[n]),Tt(e,n,r),e};function dw(e,t,n="validate"){if(jr(e)||Array.isArray(e)&&e.every(jr)||fs(e)&&!e)return{type:n,message:jr(e)?e:"",ref:t}}var Ml=e=>dn(e)&&!xf(e)?e:{value:e,message:""},fw=async(e,t,n,r,s,l)=>{const{ref:c,refs:u,required:d,maxLength:m,minLength:p,min:g,max:x,pattern:b,validate:v,name:j,valueAsNumber:N,mount:k}=e._f,T=Te(n,j);if(!k||t.has(j))return{};const C=u?u[0]:c,A=_=>{s&&C.reportValidity&&(C.setCustomValidity(fs(_)?"":_||""),C.reportValidity())},M={},D=E0(c),z=su(c),L=D||z,K=(N||S0(c))&&tn(c.value)&&tn(T)||gf(c)&&c.value===""||T===""||Array.isArray(T)&&!T.length,X=k0.bind(null,j,r,M),R=(_,U,P,G=Bs.maxLength,B=Bs.minLength)=>{const Y=_?U:P;M[j]={type:_?G:B,message:Y,ref:c,...X(_?G:B,Y)}};if(l?!Array.isArray(T)||!T.length:d&&(!L&&(K||ir(T))||fs(T)&&!T||z&&!Rk(u).isValid||D&&!Uk(u).isValid)){const{value:_,message:U}=jr(d)?{value:!!d,message:d}:Ml(d);if(_&&(M[j]={type:Bs.required,message:U,ref:C,...X(Bs.required,U)},!r))return A(U),M}if(!K&&(!ir(g)||!ir(x))){let _,U;const P=Ml(x),G=Ml(g);if(!ir(T)&&!isNaN(T)){const B=c.valueAsNumber||T&&+T;ir(P.value)||(_=B>P.value),ir(G.value)||(U=B<G.value)}else{const B=c.valueAsDate||new Date(T),Y=he=>new Date(new Date().toDateString()+" "+he),V=c.type=="time",ve=c.type=="week";jr(P.value)&&T&&(_=V?Y(T)>Y(P.value):ve?T>P.value:B>new Date(P.value)),jr(G.value)&&T&&(U=V?Y(T)<Y(G.value):ve?T<G.value:B<new Date(G.value))}if((_||U)&&(R(!!_,P.message,G.message,Bs.max,Bs.min),!r))return A(M[j].message),M}if((m||p)&&!K&&(jr(T)||l&&Array.isArray(T))){const _=Ml(m),U=Ml(p),P=!ir(_.value)&&T.length>+_.value,G=!ir(U.value)&&T.length<+U.value;if((P||G)&&(R(P,_.message,U.message),!r))return A(M[j].message),M}if(b&&!K&&jr(T)){const{value:_,message:U}=Ml(b);if(xf(_)&&!T.match(_)&&(M[j]={type:Bs.pattern,message:U,ref:c,...X(Bs.pattern,U)},!r))return A(U),M}if(v){if(Jr(v)){const _=await v(T,n),U=dw(_,C);if(U&&(M[j]={...U,...X(Bs.validate,U.message)},!r))return A(U.message),M}else if(dn(v)){let _={};for(const U in v){if(!Hn(_)&&!r)break;const P=dw(await v[U](T,n),C,U);P&&(_={...P,...X(U,P.message)},A(P.message),r&&(M[j]=_))}if(!Hn(_)&&(M[j]={ref:C,..._},!r))return M}}return A(!0),M};const hz={mode:Zr.onSubmit,reValidateMode:Zr.onChange,shouldFocusError:!0};function pz(e={}){let t={...hz,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Jr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=dn(t.defaultValues)||dn(t.values)?yn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:yn(s),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const x={array:nw(),state:nw()},b=t.criteriaMode===Zr.all,v=F=>J=>{clearTimeout(m),m=setTimeout(F,J)},j=async F=>{if(!t.disabled&&(p.isValid||g.isValid||F)){const J=t.resolver?Hn((await z()).errors):await K(r,!0);J!==n.isValid&&x.state.next({isValid:J})}},N=(F,J)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((F||Array.from(u.mount)).forEach(ie=>{ie&&(J?Tt(n.validatingFields,ie,J):on(n.validatingFields,ie))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Hn(n.validatingFields)}))},k=(F,J=[],ie,Ne,ye=!0,je=!0)=>{if(Ne&&ie&&!t.disabled){if(c.action=!0,je&&Array.isArray(Te(r,F))){const Ie=ie(Te(r,F),Ne.argA,Ne.argB);ye&&Tt(r,F,Ie)}if(je&&Array.isArray(Te(n.errors,F))){const Ie=ie(Te(n.errors,F),Ne.argA,Ne.argB);ye&&Tt(n.errors,F,Ie),fz(n.errors,F)}if((p.touchedFields||g.touchedFields)&&je&&Array.isArray(Te(n.touchedFields,F))){const Ie=ie(Te(n.touchedFields,F),Ne.argA,Ne.argB);ye&&Tt(n.touchedFields,F,Ie)}(p.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Il(s,l)),x.state.next({name:F,isDirty:R(F,J),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Tt(l,F,J)},T=(F,J)=>{Tt(n.errors,F,J),x.state.next({errors:n.errors})},C=F=>{n.errors=F,x.state.next({errors:n.errors,isValid:!1})},A=(F,J,ie,Ne)=>{const ye=Te(r,F);if(ye){const je=Te(l,F,tn(ie)?Te(s,F):ie);tn(je)||Ne&&Ne.defaultChecked||J?Tt(l,F,J?je:iw(ye._f)):P(F,je),c.mount&&!c.action&&j()}},M=(F,J,ie,Ne,ye)=>{let je=!1,Ie=!1;const ct={name:F};if(!t.disabled){if(!ie||Ne){(p.isDirty||g.isDirty)&&(Ie=n.isDirty,n.isDirty=ct.isDirty=R(),je=Ie!==ct.isDirty);const ft=Ia(Te(s,F),J);Ie=!!Te(n.dirtyFields,F),ft?on(n.dirtyFields,F):Tt(n.dirtyFields,F,!0),ct.dirtyFields=n.dirtyFields,je=je||(p.dirtyFields||g.dirtyFields)&&Ie!==!ft}if(ie){const ft=Te(n.touchedFields,F);ft||(Tt(n.touchedFields,F,ie),ct.touchedFields=n.touchedFields,je=je||(p.touchedFields||g.touchedFields)&&ft!==ie)}je&&ye&&x.state.next(ct)}return je?ct:{}},D=(F,J,ie,Ne)=>{const ye=Te(n.errors,F),je=(p.isValid||g.isValid)&&fs(J)&&n.isValid!==J;if(t.delayError&&ie?(d=v(()=>T(F,ie)),d(t.delayError)):(clearTimeout(m),d=null,ie?Tt(n.errors,F,ie):on(n.errors,F)),(ie?!Ia(ye,ie):ye)||!Hn(Ne)||je){const Ie={...Ne,...je&&fs(J)?{isValid:J}:{},errors:n.errors,name:F};n={...n,...Ie},x.state.next(Ie)}},z=async F=>{N(F,!0);const J=await t.resolver(l,t.context,iz(F||u.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return N(F),J},L=async F=>{const{errors:J}=await z(F);if(F)for(const ie of F){const Ne=Te(J,ie);Ne?Tt(n.errors,ie,Ne):on(n.errors,ie)}else n.errors=J;return J},K=async(F,J,ie={valid:!0})=>{for(const Ne in F){const ye=F[Ne];if(ye){const{_f:je,...Ie}=ye;if(je){const ct=u.array.has(je.name),ft=ye._f&&lz(ye._f);ft&&p.validatingFields&&N([je.name],!0);const Qn=await fw(ye,u.disabled,l,b,t.shouldUseNativeValidation&&!J,ct);if(ft&&p.validatingFields&&N([je.name]),Qn[je.name]&&(ie.valid=!1,J))break;!J&&(Te(Qn,je.name)?ct?mz(n.errors,Qn,je.name):Tt(n.errors,je.name,Qn[je.name]):on(n.errors,je.name))}!Hn(Ie)&&await K(Ie,J,ie)}}return ie.valid},X=()=>{for(const F of u.unMount){const J=Te(r,F);J&&(J._f.refs?J._f.refs.every(ie=>!yg(ie)):!yg(J._f.ref))&&te(F)}u.unMount=new Set},R=(F,J)=>!t.disabled&&(F&&J&&Tt(l,F,J),!Ia(he(),s)),_=(F,J,ie)=>tz(F,u,{...c.mount?l:tn(J)?s:jr(F)?{[F]:J}:J},ie,J),U=F=>w0(Te(c.mount?l:s,F,t.shouldUnregister?Te(s,F,[]):[])),P=(F,J,ie={})=>{const Ne=Te(r,F);let ye=J;if(Ne){const je=Ne._f;je&&(!je.disabled&&Tt(l,F,Lk(J,je)),ye=gf(je.ref)&&ir(J)?"":J,Ik(je.ref)?[...je.ref.options].forEach(Ie=>Ie.selected=ye.includes(Ie.value)):je.refs?su(je.ref)?je.refs.forEach(Ie=>{(!Ie.defaultChecked||!Ie.disabled)&&(Array.isArray(ye)?Ie.checked=!!ye.find(ct=>ct===Ie.value):Ie.checked=ye===Ie.value||!!ye)}):je.refs.forEach(Ie=>Ie.checked=Ie.value===ye):S0(je.ref)?je.ref.value="":(je.ref.value=ye,je.ref.type||x.state.next({name:F,values:yn(l)})))}(ie.shouldDirty||ie.shouldTouch)&&M(F,ye,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&ve(F)},G=(F,J,ie)=>{for(const Ne in J){if(!J.hasOwnProperty(Ne))return;const ye=J[Ne],je=F+"."+Ne,Ie=Te(r,je);(u.array.has(F)||dn(ye)||Ie&&!Ie._f)&&!ji(ye)?G(je,ye,ie):P(je,ye,ie)}},B=(F,J,ie={})=>{const Ne=Te(r,F),ye=u.array.has(F),je=yn(J);Tt(l,F,je),ye?(x.array.next({name:F,values:yn(l)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&ie.shouldDirty&&x.state.next({name:F,dirtyFields:Il(s,l),isDirty:R(F,je)})):Ne&&!Ne._f&&!ir(je)?G(F,je,ie):P(F,je,ie),cw(F,u)&&x.state.next({...n,name:F}),x.state.next({name:c.mount?F:void 0,values:yn(l)})},Y=async F=>{c.mount=!0;const J=F.target;let ie=J.name,Ne=!0;const ye=Te(r,ie),je=ft=>{Ne=Number.isNaN(ft)||ji(ft)&&isNaN(ft.getTime())||Ia(ft,Te(l,ie,ft))},Ie=lw(t.mode),ct=lw(t.reValidateMode);if(ye){let ft,Qn;const Xa=J.type?iw(ye._f):Z5(F),ns=F.type===tw.BLUR||F.type===tw.FOCUS_OUT,Jm=!oz(ye._f)&&!t.resolver&&!Te(n.errors,ie)&&!ye._f.deps||dz(ns,Te(n.touchedFields,ie),n.isSubmitted,ct,Ie),vs=cw(ie,u,ns);Tt(l,ie,Xa),ns?(!J||!J.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(F),d&&d(0)):ye._f.onChange&&ye._f.onChange(F);const Sn=M(ie,Xa,ns),rs=!Hn(Sn)||vs;if(!ns&&x.state.next({name:ie,type:F.type,values:yn(l)}),Jm)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?ns&&j():ns||j()),rs&&x.state.next({name:ie,...vs?{}:Sn});if(!ns&&vs&&x.state.next({...n}),t.resolver){const{errors:Rn}=await z([ie]);if(je(Xa),Ne){const Wm=uw(n.errors,r,ie),mu=uw(Rn,r,Wm.name||ie);ft=mu.error,ie=mu.name,Qn=Hn(Rn)}}else N([ie],!0),ft=(await fw(ye,u.disabled,l,b,t.shouldUseNativeValidation))[ie],N([ie]),je(Xa),Ne&&(ft?Qn=!1:(p.isValid||g.isValid)&&(Qn=await K(r,!0)));Ne&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&ve(ye._f.deps),D(ie,Qn,ft,Sn))}},V=(F,J)=>{if(Te(n.errors,J)&&F.focus)return F.focus(),1},ve=async(F,J={})=>{let ie,Ne;const ye=wc(F);if(t.resolver){const je=await L(tn(F)?F:ye);ie=Hn(je),Ne=F?!ye.some(Ie=>Te(je,Ie)):ie}else F?(Ne=(await Promise.all(ye.map(async je=>{const Ie=Te(r,je);return await K(Ie&&Ie._f?{[je]:Ie}:Ie)}))).every(Boolean),!(!Ne&&!n.isValid)&&j()):Ne=ie=await K(r);return x.state.next({...!jr(F)||(p.isValid||g.isValid)&&ie!==n.isValid?{}:{name:F},...t.resolver||!F?{isValid:ie}:{},errors:n.errors}),J.shouldFocus&&!Ne&&Nc(r,V,F?ye:u.mount),Ne},he=(F,J)=>{let ie={...c.mount?l:s};return J&&(ie=Dk(J.dirtyFields?n.dirtyFields:n.touchedFields,ie)),tn(F)?ie:jr(F)?Te(ie,F):F.map(Ne=>Te(ie,Ne))},I=(F,J)=>({invalid:!!Te((J||n).errors,F),isDirty:!!Te((J||n).dirtyFields,F),error:Te((J||n).errors,F),isValidating:!!Te(n.validatingFields,F),isTouched:!!Te((J||n).touchedFields,F)}),q=F=>{F&&wc(F).forEach(J=>on(n.errors,J)),x.state.next({errors:F?n.errors:{}})},ee=(F,J,ie)=>{const Ne=(Te(r,F,{_f:{}})._f||{}).ref,ye=Te(n.errors,F)||{},{ref:je,message:Ie,type:ct,...ft}=ye;Tt(n.errors,F,{...ft,...J,ref:Ne}),x.state.next({name:F,errors:n.errors,isValid:!1}),ie&&ie.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},fe=(F,J)=>Jr(F)?x.state.subscribe({next:ie=>"values"in ie&&F(_(void 0,J),ie)}):_(F,J,!0),we=F=>x.state.subscribe({next:J=>{uz(F.name,J.name,F.exact)&&cz(J,F.formState||p,gt,F.reRenderRoot)&&F.callback({values:{...l},...n,...J,defaultValues:s})}}).unsubscribe,pe=F=>(c.mount=!0,g={...g,...F.formState},we({...F,formState:g})),te=(F,J={})=>{for(const ie of F?wc(F):u.mount)u.mount.delete(ie),u.array.delete(ie),J.keepValue||(on(r,ie),on(l,ie)),!J.keepError&&on(n.errors,ie),!J.keepDirty&&on(n.dirtyFields,ie),!J.keepTouched&&on(n.touchedFields,ie),!J.keepIsValidating&&on(n.validatingFields,ie),!t.shouldUnregister&&!J.keepDefaultValue&&on(s,ie);x.state.next({values:yn(l)}),x.state.next({...n,...J.keepDirty?{isDirty:R()}:{}}),!J.keepIsValid&&j()},$e=({disabled:F,name:J})=>{(fs(F)&&c.mount||F||u.disabled.has(J))&&(F?u.disabled.add(J):u.disabled.delete(J))},me=(F,J={})=>{let ie=Te(r,F);const Ne=fs(J.disabled)||fs(t.disabled);return Tt(r,F,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:F}},name:F,mount:!0,...J}}),u.mount.add(F),ie?$e({disabled:fs(J.disabled)?J.disabled:t.disabled,name:F}):A(F,!0,J.value),{...Ne?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:oc(J.min),max:oc(J.max),minLength:oc(J.minLength),maxLength:oc(J.maxLength),pattern:oc(J.pattern)}:{},name:F,onChange:Y,onBlur:Y,ref:ye=>{if(ye){me(F,J),ie=Te(r,F);const je=tn(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ie=nz(je),ct=ie._f.refs||[];if(Ie?ct.find(ft=>ft===je):je===ie._f.ref)return;Tt(r,F,{_f:{...ie._f,...Ie?{refs:[...ct.filter(yg),je,...Array.isArray(Te(s,F))?[{}]:[]],ref:{type:je.type,name:F}}:{ref:je}}}),A(F,!1,void 0,je)}else ie=Te(r,F,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(W5(u.array,F)&&c.action)&&u.unMount.add(F)}}},_e=()=>t.shouldFocusError&&Nc(r,V,u.mount),Ke=F=>{fs(F)&&(x.state.next({disabled:F}),Nc(r,(J,ie)=>{const Ne=Te(r,ie);Ne&&(J.disabled=Ne._f.disabled||F,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(ye=>{ye.disabled=Ne._f.disabled||F}))},0,!1))},ot=(F,J)=>async ie=>{let Ne;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let ye=yn(l);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:je,values:Ie}=await z();n.errors=je,ye=yn(Ie)}else await K(r);if(u.disabled.size)for(const je of u.disabled)on(ye,je);if(on(n.errors,"root"),Hn(n.errors)){x.state.next({errors:{}});try{await F(ye,ie)}catch(je){Ne=je}}else J&&await J({...n.errors},ie),_e(),setTimeout(_e);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne},mr=(F,J={})=>{Te(r,F)&&(tn(J.defaultValue)?B(F,yn(Te(s,F))):(B(F,J.defaultValue),Tt(s,F,yn(J.defaultValue))),J.keepTouched||on(n.touchedFields,F),J.keepDirty||(on(n.dirtyFields,F),n.isDirty=J.defaultValue?R(F,yn(Te(s,F))):R()),J.keepError||(on(n.errors,F),p.isValid&&j()),x.state.next({...n}))},mn=(F,J={})=>{const ie=F?yn(F):s,Ne=yn(ie),ye=Hn(F),je=ye?s:Ne;if(J.keepDefaultValues||(s=ie),!J.keepValues){if(J.keepDirtyValues){const Ie=new Set([...u.mount,...Object.keys(Il(s,l))]);for(const ct of Array.from(Ie))Te(n.dirtyFields,ct)?Tt(je,ct,Te(l,ct)):B(ct,Te(je,ct))}else{if(j0&&tn(F))for(const Ie of u.mount){const ct=Te(r,Ie);if(ct&&ct._f){const ft=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(gf(ft)){const Qn=ft.closest("form");if(Qn){Qn.reset();break}}}}if(J.keepFieldsRef)for(const Ie of u.mount)B(Ie,Te(je,Ie));else r={}}l=t.shouldUnregister?J.keepDefaultValues?yn(s):{}:yn(je),x.array.next({values:{...je}}),x.state.next({values:{...je}})}u={mount:J.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!J.keepIsValid||!!J.keepDirtyValues||!t.shouldUnregister&&!Hn(je),c.watch=!!t.shouldUnregister,x.state.next({submitCount:J.keepSubmitCount?n.submitCount:0,isDirty:ye?!1:J.keepDirty?n.isDirty:!!(J.keepDefaultValues&&!Ia(F,s)),isSubmitted:J.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ye?{}:J.keepDirtyValues?J.keepDefaultValues&&l?Il(s,l):n.dirtyFields:J.keepDefaultValues&&F?Il(s,F):J.keepDirty?n.dirtyFields:{},touchedFields:J.keepTouched?n.touchedFields:{},errors:J.keepErrors?n.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ge=(F,J)=>mn(Jr(F)?F(l):F,J),He=(F,J={})=>{const ie=Te(r,F),Ne=ie&&ie._f;if(Ne){const ye=Ne.refs?Ne.refs[0]:Ne.ref;ye.focus&&(ye.focus(),J.shouldSelect&&Jr(ye.select)&&ye.select())}},gt=F=>{n={...n,...F}},Yn={control:{register:me,unregister:te,getFieldState:I,handleSubmit:ot,setError:ee,_subscribe:we,_runSchema:z,_focusError:_e,_getWatch:_,_getDirty:R,_setValid:j,_setFieldArray:k,_setDisabledField:$e,_setErrors:C,_getFieldArray:U,_reset:mn,_resetDefaultValues:()=>Jr(t.defaultValues)&&t.defaultValues().then(F=>{ge(F,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:Ke,_subjects:x,_proxyFormState:p,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(F){c=F},get _defaultValues(){return s},get _names(){return u},set _names(F){u=F},get _formState(){return n},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:pe,trigger:ve,register:me,handleSubmit:ot,watch:fe,setValue:B,getValues:he,reset:ge,resetField:mr,clearErrors:q,unregister:te,setError:ee,setFocus:He,getFieldState:I};return{...Yn,formControl:Yn}}function Vr(e={}){const t=qt.useRef(void 0),n=qt.useRef(void 0),[r,s]=qt.useState({isDirty:!1,isValidating:!1,isLoading:Jr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Jr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Jr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...u}=pz(e);t.current={...u,formState:r}}const l=t.current.control;return l._options=e,ez(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>s({...l._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),l._formState.isReady=!0,c},[l]),qt.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),qt.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),qt.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),qt.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),qt.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==r.isDirty&&l._subjects.state.next({isDirty:c})}},[l,r.isDirty]),qt.useEffect(()=>{var c;e.values&&!Ia(e.values,n.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),n.current=e.values,s(u=>({...u}))):l._resetDefaultValues()},[l,e.values]),qt.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=X5(r,l),t.current}const mw=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Te(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},gx=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?mw(r.ref,n,e):r&&r.refs&&r.refs.forEach(s=>mw(s,n,e))}},hw=(e,t)=>{t.shouldUseNativeValidation&&gx(e,t);const n={};for(const r in e){const s=Te(t.fields,r),l=Object.assign(e[r]||{},{ref:s&&s.ref});if(gz(t.names||Object.keys(e),r)){const c=Object.assign({},Te(n,r));Tt(c,"root",l),Tt(n,r,c)}else Tt(n,r,l)}return n},gz=(e,t)=>{const n=pw(t);return e.some(r=>pw(r).match(`^${n}\\.\\d+`))};function pw(e){return e.replace(/\]|\[/g,"")}function de(e,t,n){function r(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const m=c.prototype,p=Object.keys(m);for(let g=0;g<p.length;g++){const x=p[g];x in u||(u[x]=m[x].bind(u))}}const s=n?.Parent??Object;class l extends s{}Object.defineProperty(l,"name",{value:e});function c(u){var d;const m=n?.Parent?new l:this;r(m,u),(d=m._zod).deferred??(d.deferred=[]);for(const p of m._zod.deferred)p();return m}return Object.defineProperty(c,"init",{value:r}),Object.defineProperty(c,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(c,"name",{value:e}),c}class $l extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Pk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Bk={};function Di(e){return Bk}function xz(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function xx(e,t){return typeof t=="bigint"?t.toString():t}function C0(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function T0(e){return e==null}function A0(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function bz(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d?.[1]&&(s=Number.parseInt(d[1]))}const l=n>s?n:s,c=Number.parseInt(e.toFixed(l).replace(".","")),u=Number.parseInt(t.toFixed(l).replace(".",""));return c%u/10**l}const gw=Symbol("evaluating");function Mt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==gw)return r===void 0&&(r=gw,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function $i(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Fi(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function xw(e){return JSON.stringify(e)}function yz(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const $k="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function bf(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const vz=C0(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Uc(e){if(bf(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(bf(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Fk(e){return Uc(e)?{...e}:Array.isArray(e)?[...e]:e}const jz=new Set(["string","number","symbol"]);function Kl(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Za(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Pe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function wz(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Nz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kz(e,t){const n=e._zod.def,r=Fi(e._zod.def,{get shape(){const s={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(s[l]=n.shape[l])}return $i(this,"shape",s),s},checks:[]});return Za(e,r)}function Sz(e,t){const n=e._zod.def,r=Fi(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete s[l]}return $i(this,"shape",s),s},checks:[]});return Za(e,r)}function Ez(e,t){if(!Uc(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Fi(e._zod.def,{get shape(){const l={...e._zod.def.shape,...t};return $i(this,"shape",l),l},checks:[]});return Za(e,s)}function Cz(e,t){if(!Uc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return $i(this,"shape",r),r},checks:e._zod.def.checks};return Za(e,n)}function Tz(e,t){const n=Fi(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return $i(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Za(e,n)}function Az(e,t,n){const r=Fi(t._zod.def,{get shape(){const s=t._zod.def.shape,l={...s};if(n)for(const c in n){if(!(c in s))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=e?new e({type:"optional",innerType:s[c]}):s[c])}else for(const c in s)l[c]=e?new e({type:"optional",innerType:s[c]}):s[c];return $i(this,"shape",l),l},checks:[]});return Za(t,r)}function Mz(e,t,n){const r=Fi(t._zod.def,{get shape(){const s=t._zod.def.shape,l={...s};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new e({type:"nonoptional",innerType:s[c]}))}else for(const c in s)l[c]=new e({type:"nonoptional",innerType:s[c]});return $i(this,"shape",l),l},checks:[]});return Za(t,r)}function Pl(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Vk(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Id(e){return typeof e=="string"?e:e?.message}function Ii(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=Id(e.inst?._zod.def?.error?.(e))??Id(t?.error?.(e))??Id(n.customError?.(e))??Id(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function M0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Pc(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Hk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,xx,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},O0=de("$ZodError",Hk),Nm=de("$ZodError",Hk,{Parent:Error});function Oz(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function zz(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const l of s.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>r({issues:c}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let c=n,u=0;for(;u<l.path.length;){const d=l.path[u];u===l.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(t(l))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return r(e),n}const km=e=>(t,n,r,s)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new $l;if(c.issues.length){const u=new(s?.Err??e)(c.issues.map(d=>Ii(d,l,Di())));throw $k(u,s?.callee),u}return c.value},Dz=km(Nm),Sm=e=>async(t,n,r,s)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let c=t._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const u=new(s?.Err??e)(c.issues.map(d=>Ii(d,l,Di())));throw $k(u,s?.callee),u}return c.value},Iz=Sm(Nm),Em=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},s);if(l instanceof Promise)throw new $l;return l.issues.length?{success:!1,error:new(e??O0)(l.issues.map(c=>Ii(c,s,Di())))}:{success:!0,data:l.value}},_z=Em(Nm),Cm=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},s);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new e(l.issues.map(c=>Ii(c,s,Di())))}:{success:!0,data:l.value}},Rz=Cm(Nm),Lz=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return km(e)(t,n,s)},Uz=e=>(t,n,r)=>km(e)(t,n,r),Pz=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sm(e)(t,n,s)},Bz=e=>async(t,n,r)=>Sm(e)(t,n,r),$z=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Em(e)(t,n,s)},Fz=e=>(t,n,r)=>Em(e)(t,n,r),Vz=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cm(e)(t,n,s)},Hz=e=>async(t,n,r)=>Cm(e)(t,n,r),qz=/^[cC][^\s-]{8,}$/,Gz=/^[0-9a-z]+$/,Kz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Zz=/^[0-9a-vA-V]{20}$/,Jz=/^[A-Za-z0-9]{27}$/,Wz=/^[a-zA-Z0-9_-]{21}$/,Yz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Qz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bw=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Xz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,eD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function tD(){return new RegExp(eD,"u")}const nD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,sD=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aD=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iD=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qk=/^[A-Za-z0-9_-]*$/,lD=/^\+(?:[0-9]){6,14}[0-9]$/,Gk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oD=new RegExp(`^${Gk}$`);function Kk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function cD(e){return new RegExp(`^${Kk(e)}$`)}function uD(e){const t=Kk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Gk}T(?:${r})$`)}const dD=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},fD=/^-?\d+$/,mD=/^-?\d+(?:\.\d+)?/,hD=/^(?:true|false)$/i,pD=/^[^A-Z]*$/,gD=/^[^a-z]*$/,dr=de("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Zk={number:"number",bigint:"bigint",object:"date"},Jk=de("$ZodCheckLessThan",(e,t)=>{dr.init(e,t);const n=Zk[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,l=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Wk=de("$ZodCheckGreaterThan",(e,t)=>{dr.init(e,t);const n=Zk[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,l=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),xD=de("$ZodCheckMultipleOf",(e,t)=>{dr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):bz(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),bD=de("$ZodCheckNumberFormat",(e,t)=>{dr.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[s,l]=Nz[t.format];e._zod.onattach.push(c=>{const u=c._zod.bag;u.format=t.format,u.minimum=s,u.maximum=l,n&&(u.pattern=fD)}),e._zod.check=c=>{const u=c.value;if(n){if(!Number.isInteger(u)){c.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?c.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):c.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}u<s&&c.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),u>l&&c.issues.push({origin:"number",input:u,code:"too_big",maximum:l,inst:e})}}),yD=de("$ZodCheckMaxLength",(e,t)=>{var n;dr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!T0(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const c=M0(s);r.issues.push({origin:c,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),vD=de("$ZodCheckMinLength",(e,t)=>{var n;dr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!T0(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const c=M0(s);r.issues.push({origin:c,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),jD=de("$ZodCheckLengthEquals",(e,t)=>{var n;dr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!T0(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,l=s.length;if(l===t.length)return;const c=M0(s),u=l>t.length;r.issues.push({origin:c,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Tm=de("$ZodCheckStringFormat",(e,t)=>{var n,r;dr.init(e,t),e._zod.onattach.push(s=>{const l=s._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),wD=de("$ZodCheckRegex",(e,t)=>{Tm.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ND=de("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=pD),Tm.init(e,t)}),kD=de("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=gD),Tm.init(e,t)}),SD=de("$ZodCheckIncludes",(e,t)=>{dr.init(e,t);const n=Kl(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const l=s._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),ED=de("$ZodCheckStartsWith",(e,t)=>{dr.init(e,t);const n=new RegExp(`^${Kl(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),CD=de("$ZodCheckEndsWith",(e,t)=>{dr.init(e,t);const n=new RegExp(`.*${Kl(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),TD=de("$ZodCheckOverwrite",(e,t)=>{dr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class AD{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(c=>c),s=Math.min(...r.map(c=>c.length-c.trimStart().length)),l=r.map(c=>c.slice(s)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(l=>`  ${l}`)];return new t(...n,s.join(`
`))}}const MD={major:4,minor:1,patch:13},Wt=de("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=MD;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const l of s._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(c,u,d)=>{let m=Pl(c),p;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(c))continue}else if(m)continue;const x=c.issues.length,b=g._zod.check(c);if(b instanceof Promise&&d?.async===!1)throw new $l;if(p||b instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await b,c.issues.length!==x&&(m||(m=Pl(c,x)))});else{if(c.issues.length===x)continue;m||(m=Pl(c,x))}}return p?p.then(()=>c):c},l=(c,u,d)=>{if(Pl(c))return c.aborted=!0,c;const m=s(u,r,d);if(m instanceof Promise){if(d.async===!1)throw new $l;return m.then(p=>e._zod.parse(p,d))}return e._zod.parse(m,d)};e._zod.run=(c,u)=>{if(u.skipChecks)return e._zod.parse(c,u);if(u.direction==="backward"){const m=e._zod.parse({value:c.value,issues:[]},{...u,skipChecks:!0});return m instanceof Promise?m.then(p=>l(p,c,u)):l(m,c,u)}const d=e._zod.parse(c,u);if(d instanceof Promise){if(u.async===!1)throw new $l;return d.then(m=>s(m,r,u))}return s(d,r,u)}}e["~standard"]={validate:s=>{try{const l=_z(e,s);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return Rz(e,s).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),z0=de("$ZodString",(e,t)=>{Wt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??dD(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Ut=de("$ZodStringFormat",(e,t)=>{Tm.init(e,t),z0.init(e,t)}),OD=de("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Qz),Ut.init(e,t)}),zD=de("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=bw(r))}else t.pattern??(t.pattern=bw());Ut.init(e,t)}),DD=de("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Xz),Ut.init(e,t)}),ID=de("$ZodURL",(e,t)=>{Ut.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),_D=de("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=tD()),Ut.init(e,t)}),RD=de("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Wz),Ut.init(e,t)}),LD=de("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=qz),Ut.init(e,t)}),UD=de("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Gz),Ut.init(e,t)}),PD=de("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Kz),Ut.init(e,t)}),BD=de("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Zz),Ut.init(e,t)}),$D=de("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Jz),Ut.init(e,t)}),FD=de("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=uD(t)),Ut.init(e,t)}),VD=de("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=oD),Ut.init(e,t)}),HD=de("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=cD(t)),Ut.init(e,t)}),qD=de("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Yz),Ut.init(e,t)}),GD=de("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=nD),Ut.init(e,t),e._zod.bag.format="ipv4"}),KD=de("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=rD),Ut.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),ZD=de("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=sD),Ut.init(e,t)}),JD=de("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=aD),Ut.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,l]=r;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Yk(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const WD=de("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=iD),Ut.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Yk(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function YD(e){if(!qk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Yk(n)}const QD=de("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=qk),Ut.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{YD(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),XD=de("$ZodE164",(e,t)=>{t.pattern??(t.pattern=lD),Ut.init(e,t)});function eI(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const tI=de("$ZodJWT",(e,t)=>{Ut.init(e,t),e._zod.check=n=>{eI(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Qk=de("$ZodNumber",(e,t)=>{Wt.init(e,t),e._zod.pattern=e._zod.bag.pattern??mD,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const l=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...l?{received:l}:{}}),n}}),nI=de("$ZodNumberFormat",(e,t)=>{bD.init(e,t),Qk.init(e,t)}),rI=de("$ZodBoolean",(e,t)=>{Wt.init(e,t),e._zod.pattern=hD,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),sI=de("$ZodUnknown",(e,t)=>{Wt.init(e,t),e._zod.parse=n=>n}),aI=de("$ZodNever",(e,t)=>{Wt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function yw(e,t,n){e.issues.length&&t.issues.push(...Vk(n,e.issues)),t.value[n]=e.value}const iI=de("$ZodArray",(e,t)=>{Wt.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const l=[];for(let c=0;c<s.length;c++){const u=s[c],d=t.element._zod.run({value:u,issues:[]},r);d instanceof Promise?l.push(d.then(m=>yw(m,n,c))):yw(d,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function yf(e,t,n,r){e.issues.length&&t.issues.push(...Vk(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Xk(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=wz(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function eS(e,t,n,r,s,l){const c=[],u=s.keySet,d=s.catchall._zod,m=d.def.type;for(const p in t){if(u.has(p))continue;if(m==="never"){c.push(p);continue}const g=d.run({value:t[p],issues:[]},r);g instanceof Promise?e.push(g.then(x=>yf(x,n,p,t))):yf(g,n,p,t)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:t,inst:l}),e.length?Promise.all(e).then(()=>n):n}const lI=de("$ZodObject",(e,t)=>{if(Wt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=C0(()=>Xk(t));Mt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const m in u){const p=u[m]._zod;if(p.values){d[m]??(d[m]=new Set);for(const g of p.values)d[m].add(g)}}return d});const s=bf,l=t.catchall;let c;e._zod.parse=(u,d)=>{c??(c=r.value);const m=u.value;if(!s(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;u.value={};const p=[],g=c.shape;for(const x of c.keys){const v=g[x]._zod.run({value:m[x],issues:[]},d);v instanceof Promise?p.push(v.then(j=>yf(j,u,x,m))):yf(v,u,x,m)}return l?eS(p,m,u,d,r.value,e):p.length?Promise.all(p).then(()=>u):u}}),oI=de("$ZodObjectJIT",(e,t)=>{lI.init(e,t);const n=e._zod.parse,r=C0(()=>Xk(t)),s=x=>{const b=new AD(["shape","payload","ctx"]),v=r.value,j=C=>{const A=xw(C);return`shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};b.write("const input = payload.value;");const N=Object.create(null);let k=0;for(const C of v.keys)N[C]=`key_${k++}`;b.write("const newResult = {};");for(const C of v.keys){const A=N[C],M=xw(C);b.write(`const ${A} = ${j(C)};`),b.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M}, ...iss.path] : [${M}]
          })));
        }
        
        
        if (${A}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${A}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const T=b.compile();return(C,A)=>T(x,C,A)};let l;const c=bf,u=!Bk.jitless,m=u&&vz.value,p=t.catchall;let g;e._zod.parse=(x,b)=>{g??(g=r.value);const v=x.value;return c(v)?u&&m&&b?.async===!1&&b.jitless!==!0?(l||(l=s(t.shape)),x=l(x,b),p?eS([],v,x,b,g,e):x):n(x,b):(x.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),x)}});function vw(e,t,n,r){for(const l of e)if(l.issues.length===0)return t.value=l.value,t;const s=e.filter(l=>!Pl(l));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(l=>l.issues.map(c=>Ii(c,r,Di())))}),t)}const cI=de("$ZodUnion",(e,t)=>{Wt.init(e,t),Mt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Mt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Mt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Mt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${s.map(l=>A0(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,l)=>{if(n)return r(s,l);let c=!1;const u=[];for(const d of t.options){const m=d._zod.run({value:s.value,issues:[]},l);if(m instanceof Promise)u.push(m),c=!0;else{if(m.issues.length===0)return m;u.push(m)}}return c?Promise.all(u).then(d=>vw(d,s,e,l)):vw(u,s,e,l)}}),uI=de("$ZodIntersection",(e,t)=>{Wt.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,l=t.left._zod.run({value:s,issues:[]},r),c=t.right._zod.run({value:s,issues:[]},r);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([d,m])=>jw(n,d,m)):jw(n,l,c)}});function bx(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Uc(e)&&Uc(t)){const n=Object.keys(t),r=Object.keys(e).filter(l=>n.indexOf(l)!==-1),s={...e,...t};for(const l of r){const c=bx(e[l],t[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};s[l]=c.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],l=t[r],c=bx(s,l);if(!c.valid)return{valid:!1,mergeErrorPath:[r,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function jw(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Pl(e))return e;const r=bx(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const dI=de("$ZodEnum",(e,t)=>{Wt.init(e,t);const n=xz(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>jz.has(typeof s)).map(s=>typeof s=="string"?Kl(s):s.toString()).join("|")})$`),e._zod.parse=(s,l)=>{const c=s.value;return r.has(c)||s.issues.push({code:"invalid_value",values:n,input:c,inst:e}),s}}),fI=de("$ZodLiteral",(e,t)=>{if(Wt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Kl(r):r?Kl(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,s)=>{const l=r.value;return n.has(l)||r.issues.push({code:"invalid_value",values:t.values,input:l,inst:e}),r}}),mI=de("$ZodTransform",(e,t)=>{Wt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Pk(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(c=>(n.value=c,n));if(s instanceof Promise)throw new $l;return n.value=s,n}});function ww(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const hI=de("$ZodOptional",(e,t)=>{Wt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Mt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Mt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${A0(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(l=>ww(l,n.value)):ww(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),pI=de("$ZodNullable",(e,t)=>{Wt.init(e,t),Mt(e._zod,"optin",()=>t.innerType._zod.optin),Mt(e._zod,"optout",()=>t.innerType._zod.optout),Mt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${A0(n.source)}|null)$`):void 0}),Mt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),gI=de("$ZodDefault",(e,t)=>{Wt.init(e,t),e._zod.optin="optional",Mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(l=>Nw(l,t)):Nw(s,t)}});function Nw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const xI=de("$ZodPrefault",(e,t)=>{Wt.init(e,t),e._zod.optin="optional",Mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),bI=de("$ZodNonOptional",(e,t)=>{Wt.init(e,t),Mt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(l=>kw(l,e)):kw(s,e)}});function kw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const yI=de("$ZodCatch",(e,t)=>{Wt.init(e,t),Mt(e._zod,"optin",()=>t.innerType._zod.optin),Mt(e._zod,"optout",()=>t.innerType._zod.optout),Mt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(c=>Ii(c,r,Di()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(l=>Ii(l,r,Di()))},input:n.value}),n.issues=[]),n)}}),vI=de("$ZodPipe",(e,t)=>{Wt.init(e,t),Mt(e._zod,"values",()=>t.in._zod.values),Mt(e._zod,"optin",()=>t.in._zod.optin),Mt(e._zod,"optout",()=>t.out._zod.optout),Mt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(c=>_d(c,t.in,r)):_d(l,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(l=>_d(l,t.out,r)):_d(s,t.out,r)}});function _d(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const jI=de("$ZodReadonly",(e,t)=>{Wt.init(e,t),Mt(e._zod,"propValues",()=>t.innerType._zod.propValues),Mt(e._zod,"values",()=>t.innerType._zod.values),Mt(e._zod,"optin",()=>t.innerType?._zod?.optin),Mt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(Sw):Sw(s)}});function Sw(e){return e.value=Object.freeze(e.value),e}const wI=de("$ZodCustom",(e,t)=>{dr.init(e,t),Wt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(l=>Ew(l,n,r,e));Ew(s,n,r,e)}});function Ew(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(Pc(s))}}var Cw;class NI{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function kI(){return new NI}(Cw=globalThis).__zod_globalRegistry??(Cw.__zod_globalRegistry=kI());const Rd=globalThis.__zod_globalRegistry;function SI(e,t){return new e({type:"string",...Pe(t)})}function EI(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Pe(t)})}function Tw(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(t)})}function CI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(t)})}function TI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(t)})}function AI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(t)})}function MI(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(t)})}function OI(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Pe(t)})}function zI(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(t)})}function DI(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(t)})}function II(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(t)})}function _I(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(t)})}function RI(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(t)})}function LI(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(t)})}function UI(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(t)})}function PI(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(t)})}function BI(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(t)})}function $I(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(t)})}function FI(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(t)})}function VI(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(t)})}function HI(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(t)})}function qI(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(t)})}function GI(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(t)})}function KI(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(t)})}function ZI(e,t){return new e({type:"string",format:"date",check:"string_format",...Pe(t)})}function JI(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Pe(t)})}function WI(e,t){return new e({type:"string",format:"duration",check:"string_format",...Pe(t)})}function YI(e,t){return new e({type:"number",checks:[],...Pe(t)})}function QI(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Pe(t)})}function XI(e,t){return new e({type:"boolean",...Pe(t)})}function e_(e){return new e({type:"unknown"})}function t_(e,t){return new e({type:"never",...Pe(t)})}function Aw(e,t){return new Jk({check:"less_than",...Pe(t),value:e,inclusive:!1})}function vg(e,t){return new Jk({check:"less_than",...Pe(t),value:e,inclusive:!0})}function Mw(e,t){return new Wk({check:"greater_than",...Pe(t),value:e,inclusive:!1})}function jg(e,t){return new Wk({check:"greater_than",...Pe(t),value:e,inclusive:!0})}function Ow(e,t){return new xD({check:"multiple_of",...Pe(t),value:e})}function tS(e,t){return new yD({check:"max_length",...Pe(t),maximum:e})}function vf(e,t){return new vD({check:"min_length",...Pe(t),minimum:e})}function nS(e,t){return new jD({check:"length_equals",...Pe(t),length:e})}function n_(e,t){return new wD({check:"string_format",format:"regex",...Pe(t),pattern:e})}function r_(e){return new ND({check:"string_format",format:"lowercase",...Pe(e)})}function s_(e){return new kD({check:"string_format",format:"uppercase",...Pe(e)})}function a_(e,t){return new SD({check:"string_format",format:"includes",...Pe(t),includes:e})}function i_(e,t){return new ED({check:"string_format",format:"starts_with",...Pe(t),prefix:e})}function l_(e,t){return new CD({check:"string_format",format:"ends_with",...Pe(t),suffix:e})}function oo(e){return new TD({check:"overwrite",tx:e})}function o_(e){return oo(t=>t.normalize(e))}function c_(){return oo(e=>e.trim())}function u_(){return oo(e=>e.toLowerCase())}function d_(){return oo(e=>e.toUpperCase())}function f_(){return oo(e=>yz(e))}function m_(e,t,n){return new e({type:"array",element:t,...Pe(n)})}function h_(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Pe(n)})}function p_(e){const t=g_(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Pc(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Pc(s))}},e(n.value,n)));return t}function g_(e,t){const n=new dr({check:"custom",...Pe(t)});return n._zod.check=e,n}function zw(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function x_(e,t){for(var n={};e.length;){var r=e[0],s=r.code,l=r.message,c=r.path.join(".");if(!n[c])if("unionErrors"in r){var u=r.unionErrors[0].errors[0];n[c]={message:u.message,type:u.code}}else n[c]={message:l,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return e.push(g)})}),t){var d=n[c].types,m=d&&d[r.code];n[c]=k0(c,t,n,s,m?[].concat(m,r.message):r.message)}e.shift()}return n}function b_(e,t){for(var n={};e.length;){var r=e[0],s=r.code,l=r.message,c=r.path.join(".");if(!n[c])if(r.code==="invalid_union"&&r.errors.length>0){var u=r.errors[0][0];n[c]={message:u.message,type:u.code}}else n[c]={message:l,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(p){return p.forEach(function(g){return e.push(g)})}),t){var d=n[c].types,m=d&&d[r.code];n[c]=k0(c,t,n,s,m?[].concat(m,r.message):r.message)}e.shift()}return n}function Vi(e,t,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(e))return function(r,s,l){try{return Promise.resolve(zw(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return l.shouldUseNativeValidation&&gx({},l),{errors:{},values:n.raw?Object.assign({},r):c}})},function(c){if((function(u){return Array.isArray(u?.issues)})(c))return{values:{},errors:hw(x_(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(e))return function(r,s,l){try{return Promise.resolve(zw(function(){return Promise.resolve((n.mode==="sync"?Dz:Iz)(e,r,t)).then(function(c){return l.shouldUseNativeValidation&&gx({},l),{errors:{},values:n.raw?Object.assign({},r):c}})},function(c){if((function(u){return u instanceof O0})(c))return{values:{},errors:hw(b_(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const y_=de("ZodISODateTime",(e,t)=>{FD.init(e,t),Bt.init(e,t)});function v_(e){return KI(y_,e)}const j_=de("ZodISODate",(e,t)=>{VD.init(e,t),Bt.init(e,t)});function w_(e){return ZI(j_,e)}const N_=de("ZodISOTime",(e,t)=>{HD.init(e,t),Bt.init(e,t)});function k_(e){return JI(N_,e)}const S_=de("ZodISODuration",(e,t)=>{qD.init(e,t),Bt.init(e,t)});function E_(e){return WI(S_,e)}const C_=(e,t)=>{O0.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>zz(e,n)},flatten:{value:n=>Oz(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,xx,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,xx,2)}},isEmpty:{get(){return e.issues.length===0}}})},Hr=de("ZodError",C_,{Parent:Error}),T_=km(Hr),A_=Sm(Hr),M_=Em(Hr),O_=Cm(Hr),z_=Lz(Hr),D_=Uz(Hr),I_=Pz(Hr),__=Bz(Hr),R_=$z(Hr),L_=Fz(Hr),U_=Vz(Hr),P_=Hz(Hr),nn=de("ZodType",(e,t)=>(Wt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Fi(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Za(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>T_(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>M_(e,n,r),e.parseAsync=async(n,r)=>A_(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>O_(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>z_(e,n,r),e.decode=(n,r)=>D_(e,n,r),e.encodeAsync=async(n,r)=>I_(e,n,r),e.decodeAsync=async(n,r)=>__(e,n,r),e.safeEncode=(n,r)=>R_(e,n,r),e.safeDecode=(n,r)=>L_(e,n,r),e.safeEncodeAsync=async(n,r)=>U_(e,n,r),e.safeDecodeAsync=async(n,r)=>P_(e,n,r),e.refine=(n,r)=>e.check(AR(n,r)),e.superRefine=n=>e.check(MR(n)),e.overwrite=n=>e.check(oo(n)),e.optional=()=>Rw(e),e.nullable=()=>Lw(e),e.nullish=()=>Rw(Lw(e)),e.nonoptional=n=>wR(e,n),e.array=()=>On(e),e.or=n=>D0([e,n]),e.and=n=>mR(e,n),e.transform=n=>Uw(e,gR(n)),e.default=n=>yR(e,n),e.prefault=n=>jR(e,n),e.catch=n=>kR(e,n),e.pipe=n=>Uw(e,n),e.readonly=()=>CR(e),e.describe=n=>{const r=e.clone();return Rd.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Rd.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Rd.get(e);const r=e.clone();return Rd.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),rS=de("_ZodString",(e,t)=>{z0.init(e,t),nn.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(n_(...r)),e.includes=(...r)=>e.check(a_(...r)),e.startsWith=(...r)=>e.check(i_(...r)),e.endsWith=(...r)=>e.check(l_(...r)),e.min=(...r)=>e.check(vf(...r)),e.max=(...r)=>e.check(tS(...r)),e.length=(...r)=>e.check(nS(...r)),e.nonempty=(...r)=>e.check(vf(1,...r)),e.lowercase=r=>e.check(r_(r)),e.uppercase=r=>e.check(s_(r)),e.trim=()=>e.check(c_()),e.normalize=(...r)=>e.check(o_(...r)),e.toLowerCase=()=>e.check(u_()),e.toUpperCase=()=>e.check(d_()),e.slugify=()=>e.check(f_())}),B_=de("ZodString",(e,t)=>{z0.init(e,t),rS.init(e,t),e.email=n=>e.check(EI($_,n)),e.url=n=>e.check(OI(F_,n)),e.jwt=n=>e.check(GI(rR,n)),e.emoji=n=>e.check(zI(V_,n)),e.guid=n=>e.check(Tw(Dw,n)),e.uuid=n=>e.check(CI(Ld,n)),e.uuidv4=n=>e.check(TI(Ld,n)),e.uuidv6=n=>e.check(AI(Ld,n)),e.uuidv7=n=>e.check(MI(Ld,n)),e.nanoid=n=>e.check(DI(H_,n)),e.guid=n=>e.check(Tw(Dw,n)),e.cuid=n=>e.check(II(q_,n)),e.cuid2=n=>e.check(_I(G_,n)),e.ulid=n=>e.check(RI(K_,n)),e.base64=n=>e.check(VI(eR,n)),e.base64url=n=>e.check(HI(tR,n)),e.xid=n=>e.check(LI(Z_,n)),e.ksuid=n=>e.check(UI(J_,n)),e.ipv4=n=>e.check(PI(W_,n)),e.ipv6=n=>e.check(BI(Y_,n)),e.cidrv4=n=>e.check($I(Q_,n)),e.cidrv6=n=>e.check(FI(X_,n)),e.e164=n=>e.check(qI(nR,n)),e.datetime=n=>e.check(v_(n)),e.date=n=>e.check(w_(n)),e.time=n=>e.check(k_(n)),e.duration=n=>e.check(E_(n))});function re(e){return SI(B_,e)}const Bt=de("ZodStringFormat",(e,t)=>{Ut.init(e,t),rS.init(e,t)}),$_=de("ZodEmail",(e,t)=>{DD.init(e,t),Bt.init(e,t)}),Dw=de("ZodGUID",(e,t)=>{OD.init(e,t),Bt.init(e,t)}),Ld=de("ZodUUID",(e,t)=>{zD.init(e,t),Bt.init(e,t)}),F_=de("ZodURL",(e,t)=>{ID.init(e,t),Bt.init(e,t)}),V_=de("ZodEmoji",(e,t)=>{_D.init(e,t),Bt.init(e,t)}),H_=de("ZodNanoID",(e,t)=>{RD.init(e,t),Bt.init(e,t)}),q_=de("ZodCUID",(e,t)=>{LD.init(e,t),Bt.init(e,t)}),G_=de("ZodCUID2",(e,t)=>{UD.init(e,t),Bt.init(e,t)}),K_=de("ZodULID",(e,t)=>{PD.init(e,t),Bt.init(e,t)}),Z_=de("ZodXID",(e,t)=>{BD.init(e,t),Bt.init(e,t)}),J_=de("ZodKSUID",(e,t)=>{$D.init(e,t),Bt.init(e,t)}),W_=de("ZodIPv4",(e,t)=>{GD.init(e,t),Bt.init(e,t)}),Y_=de("ZodIPv6",(e,t)=>{KD.init(e,t),Bt.init(e,t)}),Q_=de("ZodCIDRv4",(e,t)=>{ZD.init(e,t),Bt.init(e,t)}),X_=de("ZodCIDRv6",(e,t)=>{JD.init(e,t),Bt.init(e,t)}),eR=de("ZodBase64",(e,t)=>{WD.init(e,t),Bt.init(e,t)}),tR=de("ZodBase64URL",(e,t)=>{QD.init(e,t),Bt.init(e,t)}),nR=de("ZodE164",(e,t)=>{XD.init(e,t),Bt.init(e,t)}),rR=de("ZodJWT",(e,t)=>{tI.init(e,t),Bt.init(e,t)}),sS=de("ZodNumber",(e,t)=>{Qk.init(e,t),nn.init(e,t),e.gt=(r,s)=>e.check(Mw(r,s)),e.gte=(r,s)=>e.check(jg(r,s)),e.min=(r,s)=>e.check(jg(r,s)),e.lt=(r,s)=>e.check(Aw(r,s)),e.lte=(r,s)=>e.check(vg(r,s)),e.max=(r,s)=>e.check(vg(r,s)),e.int=r=>e.check(Iw(r)),e.safe=r=>e.check(Iw(r)),e.positive=r=>e.check(Mw(0,r)),e.nonnegative=r=>e.check(jg(0,r)),e.negative=r=>e.check(Aw(0,r)),e.nonpositive=r=>e.check(vg(0,r)),e.multipleOf=(r,s)=>e.check(Ow(r,s)),e.step=(r,s)=>e.check(Ow(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function vn(e){return YI(sS,e)}const sR=de("ZodNumberFormat",(e,t)=>{nI.init(e,t),sS.init(e,t)});function Iw(e){return QI(sR,e)}const aR=de("ZodBoolean",(e,t)=>{rI.init(e,t),nn.init(e,t)});function au(e){return XI(aR,e)}const iR=de("ZodUnknown",(e,t)=>{sI.init(e,t),nn.init(e,t)});function _w(){return e_(iR)}const lR=de("ZodNever",(e,t)=>{aI.init(e,t),nn.init(e,t)});function oR(e){return t_(lR,e)}const cR=de("ZodArray",(e,t)=>{iI.init(e,t),nn.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(vf(n,r)),e.nonempty=n=>e.check(vf(1,n)),e.max=(n,r)=>e.check(tS(n,r)),e.length=(n,r)=>e.check(nS(n,r)),e.unwrap=()=>e.element});function On(e,t){return m_(cR,e,t)}const uR=de("ZodObject",(e,t)=>{oI.init(e,t),nn.init(e,t),Mt(e,"shape",()=>t.shape),e.keyof=()=>Bc(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:_w()}),e.loose=()=>e.clone({...e._zod.def,catchall:_w()}),e.strict=()=>e.clone({...e._zod.def,catchall:oR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Ez(e,n),e.safeExtend=n=>Cz(e,n),e.merge=n=>Tz(e,n),e.pick=n=>kz(e,n),e.omit=n=>Sz(e,n),e.partial=(...n)=>Az(aS,e,n[0]),e.required=(...n)=>Mz(iS,e,n[0])});function en(e,t){const n={type:"object",shape:e??{},...Pe(t)};return new uR(n)}const dR=de("ZodUnion",(e,t)=>{cI.init(e,t),nn.init(e,t),e.options=t.options});function D0(e,t){return new dR({type:"union",options:e,...Pe(t)})}const fR=de("ZodIntersection",(e,t)=>{uI.init(e,t),nn.init(e,t)});function mR(e,t){return new fR({type:"intersection",left:e,right:t})}const yx=de("ZodEnum",(e,t)=>{dI.init(e,t),nn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const l={};for(const c of r)if(n.has(c))l[c]=t.entries[c];else throw new Error(`Key ${c} not found in enum`);return new yx({...t,checks:[],...Pe(s),entries:l})},e.exclude=(r,s)=>{const l={...t.entries};for(const c of r)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new yx({...t,checks:[],...Pe(s),entries:l})}});function Bc(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new yx({type:"enum",entries:n,...Pe(t)})}const hR=de("ZodLiteral",(e,t)=>{fI.init(e,t),nn.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function $c(e,t){return new hR({type:"literal",values:Array.isArray(e)?e:[e],...Pe(t)})}const pR=de("ZodTransform",(e,t)=>{mI.init(e,t),nn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Pk(e.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Pc(l,n.value,t));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=e),n.issues.push(Pc(c))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(l=>(n.value=l,n)):(n.value=s,n)}});function gR(e){return new pR({type:"transform",transform:e})}const aS=de("ZodOptional",(e,t)=>{hI.init(e,t),nn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Rw(e){return new aS({type:"optional",innerType:e})}const xR=de("ZodNullable",(e,t)=>{pI.init(e,t),nn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Lw(e){return new xR({type:"nullable",innerType:e})}const bR=de("ZodDefault",(e,t)=>{gI.init(e,t),nn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function yR(e,t){return new bR({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Fk(t)}})}const vR=de("ZodPrefault",(e,t)=>{xI.init(e,t),nn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jR(e,t){return new vR({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Fk(t)}})}const iS=de("ZodNonOptional",(e,t)=>{bI.init(e,t),nn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function wR(e,t){return new iS({type:"nonoptional",innerType:e,...Pe(t)})}const NR=de("ZodCatch",(e,t)=>{yI.init(e,t),nn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function kR(e,t){return new NR({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const SR=de("ZodPipe",(e,t)=>{vI.init(e,t),nn.init(e,t),e.in=t.in,e.out=t.out});function Uw(e,t){return new SR({type:"pipe",in:e,out:t})}const ER=de("ZodReadonly",(e,t)=>{jI.init(e,t),nn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function CR(e){return new ER({type:"readonly",innerType:e})}const TR=de("ZodCustom",(e,t)=>{wI.init(e,t),nn.init(e,t)});function AR(e,t={}){return h_(TR,e,t)}function MR(e){return p_(e)}const OR=en({name:re().min(1,"Nama wajib diisi"),email:re().email("Email tidak valid"),phone:re().optional(),subject:re().optional(),message:re().min(10,"Pesan minimal 10 karakter")});function zR({section:e,locale:t="id"}){const[n,r]=S.useState(!1),[s,l]=S.useState(!1),[c,u]=S.useState(""),{register:d,handleSubmit:m,reset:p,formState:{errors:g}}=Vr({resolver:Vi(OR)}),x=async T=>{r(!0),u(""),l(!1);try{await ae.post("/contact",T,!1),l(!0),p()}catch(C){u(C instanceof Error?C.message:"Terjadi kesalahan saat mengirim pesan")}finally{r(!1)}},b=t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle,v=t==="en"&&e.contentEn?e.contentEn:e.content,j=t==="en"&&e.addressEn?e.addressEn:e.address,k=(T=>{if(!T)return null;if(T.startsWith("http://")||T.startsWith("https://"))return T;const C=T.match(/src=["']([^"']+)["']/);if(C&&C[1])return C[1];const A=T.match(/https?:\/\/[^\s<>"']+/);return A&&A[0]?A[0]:T})(e.mapEmbedUrl);return a.jsx("section",{className:"py-12 md:py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 max-w-7xl",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[a.jsxs("div",{className:"space-y-6",children:[j&&a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx(fk,{className:"text-gray-600",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:t==="en"?"Office Address":"Alamat Kantor"}),a.jsx("p",{className:"text-gray-700",children:j})]})]}),e.email&&a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx(vm,{className:"text-gray-600",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email"}),a.jsx("a",{href:`mailto:${e.email}`,className:"text-gray-700 hover:text-blue-600 transition-colors",children:e.email})]})]}),e.phone&&a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx(p0,{className:"text-gray-600",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Call Center"}),a.jsx("a",{href:`tel:${e.phone}`,className:"text-gray-700 hover:text-blue-600 transition-colors",children:e.phone})]})]})]}),k&&a.jsx("div",{className:"w-full h-full min-h-[400px] rounded-lg overflow-hidden border border-gray-200 shadow-lg",children:a.jsx("iframe",{src:k,width:"100%",height:"100%",style:{border:0,minHeight:"400px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Map Location"})})]}),a.jsxs("div",{className:"max-w-4xl mx-auto mt-12",children:[b&&a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4 text-center",children:b}),v&&a.jsx("div",{className:"prose prose-lg max-w-none mb-8 text-gray-700 text-center",dangerouslySetInnerHTML:{__html:v}}),s?a.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-lg",children:[a.jsx("p",{className:"font-semibold",children:t==="en"?"Message sent successfully!":"Pesan berhasil dikirim!"}),a.jsx("p",{className:"text-sm mt-1",children:t==="en"?"We will contact you soon.":"Kami akan menghubungi Anda segera."})]}):a.jsxs("form",{onSubmit:m(x),className:"space-y-6",children:[c&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:[t==="en"?"Name":"Nama"," *"]}),a.jsx("input",{...d("name"),type:"text",id:"name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),g.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),a.jsx("input",{...d("email"),type:"email",id:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),g.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.email.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:t==="en"?"Phone":"Telepon"}),a.jsx("input",{...d("phone"),type:"tel",id:"phone",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:t==="en"?"Subject":"Subjek"}),a.jsx("input",{...d("subject"),type:"text",id:"subject",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:[t==="en"?"Message":"Pesan"," *"]}),a.jsx("textarea",{...d("message"),id:"message",rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),g.message&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.message.message})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary-500 hover:bg-primary-600 text-white py-3 px-6 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:n?t==="en"?"Sending...":"Mengirim...":"SUBMIT"})]})]})]})})}function DR({section:e,locale:t="id"}){const n=t==="en"&&e.titleEn?e.titleEn:e.title,r=t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle,s=t==="en"&&e.contentEn?e.contentEn:e.content,c=(u=>{if(!u)return null;if(u.startsWith("http://")||u.startsWith("https://"))return u;const d=u.match(/src=["']([^"']+)["']/);if(d&&d[1])return d[1];const m=u.match(/https?:\/\/[^\s<>"']+/);return m&&m[0]?m[0]:u})(e.mapEmbedUrl);return c?a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n&&a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:n}),r&&a.jsx("p",{className:"text-lg md:text-xl text-gray-600",children:r})]}),s&&a.jsx("div",{className:"prose prose-lg max-w-none mb-8 text-center",dangerouslySetInnerHTML:{__html:s}}),a.jsx("div",{className:"w-full rounded-lg overflow-hidden border border-gray-200 shadow-lg",style:{minHeight:"450px"},children:a.jsx("iframe",{src:c,width:"100%",height:"100%",style:{border:0,minHeight:"450px"},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:n||"Map Location"})})]})}):null}function lS(e){if(!e)return[];if(Array.isArray(e))return e;if(typeof e=="string"){if(e.trim()==="")return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[e]}catch{return[e]}}return[]}function kc({section:e,locale:t="id",activeVideo:n,onPlayVideo:r,onCloseVideo:s}){const l=c=>c&&(c.startsWith("http://")||c.startsWith("https://"));if(e.type==="motto")return a.jsx(M5,{quote:e.title||"",quoteEn:e.titleEn,locale:t});if(e.type==="video-profile"){const u=(m=>{if(!m)return null;const p=m.trim(),g=/(?:youtube\.com\/(?:watch\?v=|embed\/|shorts\/|v\/)|youtu\.be\/)([A-Za-z0-9_-]{11})/,x=p.match(g);return x&&x[1]?x[1]:null})(e.videoUrl),d=n?.sectionId===e.id&&n?.videoId===u;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.image?a.jsxs("div",{className:"relative h-64 md:h-80 bg-gray-200 group cursor-pointer rounded-xl overflow-hidden",children:[a.jsx("img",{src:oe(e.image),alt:t==="en"&&e.titleEn?e.titleEn:e.title||"",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/60 to-transparent"}),e.videoUrl&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center group-hover:bg-black/20 transition-colors",children:a.jsx("button",{onClick:()=>r?.(e),className:"bg-white/95 hover:bg-white rounded-full p-4 md:p-5 transition-all hover:scale-110 shadow-xl",children:a.jsx(Lc,{className:"text-gray-900 ml-1",size:36,fill:"currentColor"})})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6 bg-gradient-to-t from-black/70 to-transparent",children:a.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white mb-1 md:mb-2",children:t==="en"&&e.titleEn?e.titleEn:e.title||"Video Profile"})})]}):a.jsx("div",{className:"relative h-64 md:h-80 bg-gray-200 group cursor-pointer rounded-xl overflow-hidden flex items-center justify-center",children:e.videoUrl?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/60 to-transparent"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center group-hover:bg-black/20 transition-colors",children:a.jsx("button",{onClick:()=>r?.(e),className:"bg-white/95 hover:bg-white rounded-full p-4 md:p-5 transition-all hover:scale-110 shadow-xl",children:a.jsx(Lc,{className:"text-gray-900 ml-1",size:36,fill:"currentColor"})})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6 bg-gradient-to-t from-black/70 to-transparent",children:a.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white mb-1 md:mb-2",children:t==="en"&&e.titleEn?e.titleEn:e.title||"Video Profile"})})]}):a.jsxs("div",{className:"text-center p-8",children:[a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-700 mb-2",children:t==="en"&&e.titleEn?e.titleEn:e.title||"Video Profile"}),e.content&&a.jsx("p",{className:"text-gray-600 text-sm",children:t==="en"&&e.contentEn?e.contentEn:e.content})]})}),e.content&&e.image&&a.jsx("div",{className:"p-4 md:p-6",children:a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t==="en"&&e.contentEn?e.contentEn:e.content})})]}),d&&u&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4",onClick:s,children:a.jsxs("div",{className:"relative w-full max-w-4xl aspect-video",onClick:m=>m.stopPropagation(),children:[a.jsx("button",{onClick:s,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:a.jsx(Ae,{size:32})}),a.jsx("iframe",{src:`https://www.youtube.com/embed/${u}?autoplay=1`,className:"w-full h-full rounded-lg",allow:"autoplay; encrypted-media",allowFullScreen:!0})]})})]})}if(e.type==="admission"){const c=Tk(lS(e.images));return a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsx("div",{className:"relative flex items-center justify-center min-h-[400px] lg:min-h-[500px]",children:c.length>=2?a.jsxs("div",{className:"relative w-full max-w-lg h-full",children:[c[0]&&a.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 lg:w-80 lg:h-80 z-10",children:a.jsx("img",{src:c[0],alt:"Admission Image 1",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white"})}),c[1]&&a.jsx("div",{className:"absolute bottom-0 right-0 w-56 h-56 lg:w-72 lg:h-72 z-0",children:a.jsx("img",{src:c[1],alt:"Admission Image 2",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white"})})]}):c.length===1?a.jsx("div",{className:"w-64 h-64 lg:w-80 lg:h-80",children:a.jsx("img",{src:c[0],alt:"Admission Image",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white"})}):e.image?a.jsx("div",{className:"w-64 h-64 lg:w-80 lg:h-80",children:a.jsx("img",{src:oe(e.image),alt:t==="en"&&e.titleEn?e.titleEn:e.title||"",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white"})}):a.jsx("div",{className:"w-64 h-64 lg:w-80 lg:h-80 bg-gray-200 rounded-full"})}),a.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-serif font-bold text-gray-900 leading-[1.2] tracking-tight",children:t==="en"&&e.titleEn?e.titleEn:e.title}),(e.content||e.subtitle)&&a.jsx("p",{className:"text-gray-700 text-base md:text-lg lg:text-xl leading-[1.7] font-sans max-w-2xl",children:t==="en"&&e.contentEn?e.contentEn:e.content||e.subtitle}),e.buttonText&&e.buttonUrl&&a.jsx("div",{className:"pt-2",children:l(e.buttonUrl)?a.jsx("a",{href:e.buttonUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-primary-500 hover:bg-primary-600 text-white px-8 py-3.5 md:px-10 md:py-4 rounded-lg font-bold text-base md:text-lg shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105",children:t==="en"&&e.buttonTextEn?e.buttonTextEn:e.buttonText}):a.jsx(Me,{to:e.buttonUrl,className:"inline-block bg-primary-500 hover:bg-primary-600 text-white px-8 py-3.5 md:px-10 md:py-4 rounded-lg font-bold text-base md:text-lg shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105",children:t==="en"&&e.buttonTextEn?e.buttonTextEn:e.buttonText})})]})]})})},e.id)}return e.type==="split-screen"?a.jsx(y0,{sections:[e],locale:t},e.id):e.type==="faq"?a.jsx(Ak,{section:e,locale:t},e.id):e.type==="feature"?a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.image&&a.jsx("img",{src:oe(e.image),alt:t==="en"&&e.titleEn?e.titleEn:e.title||"",className:"w-full h-48 object-cover rounded-lg mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900",children:t==="en"&&e.titleEn?e.titleEn:e.title}),e.subtitle&&a.jsx("p",{className:"text-gray-600 mb-4",children:t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle}),e.buttonText&&e.buttonUrl&&a.jsxs(Me,{to:e.buttonUrl,className:"text-primary-600 hover:text-primary-700 font-medium",children:[t==="en"&&e.buttonTextEn?e.buttonTextEn:e.buttonText," "]})]})})},e.id):e.type==="university-map"?a.jsx(O5,{section:e,locale:t},e.id):e.type==="figures"?a.jsx(z5,{section:e,locale:t},e.id):e.type==="global-stage"?a.jsx(D5,{section:e,locale:t},e.id):e.type==="partnerships"?a.jsx(_5,{section:e,locale:t},e.id):e.type==="news-section"?a.jsx(L5,{section:e,locale:t},e.id):e.type==="masjid-al-fatih"?a.jsxs("section",{className:"relative min-h-[600px] flex",children:[e.imageLeft&&a.jsx("div",{className:"w-1/2 relative",children:a.jsx("img",{src:oe(e.imageLeft),alt:"Masjid Interior",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:`relative ${e.imageLeft?"w-1/2":"w-full"} min-h-[600px]`,children:[a.jsx("div",{className:"absolute inset-0",style:{background:e.imageRight?`url(${oe(e.imageRight)})`:"linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/90 via-blue-800/85 to-blue-900/90"}),a.jsxs("div",{className:"relative h-full flex flex-col justify-center px-8 md:px-12 lg:px-16 py-16 z-10",children:[e.title&&a.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",style:{textShadow:"0 2px 8px rgba(0, 0, 0, 0.5)",letterSpacing:"-0.02em"},children:t==="en"&&e.titleEn?e.titleEn:e.title}),e.subtitle&&a.jsx("p",{className:"text-xl md:text-2xl text-white font-medium mb-6 leading-relaxed",style:{textShadow:"0 1px 4px rgba(0, 0, 0, 0.4)"},children:t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle}),e.content&&a.jsx("div",{className:"text-white text-base md:text-lg leading-relaxed max-w-2xl",style:{textShadow:"0 1px 3px rgba(0, 0, 0, 0.4)",lineHeight:"1.8"},dangerouslySetInnerHTML:{__html:t==="en"&&e.contentEn?e.contentEn:e.content}}),e.buttonText&&e.buttonUrl&&a.jsx("div",{className:"pt-8",children:l(e.buttonUrl)?a.jsx("a",{href:e.buttonUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-white text-blue-900 hover:bg-gray-100 px-8 py-3 rounded-lg font-semibold transition-colors shadow-lg",children:t==="en"&&e.buttonTextEn?e.buttonTextEn:e.buttonText}):a.jsx(Me,{to:e.buttonUrl,className:"inline-block bg-white text-blue-900 hover:bg-gray-100 px-8 py-3 rounded-lg font-semibold transition-colors shadow-lg",children:t==="en"&&e.buttonTextEn?e.buttonTextEn:e.buttonText})})]})]})]},e.id):e.type==="accreditation"?a.jsx(U5,{section:e,locale:t},e.id):e.type==="navigation-grid"?a.jsx(P5,{section:e,locale:t},e.id):e.type==="program-cards"?a.jsx(B5,{section:e,locale:t},e.id):e.type==="facility-gallery"?a.jsx($5,{section:e,locale:t},e.id):e.type==="extracurricular-detail"?a.jsx(F5,{section:e,locale:t},e.id):e.type==="organization-structure"?a.jsx(V5,{section:e,locale:t},e.id):e.type==="student-achievements"?a.jsx(H5,{section:e,locale:t},e.id):e.type==="curriculum-table"?a.jsx(q5,{section:e,locale:t},e.id):e.type==="academic-calendar"?a.jsx(G5,{section:e,locale:t},e.id):e.type==="bos-report"?a.jsx(K5,{section:e,locale:t},e.id):e.type==="contact"?a.jsx(zR,{section:e,locale:t},e.id):e.type==="maps"?a.jsx(DR,{section:e,locale:t},e.id):null}function oS({faqs:e,locale:t="id"}){const[n,r]=S.useState(0),s=d=>{r(n===d?null:d)};if(e.length===0)return null;const l=e.find(d=>d.sectionTitle||d.image)||e[0],c=t==="en"&&l.sectionTitleEn?l.sectionTitleEn:l.sectionTitle||"",u=l.image;return a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c&&a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:c})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-start",children:[a.jsx("div",{className:"space-y-4",children:e.map((d,m)=>{const p=n===m,g=t==="en"&&d.questionEn?d.questionEn:d.question,x=t==="en"&&d.answerEn?d.answerEn:d.answer;return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[a.jsxs("button",{onClick:()=>s(m),className:`w-full px-6 py-4 flex items-center justify-between text-left transition-colors ${p?"bg-green-500 text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[a.jsx("span",{className:"font-semibold text-base md:text-lg pr-4",children:g}),p?a.jsx(Zt,{size:24,className:"flex-shrink-0"}):a.jsx(It,{size:24,className:"flex-shrink-0"})]}),p&&a.jsx("div",{className:"px-6 py-4 bg-white",children:a.jsx("div",{className:"text-gray-700 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:x}})})]},d.id)})}),u&&a.jsx("div",{className:"sticky top-8",children:a.jsx("div",{className:"relative h-full min-h-[500px] lg:min-h-[600px]",children:a.jsx("img",{src:oe(u),alt:"FAQ Section Image",className:"w-full h-full object-cover rounded-lg shadow-lg",onError:d=>{console.error("Failed to load image:",u),d.currentTarget.src="/placeholder-image.png"}})})})]})]})})}function cS({figures:e,locale:t="id",sectionTitle:n,sectionTitleEn:r,backgroundImage:s}){if(e.length===0)return null;const l=t==="en"&&r?r:n||"Tokoh-Tokoh SMA AL AZHAR INSAN CENDEKIA JATIBENING";return a.jsxs("section",{className:"py-16 relative",style:{backgroundImage:s?`url(${oe(s)})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[s&&a.jsx("div",{className:"absolute inset-0 bg-white/80"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 animate-fade-in-up",children:l})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((c,u)=>a.jsx(v0,{delay:u*.1,direction:"up",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"relative h-80 bg-gray-200",children:a.jsx("img",{src:oe(c.image),alt:t==="en"&&c.nameEn?c.nameEn:c.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-6 bg-white",children:[a.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:t==="en"&&c.nameEn?c.nameEn:c.name}),a.jsx("p",{className:"text-sm text-gray-600 font-medium",children:t==="en"&&c.positionEn?c.positionEn:c.position})]})]})},c.id))})]})]})}const IR={international:{id:"Kerjasama Internasional",en:"International Cooperation"},health:{id:"Kerjasama Kesehatan",en:"Health Cooperation"},"student-escort":{id:"Kerjasama Pengawalan Siswa",en:"Student Escort Cooperation"}};function uS({partnerships:e,locale:t="id"}){if(e.length===0)return null;const n=e.reduce((s,l)=>(s[l.category]||(s[l.category]=[]),s[l.category].push(l),s),{}),r=["international","health","student-escort"];return a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.map(s=>{const l=n[s]||[];if(l.length===0)return null;const c=IR[s],u=t==="en"?c.en:c.id;return a.jsxs("div",{className:"mb-16 last:mb-0",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-center",children:u}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:l.map((d,m)=>a.jsx(v0,{delay:m*.05,direction:"up",children:a.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"mb-4 h-24 w-full flex items-center justify-center",children:a.jsx("img",{src:d.logo,alt:t==="en"&&d.nameEn?d.nameEn:d.name,className:"max-h-24 max-w-full object-contain"})}),a.jsx("p",{className:"text-sm md:text-base text-center text-gray-700 font-medium",children:t==="en"&&d.nameEn?d.nameEn:d.name})]})},d.id))})]},s)})})})}function cc({children:e,className:t="",delay:n=0,direction:r="up",threshold:s=.15,rootMargin:l="0px 0px -80px 0px"}){const{elementRef:c,isVisible:u}=Ok({threshold:s,rootMargin:l,triggerOnce:!0}),m={opacity:u?1:0,transform:u?"translateY(0) translateX(0)":(()=>{switch(r){case"up":return"translateY(30px)";case"down":return"translateY(-30px)";case"left":return"translateX(-30px)";case"right":return"translateX(30px)";case"fade":return"translateY(0)";default:return"translateY(30px)"}})(),transition:`opacity 0.9s cubic-bezier(0.4, 0, 0.2, 1) ${n}s, transform 0.9s cubic-bezier(0.4, 0, 0.2, 1) ${n}s`,willChange:u?"auto":"opacity, transform"};return a.jsx("div",{ref:c,className:t,style:m,children:e})}function iu(e){S.useEffect(()=>{if(e.website_favicon?.value){const t=oe(e.website_favicon.value);document.querySelectorAll("link[rel~='icon']").forEach(s=>s.remove());const r=document.createElement("link");r.rel="icon",r.href=t,document.head.appendChild(r)}e.website_title?.value?document.title=e.website_title.value:document.title="CMS Sekolah"},[e])}function lu(e,t){S.useEffect(()=>{if(!e)return;const n=typeof window<"u"?window.location.href:"";if(Xt("name","title",e.title||t||""),Xt("name","description",e.description||""),Xt("name","keywords",e.keywords||""),Xt("name","author",e.author||""),Xt("name","robots",e.robots||"index, follow"),e.image){const r=oe(e.image);Xt("property","og:image",r),Xt("name","twitter:image",r)}if(Xt("property","og:title",e.ogTitle||e.title||t||""),Xt("property","og:description",e.ogDescription||e.description||""),e.ogImage){const r=oe(e.ogImage);Xt("property","og:image",r)}else if(e.image){const r=oe(e.image);Xt("property","og:image",r)}if(Xt("property","og:type",e.ogType||"website"),Xt("property","og:site_name",e.ogSiteName||""),Xt("property","og:url",e.ogUrl||n),Xt("name","twitter:card",e.twitterCard||"summary_large_image"),Xt("name","twitter:title",e.ogTitle||e.title||t||""),Xt("name","twitter:description",e.ogDescription||e.description||""),e.ogImage){const r=oe(e.ogImage);Xt("name","twitter:image",r)}else if(e.image){const r=oe(e.image);Xt("name","twitter:image",r)}e.twitterSite&&Xt("name","twitter:site",e.twitterSite.startsWith("@")?e.twitterSite:`@${e.twitterSite}`),e.twitterCreator&&Xt("name","twitter:creator",e.twitterCreator.startsWith("@")?e.twitterCreator:`@${e.twitterCreator}`),e.canonical?Pw("canonical",e.canonical):Pw("canonical",n),e.title?document.title=e.title:t&&(document.title=t)},[e,t])}function Xt(e,t,n){if(!n)return;let r=document.querySelector(`meta[${e}="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute(e,t),document.head.appendChild(r)),r.setAttribute("content",n)}function Pw(e,t){if(!t)return;let n=document.querySelector(`link[rel="${e}"]`);n||(n=document.createElement("link"),n.setAttribute("rel",e),document.head.appendChild(n)),n.setAttribute("href",t)}function _R(){const[e]=ta(),t=e.get("locale")||"id",[n,r]=S.useState([]),[,s]=S.useState([]),[l,c]=S.useState([]),[u,d]=S.useState([]),[m,p]=S.useState([]),[g,x]=S.useState([]),[b,v]=S.useState([]),[j,N]=S.useState({}),[k,T]=S.useState(null),[C,A]=S.useState(!0),[M,D]=S.useState(null);return iu(j),lu(k,j.website_title?.value||"SMA AL AZHAR INSAN CENDEKIA JATIBENING"),S.useEffect(()=>{async function z(){try{const[L,K,X,R,_,U,P,G,B]=await Promise.all([ae.get("/admin/menus"),ae.get("/admin/posts"),ae.get("/admin/sliders"),ae.get("/admin/home-sections"),ae.get("/admin/faqs"),ae.get("/admin/figures"),ae.get("/admin/partnerships"),ae.get("/admin/settings").then(he=>{const I={};return he.forEach(q=>{I[q.key]=q}),I}),ae.get("/admin/seo?pageType=global",!1).catch(()=>null)]),Y=L.filter(he=>!he.parentId&&he.isActive).map(he=>({...he,titleEn:he.titleEn??void 0,children:(he.children||[]).filter(I=>I.isActive).map(I=>({...I,titleEn:I.titleEn??void 0,children:(I.children||[]).filter(q=>q.isActive).map(q=>({...q,titleEn:q.titleEn??void 0}))}))})).sort((he,I)=>he.order-I.order),V=K.filter(he=>he.isPublished).sort((he,I)=>new Date(I.publishedAt||I.createdAt).getTime()-new Date(he.publishedAt||he.createdAt).getTime()).slice(0,6),ve=R.map(he=>({...he,images:Array.isArray(he.images)?he.images:he.images?[he.images]:[]}));r(Y),s(V),c(X),d(ve),p(_),x(U),v(P),N(G),T(B)}catch(L){console.error("Error loading data:",L)}finally{A(!1)}}z()},[]),C?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat..."})]})}):a.jsxs("div",{className:"min-h-screen",children:[l.length>0?a.jsxs("div",{className:"relative",children:[a.jsx(Ks,{menus:n,locale:t,logo:j.website_logo?.value||null,websiteName:j.website_title?.value||null,showWebsiteName:j.show_website_name?.value==="true"}),a.jsx(b0,{sliders:l,locale:t})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ks,{menus:n,locale:t,logo:j.website_logo?.value||null,websiteName:j.website_title?.value||null,showWebsiteName:j.show_website_name?.value==="true"}),a.jsx("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:"Al Azhar International Islamic Boarding School"}),a.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-100",children:"Qur'anic Learning, Courtesy Oriented and World Class Education"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:a.jsxs(Me,{to:"/pendaftaran",className:"bg-white text-primary-700 px-8 py-3 rounded-lg font-semibold hover:bg-primary-50 transition-colors inline-flex items-center justify-center",children:["Pendaftaran Murid Baru",a.jsx(e6,{className:"ml-2 h-5 w-5"})]})})]})})})]}),(()=>{const z=[...u].filter(R=>R.isActive).sort((R,_)=>(R.order||0)-(_.order||0)),L=R=>{if(!R.videoUrl)return;const _=R.videoUrl.trim(),U=/(?:youtube\.com\/(?:watch\?v=|embed\/|shorts\/|v\/)|youtu\.be\/)([A-Za-z0-9_-]{11})/,P=_.match(U);P&&P[1]?D({sectionId:R.id,videoId:P[1]}):window.open(R.videoUrl,"_blank","noopener,noreferrer")},K=[];let X=0;for(;X<z.length;){const R=z[X];if(R.type==="video-profile"){const _=[R];for(X++;X<z.length&&z[X].type==="video-profile";)_.push(z[X]),X++;K.push(a.jsx(cc,{delay:0,children:a.jsx("section",{className:"py-8 md:py-10 lg:py-12 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:_.map(U=>a.jsx(kc,{section:U,locale:t,activeVideo:M,onPlayVideo:L,onCloseVideo:()=>D(null),isGrouped:!0},U.id))})})})},`video-group-${_[0].id}`))}else K.push(a.jsx(cc,{delay:0,children:a.jsx(kc,{section:R,locale:t,activeVideo:M,onPlayVideo:L,onCloseVideo:()=>D(null)})},R.id)),X++}return K})(),!u.some(L=>L.type==="faq"&&L.isActive)&&m.length>0?a.jsx(cc,{delay:0,children:a.jsx(oS,{faqs:m,locale:t})}):null,a.jsx(cc,{delay:0,children:a.jsx(cS,{figures:g,locale:t,sectionTitle:j.figures_section_title?.value||"Tokoh-Tokoh SMA AL AZHAR INSAN CENDEKIA JATIBENING",sectionTitleEn:j.figures_section_title_en?.value||void 0,backgroundImage:j.figures_section_background?.value||void 0})}),a.jsx(cc,{delay:0,children:a.jsx(uS,{partnerships:b,locale:t})}),a.jsx(Ei,{locale:t,logo:j.website_logo?.value||null,websiteName:j.website_title?.value||null,address:j.footer_address?.value||null,phone:j.footer_phone?.value||null,email:j.footer_email?.value||null,facebookUrl:j.facebook_url?.value||null,instagramUrl:j.instagram_url?.value||null,youtubeUrl:j.youtube_url?.value||null}),a.jsx(Ci,{phoneNumber:j.whatsapp_phone?.value||null,defaultMessage:j.whatsapp_message?.value||null})]})}function RR({sections:e,locale:t="id"}){const[n,r]=S.useState(null),s=e.filter(v=>v.type==="motto"),l=e.filter(v=>v.type==="video-profile"),c=e.filter(v=>v.type==="admission"),u=e.filter(v=>v.type==="feature"),d=e.filter(v=>v.type==="split-screen"),m=e.filter(v=>v.type==="faq"),p=v=>v&&(v.startsWith("http://")||v.startsWith("https://")),g=v=>{if(!v)return null;const j=v.trim(),N=/(?:youtube\.com\/(?:watch\?v=|embed\/|shorts\/|v\/)|youtu\.be\/)([A-Za-z0-9_-]{11})/,k=j.match(N);if(k&&k[1])return k[1];try{const T=new URL(j);if(T.hostname.includes("youtube.com")||T.hostname.includes("youtu.be")){const C=T.searchParams.get("v")||T.pathname.split("/").pop();return C&&C.length>=11?C:null}}catch{}return null},x=v=>{if(!v.videoUrl)return;const j=g(v.videoUrl);if(!j){window.open(v.videoUrl,"_blank","noopener,noreferrer");return}r({sectionId:v.id,videoId:j})},b=()=>{r(null)};return a.jsxs(a.Fragment,{children:[l.length>0&&a.jsx("section",{className:"py-8 md:py-10 lg:py-12 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:l.map(v=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[v.image&&a.jsxs("div",{className:"relative h-64 md:h-80 bg-gray-200 group cursor-pointer rounded-xl overflow-hidden",children:[a.jsx("img",{src:oe(v.image),alt:t==="en"&&v.titleEn?v.titleEn:v.title||"",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/60 to-transparent"}),v.videoUrl&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center group-hover:bg-black/20 transition-colors",children:a.jsx("button",{onClick:()=>x(v),className:"bg-white/95 hover:bg-white rounded-full p-4 md:p-5 transition-all hover:scale-110 shadow-xl",children:a.jsx(Lc,{className:"text-gray-900 ml-1",size:36,fill:"currentColor"})})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6 bg-gradient-to-t from-black/70 to-transparent",children:a.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white mb-1 md:mb-2",children:t==="en"&&v.titleEn?v.titleEn:v.title})})]}),v.content&&a.jsx("div",{className:"p-4 md:p-6",children:a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t==="en"&&v.contentEn?v.contentEn:v.content})})]},v.id))})})}),c.length>0&&c.map(v=>{const j=Tk(lS(v.images));return a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsx("div",{className:"relative flex items-center justify-center min-h-[400px] lg:min-h-[500px]",children:j.length>=2?a.jsxs("div",{className:"relative w-full max-w-lg h-full",children:[j[0]&&a.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 lg:w-80 lg:h-80 z-10",children:a.jsx("img",{src:j[0],alt:"Admission Image 1",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white",onError:N=>{console.error("Failed to load image:",j[0]),N.currentTarget.src="/placeholder-image.png"}})}),j[1]&&a.jsx("div",{className:"absolute bottom-0 right-0 w-56 h-56 lg:w-72 lg:h-72 z-0",children:a.jsx("img",{src:j[1],alt:"Admission Image 2",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white",onError:N=>{console.error("Failed to load image:",j[1]),N.currentTarget.src="/placeholder-image.png"}})})]}):j.length===1?a.jsx("div",{className:"w-64 h-64 lg:w-80 lg:h-80",children:a.jsx("img",{src:j[0],alt:"Admission Image",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white",onError:N=>{console.error("Failed to load image:",j[0]),N.currentTarget.src="/placeholder-image.png"}})}):v.image?a.jsx("div",{className:"w-64 h-64 lg:w-80 lg:h-80",children:a.jsx("img",{src:oe(v.image),alt:t==="en"&&v.titleEn?v.titleEn:v.title||"",className:"w-full h-full object-cover rounded-full shadow-2xl border-4 border-white"})}):a.jsx("div",{className:"w-64 h-64 lg:w-80 lg:h-80 bg-gray-200 rounded-full"})}),a.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-serif font-bold text-gray-900 leading-[1.2] tracking-tight",children:t==="en"&&v.titleEn?v.titleEn:v.title}),(v.content||v.subtitle)&&a.jsx("p",{className:"text-gray-700 text-base md:text-lg lg:text-xl leading-[1.7] font-sans max-w-2xl",children:t==="en"&&v.contentEn?v.contentEn:v.content||v.subtitle}),v.buttonText&&v.buttonUrl&&a.jsx("div",{className:"pt-2",children:p(v.buttonUrl)?a.jsx("a",{href:v.buttonUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-primary-500 hover:bg-primary-600 text-white px-8 py-3.5 md:px-10 md:py-4 rounded-lg font-bold text-base md:text-lg shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105",children:t==="en"&&v.buttonTextEn?v.buttonTextEn:v.buttonText}):a.jsx(Me,{to:v.buttonUrl,className:"inline-block bg-primary-500 hover:bg-primary-600 text-white px-8 py-3.5 md:px-10 md:py-4 rounded-lg font-bold text-base md:text-lg shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105",children:t==="en"&&v.buttonTextEn?v.buttonTextEn:v.buttonText})})]})]})})},v.id)}),a.jsx(y0,{sections:d,locale:t}),s.length>1&&s.slice(1).map(v=>a.jsx("section",{className:"py-8 md:py-10 lg:py-12 bg-white",children:a.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"text-center",children:a.jsxs("h2",{className:"font-serif italic text-gray-900",style:{fontFamily:"'Playfair Display', 'Georgia', 'Times New Roman', serif",fontSize:"clamp(1.75rem, 3.5vw, 2.5rem)",fontWeight:400,letterSpacing:"0.02em",lineHeight:"1.5",fontStyle:"italic",textShadow:"0 1px 2px rgba(0,0,0,0.03)"},children:['"',t==="en"&&v.titleEn?v.titleEn:v.title,'"']})})})},v.id)),m.length>0&&m.map(v=>a.jsx(Ak,{section:v,locale:t},v.id)),u.length>0&&a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:u.map(v=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[v.image&&a.jsx("img",{src:oe(v.image),alt:t==="en"&&v.titleEn?v.titleEn:v.title||"",className:"w-full h-48 object-cover rounded-lg mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900",children:t==="en"&&v.titleEn?v.titleEn:v.title}),v.subtitle&&a.jsx("p",{className:"text-gray-600 mb-4",children:t==="en"&&v.subtitleEn?v.subtitleEn:v.subtitle}),v.buttonText&&v.buttonUrl&&a.jsxs(Me,{to:v.buttonUrl,className:"text-primary-600 hover:text-primary-700 font-medium",children:[t==="en"&&v.buttonTextEn?v.buttonTextEn:v.buttonText," "]})]},v.id))})})}),n&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:b,children:a.jsxs("div",{className:"relative w-full max-w-4xl mx-4 bg-black rounded-lg overflow-hidden",onClick:v=>v.stopPropagation(),children:[a.jsx("button",{onClick:b,className:"absolute top-4 right-4 z-10 bg-white/90 hover:bg-white rounded-full p-2 transition-colors","aria-label":"Close video",children:a.jsx(Ae,{size:24,className:"text-gray-900"})}),a.jsxs("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:[" ",a.jsx("iframe",{src:`https://www.youtube.com/embed/${n.videoId}?autoplay=1&rel=0`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full"})]})]})})]})}function Bw({blocks:e,locale:t="id"}){if(!e||e.length===0)return null;const n=e.filter(r=>r.isActive).sort((r,s)=>r.order-s.order);return a.jsx(a.Fragment,{children:n.map(r=>{try{let s;if(typeof r.data=="string")try{s=JSON.parse(r.data)}catch(l){console.error(`Error parsing block data for block ${r.id}:`,l,"Raw data:",r.data),s=r.data?{content:r.data}:{}}else s=r.data||{};switch(r.type){case"hero-slider":return a.jsx(b0,{sliders:s.sliders||[],locale:t},r.id);case"home-section":return a.jsx(RR,{sections:s.sections||[],locale:t},r.id);case"faq-section":return a.jsx(oS,{faqs:s.faqs||[],locale:t},r.id);case"figures-section":return a.jsx(cS,{figures:s.figures||[],locale:t},r.id);case"partnership-section":return a.jsx(uS,{partnerships:s.partnerships||[],locale:t},r.id);case"split-screen":return a.jsx(y0,{sections:s.sections||[],locale:t},r.id);case"gallery-carousel":return a.jsx(LR,{data:s,locale:t},r.id);case"video-section":return a.jsx(UR,{data:s,locale:t},r.id);case"text":return a.jsx("div",{className:`prose prose-lg md:prose-xl max-w-none px-4 sm:px-6 lg:px-8 py-12 md:py-16
                    prose-headings:text-gray-900 prose-headings:font-bold
                    prose-h1:text-4xl prose-h1:md:text-5xl prose-h1:mb-6 prose-h1:mt-8
                    prose-h2:text-3xl prose-h2:md:text-4xl prose-h2:mb-4 prose-h2:mt-8 prose-h2:text-primary-600
                    prose-h3:text-2xl prose-h3:md:text-3xl prose-h3:mb-3 prose-h3:mt-6 prose-h3:text-gray-800
                    prose-p:text-gray-700 prose-p:leading-relaxed prose-p:text-base prose-p:md:text-lg prose-p:mb-4
                    prose-a:text-primary-600 prose-a:font-medium prose-a:no-underline hover:prose-a:underline
                    prose-strong:text-gray-900 prose-strong:font-bold
                    prose-ul:list-disc prose-ul:pl-6 prose-ul:mb-4
                    prose-ol:list-decimal prose-ol:pl-6 prose-ol:mb-4
                    prose-li:text-gray-700 prose-li:mb-2
                    prose-blockquote:border-l-4 prose-blockquote:border-primary-500 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-600
                    prose-img:rounded-lg prose-img:shadow-lg prose-img:my-8
                    prose-code:text-primary-600 prose-code:bg-gray-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded
                    prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:rounded-lg prose-pre:p-4
                    prose-hr:border-gray-300 prose-hr:my-8
                  `,dangerouslySetInnerHTML:{__html:s.content||""}},r.id);case"image":return a.jsx("div",{className:"my-12 md:my-16 px-4 sm:px-6 lg:px-8",children:s.image&&a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("img",{src:oe(s.image),alt:s.alt||"",className:"w-full rounded-xl shadow-2xl transition-transform duration-300 hover:scale-[1.02]"}),s.alt&&a.jsx("p",{className:"text-center text-sm text-gray-500 mt-4 italic",children:s.alt})]})},r.id);case"two-column":return a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsx(PR,{data:s,locale:t})},r.id);case"accordion":return a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsx(BR,{data:s,locale:t})},r.id);case"cards":return a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsx($R,{data:s,locale:t})},r.id);default:return null}}catch(s){return console.error(`Error rendering block ${r.id}:`,s),console.error("Block data:",r.data),console.error("Block type:",r.type),a.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg my-4",children:[a.jsxs("p",{className:"text-yellow-800 text-sm",children:["Error rendering block: ",r.type," (ID: ",r.id,")"]}),a.jsx("p",{className:"text-yellow-600 text-xs mt-1",children:s instanceof Error?s.message:"Unknown error"})]},r.id)}})})}function LR({data:e,locale:t}){const[n,r]=S.useState(0),s=t==="en"&&e.titleEn?e.titleEn:e.title,l=t==="en"&&e.subtitleEn?e.subtitleEn:e.subtitle,c=4;let u=[];if(typeof window<"u"&&console.log("Gallery Carousel Data:",e),e.items&&Array.isArray(e.items)&&e.items.length>0?u=e.items.map((v,j)=>{if(typeof v=="string")return{image:oe(v),label:`Item ${j+1}`};const N=v.image||v.url||"",k=v.label||v.name||`Item ${j+1}`;return{image:oe(N),label:k}}).filter(v=>v.image&&v.image.trim()!==""):e.images&&Array.isArray(e.images)&&e.images.length>0&&(u=e.images.map((v,j)=>({image:oe(v),label:e.labels&&Array.isArray(e.labels)&&e.labels[j]?e.labels[j]:`Item ${j+1}`})).filter(v=>v.image&&v.image.trim()!=="")),u.length===0)return console.warn("Gallery Carousel: No valid items found",e),null;const d=Math.ceil(u.length/c),m=Math.max(0,d-1),p=()=>{r(v=>v>0?v-1:m)},g=()=>{r(v=>v<m?v+1:0)},b=(()=>{const v=n*c,j=v+c,N=u.slice(v,j);for(;N.length<c&&N.length<u.length;)N.push(null);return N})();return a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s&&a.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-center mb-4 text-gray-900",children:s}),l&&a.jsx("p",{className:"text-center text-gray-600 text-base md:text-lg mb-12 max-w-3xl mx-auto leading-relaxed",children:l}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"overflow-hidden",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:b.map((v,j)=>{if(!v)return null;const N=n*c+j;return a.jsxs("div",{className:"group",children:[a.jsx("div",{className:"relative overflow-hidden rounded-lg bg-gray-200 aspect-square mb-3",children:a.jsx("img",{src:v.image,alt:v.label||`${s||"Gallery"} ${N+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:k=>{console.error("Failed to load image:",v.image),k.currentTarget.src="/placeholder-image.png"}})}),v.label&&a.jsx("p",{className:"text-center text-sm md:text-base font-medium text-gray-700",children:v.label})]},N)})})}),d>1&&a.jsxs("div",{className:"flex justify-center items-center mt-8 space-x-4",children:[a.jsx("button",{onClick:p,type:"button",className:"bg-white hover:bg-gray-50 text-gray-800 px-6 py-2 rounded-lg shadow-md transition-all border border-gray-200 font-medium","aria-label":"Previous",children:"Sebelumnya"}),a.jsx("button",{onClick:g,type:"button",className:"bg-white hover:bg-gray-50 text-gray-800 px-6 py-2 rounded-lg shadow-md transition-all border border-gray-200 font-medium","aria-label":"Next",children:"Selanjutnya"})]})]})]})})}function UR({data:e,locale:t}){const n=e.videos||[],r=t==="en"&&e.titleEn?e.titleEn:e.title;return n.length===0?null:a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r&&a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-gray-900",children:r}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((s,l)=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[s.thumbnail&&a.jsxs("div",{className:"relative h-80 bg-gray-200 group cursor-pointer",children:[a.jsx("img",{src:oe(s.thumbnail),alt:s.title||`Video ${l+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center group-hover:bg-black/20 transition-colors",children:a.jsx("button",{onClick:()=>{s.url&&window.open(s.url,"_blank")},className:"bg-white/95 hover:bg-white rounded-full p-5 transition-all hover:scale-110 shadow-xl",children:a.jsx(Lc,{className:"text-gray-900 ml-1",size:40,fill:"currentColor"})})})]}),s.title&&a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:t==="en"&&s.titleEn?s.titleEn:s.title}),s.description&&a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t==="en"&&s.descriptionEn?s.descriptionEn:s.description})]})]},l))})]})})}function PR({data:e,locale:t}){const n=t==="en"&&e.leftContentEn?e.leftContentEn:e.leftContent,r=t==="en"&&e.rightContentEn?e.rightContentEn:e.rightContent;return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 my-8",children:[a.jsx("div",{className:"prose prose-lg max-w-none",children:n&&a.jsx("div",{dangerouslySetInnerHTML:{__html:n}})}),a.jsx("div",{className:"prose prose-lg max-w-none",children:r&&a.jsx("div",{dangerouslySetInnerHTML:{__html:r}})})]})}function BR({data:e,locale:t}){const[n,r]=S.useState(0),s=e.items||[],l=c=>{r(n===c?null:c)};return a.jsx("div",{className:"space-y-4 my-8",children:s.map((c,u)=>{const d=n===u,m=t==="en"&&c.titleEn?c.titleEn:c.title,p=t==="en"&&c.contentEn?c.contentEn:c.content;return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[a.jsxs("button",{onClick:()=>l(u),className:`w-full px-6 py-4 flex items-center justify-between text-left transition-colors ${d?"bg-primary-600 text-white":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[a.jsx("span",{className:"font-semibold",children:m}),d?a.jsx(Zt,{size:20}):a.jsx(It,{size:20})]}),d&&a.jsx("div",{className:"px-6 py-4 bg-white",children:a.jsx("div",{className:"text-gray-700 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:p}})})]},u)})})}function $R({data:e,locale:t}){const n=e.cards||[],r=e.columns||3,l={1:"md:grid-cols-1",2:"md:grid-cols-2",3:"md:grid-cols-3",4:"md:grid-cols-4"}[r]||"md:grid-cols-3";return a.jsx("div",{className:`grid grid-cols-1 ${l} gap-8 my-8`,children:n.map((c,u)=>{const d=t==="en"&&c.titleEn?c.titleEn:c.title,m=t==="en"&&c.contentEn?c.contentEn:c.content;return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[c.image&&a.jsx("img",{src:oe(c.image),alt:d||`Card ${u+1}`,className:"w-full h-48 object-cover rounded-lg mb-4",onError:p=>{console.error("Failed to load image:",c.image),p.currentTarget.src="/placeholder-image.png"}}),d&&a.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900",children:d}),m&&a.jsx("div",{className:"text-gray-600 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:m}}),c.buttonText&&c.buttonUrl&&a.jsxs(Me,{to:c.buttonUrl,className:"text-primary-600 hover:text-primary-700 font-medium mt-4 inline-block",children:[t==="en"&&c.buttonTextEn?c.buttonTextEn:c.buttonText," "]})]},u)})})}function dS({sections:e,locale:t="id"}){const[n,r]=S.useState(null),s=[...e].filter(p=>p.isActive!==!1).sort((p,g)=>(p.order||0)-(g.order||0)),l=p=>{if(!p)return null;const g=p.trim(),x=/(?:youtube\.com\/(?:watch\?v=|embed\/|shorts\/|v\/)|youtu\.be\/)([A-Za-z0-9_-]{11})/,b=g.match(x);if(b&&b[1])return b[1];try{const v=new URL(g);if(v.hostname.includes("youtube.com")||v.hostname.includes("youtu.be")){const j=v.searchParams.get("v")||v.pathname.split("/").pop();return j&&j.length>=11?j:null}}catch{}return null},c=p=>{if(!p.videoUrl)return;const g=l(p.videoUrl);if(!g){window.open(p.videoUrl,"_blank","noopener,noreferrer");return}r({sectionId:p.id,videoId:g})},u=()=>{r(null)},d=[];let m=0;for(;m<s.length;){const p=s[m];if(p.type==="video-profile"){const g=[p];for(m++;m<s.length&&s[m].type==="video-profile";)g.push(s[m]),m++;const x=g.length===1;d.push(a.jsx("section",{className:"py-8 md:py-10 lg:py-12 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:x?a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-full max-w-2xl",children:a.jsx(kc,{section:{...g[0],order:g[0].order||0},locale:t,activeVideo:n,onPlayVideo:c,onCloseVideo:()=>r(null),isGrouped:!0},g[0].id)})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:g.map(b=>a.jsx(kc,{section:{...b,order:b.order||0},locale:t,activeVideo:n,onPlayVideo:c,onCloseVideo:()=>r(null),isGrouped:!0},b.id))})})},`video-group-${g[0].id}`))}else d.push(a.jsx(kc,{section:{...p,order:p.order||0},locale:t,activeVideo:n,onPlayVideo:c,onCloseVideo:()=>r(null)},p.id)),m++}return a.jsxs(a.Fragment,{children:[d,n&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:u,children:a.jsxs("div",{className:"relative w-full max-w-4xl mx-4 bg-black rounded-lg overflow-hidden",onClick:p=>p.stopPropagation(),children:[a.jsx("button",{onClick:u,className:"absolute top-4 right-4 z-10 bg-white/90 hover:bg-white rounded-full p-2 transition-colors","aria-label":"Close video",children:a.jsx(Ae,{size:24,className:"text-gray-900"})}),a.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:a.jsx("iframe",{src:`https://www.youtube.com/embed/${n.videoId}?autoplay=1&rel=0`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full"})})]})})]})}function I0({withoutLayout:e=!1}){const[t]=ta(),n=_t(),r=t.get("locale")||"id";S.useEffect(()=>{document.title=r==="en"?"404 - Page Not Found":"404 - Halaman Tidak Ditemukan"},[r]);const s=a.jsx("main",{className:`${e?"py-12":"flex-grow flex items-center justify-center py-12"} px-4 sm:px-6 lg:px-8`,children:a.jsxs("div",{className:"max-w-4xl w-full text-center",children:[a.jsx("div",{className:"mb-8 flex flex-col items-center",children:a.jsxs("div",{className:"relative mb-6",children:[a.jsxs("svg",{className:"w-64 h-64 md:w-80 md:h-80",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"200",cy:"120",r:"100",fill:"#F0FDF4",opacity:"0.6"}),a.jsx("circle",{cx:"200",cy:"100",r:"50",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),a.jsx("circle",{cx:"185",cy:"90",r:"6",fill:"#FFFFFF"}),a.jsx("circle",{cx:"215",cy:"90",r:"6",fill:"#FFFFFF"}),a.jsx("circle",{cx:"185",cy:"90",r:"3",fill:"#065F46"}),a.jsx("circle",{cx:"215",cy:"90",r:"3",fill:"#065F46"}),a.jsx("path",{d:"M 180 115 Q 200 125 220 115",stroke:"#065F46",strokeWidth:"3",strokeLinecap:"round",fill:"none"}),a.jsx("rect",{x:"130",y:"160",width:"140",height:"80",rx:"6",fill:"#FFFFFF",stroke:"#10B981",strokeWidth:"2",strokeDasharray:"4 4"}),a.jsx("rect",{x:"140",y:"170",width:"120",height:"60",rx:"4",fill:"#F0FDF4"}),a.jsx("circle",{cx:"80",cy:"60",r:"15",fill:"#86EFAC",opacity:"0.5"}),a.jsx("circle",{cx:"320",cy:"60",r:"12",fill:"#86EFAC",opacity:"0.5"}),a.jsx("circle",{cx:"80",cy:"240",r:"12",fill:"#86EFAC",opacity:"0.5"}),a.jsx("circle",{cx:"320",cy:"240",r:"15",fill:"#86EFAC",opacity:"0.5"})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 w-full",children:a.jsxs("div",{className:"bg-white border-2 border-primary-600 rounded-lg px-6 py-4 shadow-lg",children:[a.jsx("div",{className:"text-6xl md:text-7xl font-bold text-primary-600 mb-2",children:"404"}),a.jsx("div",{className:"text-sm md:text-base text-gray-600 font-medium",children:r==="en"?"Page Not Found":"Halaman Tidak Ditemukan"})]})})]})}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-primary-800 mb-4",children:"Oops!"}),a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-4",children:"Halaman yang Anda cari tidak ditemukan"}),a.jsxs("div",{className:"max-w-2xl mx-auto space-y-3 mb-10",children:[a.jsx("p",{className:"text-lg md:text-xl text-gray-600",children:"Maaf, halaman yang Anda cari tidak ditemukan atau telah dipindahkan."}),a.jsx("p",{className:"text-base md:text-lg text-gray-500",children:"Halaman mungkin telah dihapus, dipindahkan, atau URL yang Anda masukkan salah."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs(Me,{to:"/",className:"group inline-flex items-center justify-center bg-primary-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-primary-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl min-w-[220px] text-base",children:[a.jsx(h0,{className:"mr-2 h-5 w-5"}),"Kembali ke Beranda"]}),a.jsxs("button",{onClick:()=>{window.history.length>1?n(-1):n("/")},className:"group inline-flex items-center justify-center bg-white text-primary-600 border-2 border-primary-600 px-8 py-4 rounded-lg font-semibold hover:bg-primary-50 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg min-w-[220px] text-base",children:[a.jsx(ql,{className:"mr-2 h-5 w-5"}),"Kembali"]})]})]})});return e?s:a.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-50 via-white to-gray-50",children:s})}function FR(){const e=ys(),[t]=ta(),n=_t(),r=e?.slug,s=t.get("locale")||"id",[l,c]=S.useState(null),[u,d]=S.useState(null),[m,p]=S.useState([]),[g,x]=S.useState({}),[b,v]=S.useState(null),[j,N]=S.useState(!0),[k,T]=S.useState(!1);if(iu(g),lu(b,l?.title||u?.name||g.website_title?.value||"Halaman"),S.useEffect(()=>{async function X(){try{const[R,_,U,P]=await Promise.all([ae.get("/admin/pages"),ae.get("/admin/categories"),ae.get("/admin/menus"),ae.get("/admin/settings").then(V=>{const ve={};return V.forEach(he=>{ve[he.key]=he}),ve})]),G=R.find(V=>V.slug===r&&V.isPublished),B=_.find(V=>V.slug===r&&V.isActive);if(G){try{const[V,ve,he,I]=await Promise.all([ae.get(`/admin/pages/${G.id}/blocks`).catch(()=>[]),ae.get(`/admin/pages/${G.id}/hero`).catch(()=>[]),ae.get(`/admin/pages/${G.id}/sections`).catch(()=>[]),ae.get(`/admin/seo?pageType=page&pageId=${G.id}`,!1).catch(()=>ae.get("/admin/seo?pageType=global",!1).catch(()=>null))]);let q;I?q={...I,title:I.title||G.seoTitle||G.title,description:I.description||G.seoDescription||G.excerpt||G.content?.substring(0,160),image:I.image||G.featuredImage,ogTitle:I.ogTitle||G.seoTitle||G.title,ogDescription:I.ogDescription||G.seoDescription||G.excerpt||G.content?.substring(0,200),ogImage:I.ogImage||G.featuredImage}:q={title:G.seoTitle||G.title,description:G.seoDescription||G.excerpt||G.content?.substring(0,160),keywords:G.seoKeywords,image:G.featuredImage,ogTitle:G.seoTitle||G.title,ogDescription:G.seoDescription||G.excerpt||G.content?.substring(0,200),ogImage:G.featuredImage,ogType:"website"};const ee=(Array.isArray(V)?V:[]).map(pe=>{if(pe.data&&typeof pe.data=="string")try{pe.data=JSON.parse(pe.data)}catch(te){console.error("Error parsing block data:",te,"Block:",pe),pe.data={}}return pe}).filter(pe=>pe.isActive&&pe.id&&pe.id!==G.id).sort((pe,te)=>pe.order-te.order),fe=(Array.isArray(ve)?ve:[]).filter(pe=>pe.isActive!==!1).sort((pe,te)=>(pe.order??0)-(te.order??0)),we=(Array.isArray(he)?he:[]).filter(pe=>pe.isActive!==!1).sort((pe,te)=>(pe.order??0)-(te.order??0));G.blocks=ee,G.heroes=fe,G.sections=we,console.log("Loaded blocks for page:",G.id,"Blocks:",ee.length,"Heroes:",fe.length,"Sections:",we.length),console.log("Sections data:",we),console.log("Video-profile sections:",we.filter(pe=>pe.type==="video-profile")),v(q)}catch(V){console.error("Error loading blocks:",V),G.blocks=[],G.heroes=[],G.sections=[]}c(G)}else if(B){const V=await ae.get("/admin/posts").then(ve=>ve.filter(he=>he.isPublished&&he.categoryId===B.id));B.posts=V,d(B);try{const ve=await ae.get(`/admin/seo?pageType=category&pageSlug=${r}`,!1).catch(()=>ae.get("/admin/seo?pageType=global",!1).catch(()=>null));ve?(ve.title=ve.title||B.name,ve.description=ve.description||B.description||B.descriptionEn):v({title:B.name,description:B.description||B.descriptionEn,ogType:"website"}),ve&&v(ve)}catch{const ve=await ae.get("/admin/seo?pageType=global",!1).catch(()=>null);ve&&v(ve)}}else{T(!0);return}const Y=U.filter(V=>!V.parentId&&V.isActive).map(V=>({...V,titleEn:V.titleEn??void 0,children:(V.children||[]).filter(ve=>ve.isActive).map(ve=>({...ve,titleEn:ve.titleEn??void 0,children:(ve.children||[]).filter(he=>he.isActive).map(he=>({...he,titleEn:he.titleEn??void 0}))}))})).sort((V,ve)=>V.order-ve.order);p(Y),x(P)}catch(R){console.error("Error loading data:",R)}finally{N(!1)}}r&&X()},[r,n]),j)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat..."})]})});if(k)return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Ks,{menus:m,locale:s,logo:g.website_logo?.value||null,websiteName:g.website_title?.value||null,showWebsiteName:g.show_website_name?.value==="true"}),a.jsx(I0,{withoutLayout:!0}),a.jsx(Ei,{locale:s,logo:g.website_logo?.value||null,websiteName:g.website_title?.value||null,address:g.footer_address?.value||null,phone:g.footer_phone?.value||null,email:g.footer_email?.value||null,facebookUrl:g.facebook_url?.value||null,instagramUrl:g.instagram_url?.value||null,youtubeUrl:g.youtube_url?.value||null}),a.jsx(Ci,{phoneNumber:g.whatsapp_phone?.value||null,defaultMessage:g.whatsapp_message?.value||null})]});if(u)return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Ks,{menus:m,locale:s,logo:g.website_logo?.value||null,websiteName:g.website_title?.value||null,showWebsiteName:g.show_website_name?.value==="true"}),a.jsx("div",{className:"bg-primary-600 text-white py-24 md:py-32 lg:py-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold",children:s==="en"&&u.nameEn?u.nameEn:u.name}),u.description&&a.jsx("p",{className:"text-xl md:text-2xl mt-6 text-gray-200",children:s==="en"&&u.descriptionEn?u.descriptionEn:u.description})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:u.posts&&u.posts.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.posts.map(X=>a.jsxs(Me,{to:`/berita/${X.slug}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 group",children:[X.featuredImage&&a.jsx("div",{className:"relative h-56 overflow-hidden",children:a.jsx("img",{src:oe(X.featuredImage),alt:X.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:R=>{console.error("Failed to load image:",X.featuredImage),R.currentTarget.src="/placeholder-image.png"}})}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:X.publishedAt&&new Date(X.publishedAt).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}),a.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2",children:s==="en"&&X.titleEn?X.titleEn:X.title}),X.excerpt&&a.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:s==="en"&&X.excerptEn?X.excerptEn:X.excerpt}),a.jsx("span",{className:"text-primary-600 font-medium text-sm hover:underline",children:"Selengkapnya "})]})]},X.id))}):a.jsx("div",{className:"text-center py-16",children:a.jsx("p",{className:"text-gray-500 text-lg",children:s==="en"?"No content available in this category yet.":"Belum ada konten di kategori ini."})})}),a.jsx(Ei,{locale:s,logo:g.website_logo?.value||null,websiteName:g.website_title?.value||null,address:g.footer_address?.value||null,phone:g.footer_phone?.value||null,email:g.footer_email?.value||null,facebookUrl:g.facebook_url?.value||null,instagramUrl:g.instagram_url?.value||null,youtubeUrl:g.youtube_url?.value||null}),a.jsx(Ci,{phoneNumber:g.whatsapp_phone?.value||null,defaultMessage:g.whatsapp_message?.value||null})]});if(!l)return null;const C=l.slug==="tentang-kami"||l.template==="with-header",A=l.template==="academic-smp"||l.template==="academic-sma",M=l.blocks&&l.blocks.length>0&&l.blocks[0].type==="hero-slider",D=M?l.blocks[0]:null,z=l.blocks||[],L=l.heroes&&Array.isArray(l.heroes)&&l.heroes.length>0,K=l.sections&&l.sections.length>0;return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Ks,{menus:m,locale:s,logo:g.website_logo?.value||null,websiteName:g.website_title?.value||null,showWebsiteName:g.show_website_name?.value==="true"}),L?a.jsx(b0,{sliders:l.heroes,locale:s}):M&&D?a.jsx(Bw,{blocks:[D],locale:s}):C?a.jsxs("div",{className:"relative bg-primary-600 text-white",children:[a.jsx(Ks,{menus:m,locale:s,logo:g.website_logo?.value||null,websiteName:g.website_title?.value||null,showWebsiteName:g.show_website_name?.value==="true"}),a.jsx("div",{className:"py-24 md:py-32 lg:py-40 pt-32 md:pt-40 lg:pt-48",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold",children:s==="en"&&l.titleEn?l.titleEn:l.title})})})]}):a.jsx(a.Fragment,{children:l.featuredImage&&a.jsx("div",{className:"h-64 md:h-80 lg:h-96 bg-gradient-to-r from-gray-200 to-gray-300 relative pt-20 overflow-hidden",children:a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("img",{src:oe(l.featuredImage),alt:l.title,className:"w-full h-full object-cover",onError:X=>{console.error("Failed to load image:",l.featuredImage),X.currentTarget.src="/placeholder-image.png"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]})})}),K&&a.jsx(dS,{sections:l.sections,locale:s}),z&&z.length>0?a.jsx("div",{className:"bg-white",children:a.jsx(Bw,{blocks:z,locale:s})}):K?null:a.jsxs("div",{className:"bg-gradient-to-b from-gray-50 to-white",children:[!C&&!A&&a.jsxs("div",{className:"relative bg-gradient-to-r from-primary-600 to-primary-700 text-white py-16 md:py-24 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full -translate-x-1/2 -translate-y-1/2"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full translate-x-1/2 translate-y-1/2"})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:s==="en"&&l.titleEn?l.titleEn:l.title}),l.excerpt&&a.jsx("p",{className:"text-xl md:text-2xl text-primary-100 leading-relaxed",children:s==="en"&&l.excerptEn?l.excerptEn:l.excerpt})]})})]}),a.jsx("article",{className:`${C||A?"bg-white":""} ${C||A?"py-12 md:py-16":"py-16 md:py-24"}`,children:a.jsx("div",{className:`${C||A?"max-w-5xl":"max-w-4xl"} mx-auto px-4 sm:px-6 lg:px-8`,children:(l.content||l.contentEn)&&a.jsx("div",{className:`prose prose-lg md:prose-xl max-w-none 
                    prose-headings:text-gray-900 prose-headings:font-bold
                    prose-h1:text-4xl prose-h1:md:text-5xl prose-h1:mb-6 prose-h1:mt-8
                    prose-h2:text-3xl prose-h2:md:text-4xl prose-h2:mb-4 prose-h2:mt-8 prose-h2:text-primary-600
                    prose-h3:text-2xl prose-h3:md:text-3xl prose-h3:mb-3 prose-h3:mt-6 prose-h3:text-gray-800
                    prose-p:text-gray-700 prose-p:leading-relaxed prose-p:text-base prose-p:md:text-lg prose-p:mb-4
                    prose-a:text-primary-600 prose-a:font-medium prose-a:no-underline hover:prose-a:underline
                    prose-strong:text-gray-900 prose-strong:font-bold
                    prose-ul:list-disc prose-ul:pl-6 prose-ul:mb-4
                    prose-ol:list-decimal prose-ol:pl-6 prose-ol:mb-4
                    prose-li:text-gray-700 prose-li:mb-2
                    prose-blockquote:border-l-4 prose-blockquote:border-primary-500 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-600
                    prose-img:rounded-lg prose-img:shadow-lg prose-img:my-8
                    prose-code:text-primary-600 prose-code:bg-gray-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded
                    prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:rounded-lg prose-pre:p-4
                    prose-hr:border-gray-300 prose-hr:my-8
                  `,dangerouslySetInnerHTML:{__html:s==="en"&&l.contentEn?l.contentEn:l.content}})})})]}),a.jsx(Ei,{locale:s,logo:g.website_logo?.value||null,websiteName:g.website_title?.value||null,address:g.footer_address?.value||null,phone:g.footer_phone?.value||null,email:g.footer_email?.value||null,facebookUrl:g.facebook_url?.value||null,instagramUrl:g.instagram_url?.value||null,youtubeUrl:g.youtube_url?.value||null}),a.jsx(Ci,{phoneNumber:g.whatsapp_phone?.value||null,defaultMessage:g.whatsapp_message?.value||null})]})}function VR(){const e=ys(),[t]=ta(),n=_t(),r=e?.slug,s=t.get("locale")||"id",[l,c]=S.useState(null),[u,d]=S.useState([]),[m,p]=S.useState({}),[g,x]=S.useState(null),[b,v]=S.useState([]),[j,N]=S.useState(null),[k,T]=S.useState(!0);return iu(m),lu(g,l?.title||m.website_title?.value||"Berita"),S.useEffect(()=>{async function C(){try{const[A,M,D,z]=await Promise.all([ae.get("/admin/posts").then(R=>R.find(_=>_.slug===r&&_.isPublished)),ae.get("/admin/menus"),ae.get("/admin/settings").then(R=>{const _={};return R.forEach(U=>{_[U.key]=U}),_}),ae.get("/admin/posts").then(R=>R.filter(_=>_.isPublished))]);let L=null;if(A){try{L=await ae.get(`/admin/seo?pageType=post&pageId=${A.id}`,!1)}catch{L=await ae.get("/admin/seo?pageType=global",!1).catch(()=>null)}L?L={...L,title:L.title||A.title,description:L.description||A.excerpt||A.content?.substring(0,160),image:L.image||A.featuredImage,ogTitle:L.ogTitle||A.title,ogDescription:L.ogDescription||A.excerpt||A.content?.substring(0,200),ogImage:L.ogImage||A.featuredImage}:L={title:A.title,description:A.excerpt||A.content?.substring(0,160),image:A.featuredImage,ogTitle:A.title,ogDescription:A.excerpt||A.content?.substring(0,200),ogImage:A.featuredImage,ogType:"article"}}if(!A){n("/404");return}c(A),d(M.filter(R=>!R.parentId&&R.isActive));const K=z.sort((R,_)=>new Date(_.publishedAt||_.createdAt).getTime()-new Date(R.publishedAt||R.createdAt).getTime()),X=K.findIndex(R=>R.id===A.id);N(X>0?K[X-1]:null),v(K.filter(R=>R.id!==A.id).slice(0,5)),p(D),x(L)}catch(A){console.error("Error loading data:",A)}finally{T(!1)}}r&&C()},[r,n]),k?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat..."})]})}):l?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Ks,{menus:u,locale:s,logo:m.website_logo?.value||null,websiteName:m.website_title?.value||null,showWebsiteName:m.show_website_name?.value==="true"}),a.jsx("div",{className:"bg-primary-600 text-white py-24 md:py-32 lg:py-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold",children:s==="en"&&l.titleEn?l.titleEn:l.title}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 text-gray-200 text-sm md:text-base mt-6",children:[a.jsx("span",{children:l.publishedAt&&new Date(l.publishedAt).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}),a.jsx("span",{children:""}),a.jsx("span",{children:l.category||"alazhar"})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("article",{className:"lg:col-span-2",children:[l.featuredImage&&a.jsx("div",{className:"mb-8",children:a.jsx("img",{src:oe(l.featuredImage),alt:l.title,className:"w-full h-auto object-cover rounded-lg"})}),a.jsx("div",{className:"prose prose-lg max-w-none mb-8",dangerouslySetInnerHTML:{__html:s==="en"&&l.contentEn?l.contentEn:l.content}}),j&&a.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:a.jsxs(Me,{to:`/berita/${j.slug}`,className:"flex items-center text-primary-600 hover:text-primary-700 font-medium",children:[a.jsx("span",{children:"Next"}),a.jsx(ao,{size:20,className:"ml-2"}),a.jsx("span",{className:"ml-2",children:s==="en"&&j.titleEn?j.titleEn:j.title})]})})]}),a.jsxs("aside",{className:"lg:col-span-1",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("form",{className:"flex",children:[a.jsx("input",{type:"search",placeholder:"Cari...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),a.jsx("button",{type:"submit",className:"bg-orange-500 text-white px-4 py-2 rounded-r-lg hover:bg-orange-600 transition-colors",children:a.jsx(jm,{size:20})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:"Berita Terbaru"}),a.jsx("ul",{className:"space-y-3",children:b.map(C=>a.jsx("li",{children:a.jsx(Me,{to:`/berita/${C.slug}`,className:"text-gray-700 hover:text-primary-600 transition-colors block",children:s==="en"&&C.titleEn?C.titleEn:C.title})},C.id))})]})]})]})}),a.jsx(Ei,{locale:s,logo:m.website_logo?.value||null,websiteName:m.website_title?.value||null,address:m.footer_address?.value||null,phone:m.footer_phone?.value||null,email:m.footer_email?.value||null,facebookUrl:m.facebook_url?.value||null,instagramUrl:m.instagram_url?.value||null,youtubeUrl:m.youtube_url?.value||null}),a.jsx(Ci,{phoneNumber:m.whatsapp_phone?.value||null,defaultMessage:m.whatsapp_message?.value||null})]}):null}function HR(){const[e]=ta(),t=e.get("locale")||"id",[n,r]=S.useState([]),[s,l]=S.useState(null),[c,u]=S.useState({}),[d,m]=S.useState(!0);if(iu(c),lu(s?.seo||null,c.website_title?.value||"SMA AL AZHAR INSAN CENDEKIA JATIBENING"),S.useEffect(()=>{async function g(){try{const[x,b]=await Promise.all([ae.get("/admin/menus"),ae.get("/admin/settings").then(j=>{const N={};return j.forEach(k=>{N[k.key]=k}),N})]),v=x.filter(j=>!j.parentId&&j.isActive).map(j=>({...j,titleEn:j.titleEn??void 0,children:(j.children||[]).filter(N=>N.isActive).map(N=>({...N,titleEn:N.titleEn??void 0,children:(N.children||[]).filter(k=>k.isActive).map(k=>({...k,titleEn:k.titleEn??void 0}))}))})).sort((j,N)=>j.order-N.order);r(v),u(b);try{const N=(await ae.get("/admin/pages")).find(k=>k.slug==="kontak"&&k.isPublished);if(N){const[k,T]=await Promise.all([ae.get(`/admin/pages/${N.id}/sections`).catch(()=>[]),ae.get(`/admin/seo?pageType=page&pageId=${N.id}`,!1).catch(()=>ae.get("/admin/seo?pageType=global",!1).catch(()=>null))]);let C;T&&(C=Array.isArray(T)?T[0]:T),l({...N,sections:k||[],seo:C||null})}else console.warn('Page with slug "kontak" not found or not published')}catch(j){console.error("Error loading page:",j)}}catch(x){console.error("Error loading data:",x)}finally{m(!1)}}g()},[]),d)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat..."})]})});const p=s?.sections&&Array.isArray(s.sections)&&s.sections.length>0;return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Ks,{menus:n,locale:t,logo:c.website_logo?.value||null,websiteName:c.website_title?.value||null,showWebsiteName:c.show_website_name?.value==="true"}),a.jsx("div",{className:"bg-primary-600 text-white py-16 md:py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold",children:t==="en"&&s?.titleEn?s.titleEn:s?.title||(t==="en"?"Contact":"Kontak")})})}),p&&a.jsx(dS,{sections:s.sections,locale:t}),!p&&a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsx("p",{className:"text-center text-gray-500",children:t==="en"?"No content available.":"Konten belum tersedia."})}),a.jsx(Ei,{locale:t,logo:c.website_logo?.value||null,websiteName:c.website_title?.value||null,address:c.footer_address?.value||null,phone:c.footer_phone?.value||null,email:c.footer_email?.value||null,facebookUrl:c.facebook_url?.value||null,instagramUrl:c.instagram_url?.value||null,youtubeUrl:c.youtube_url?.value||null}),a.jsx(Ci,{phoneNumber:c.whatsapp_phone?.value||null,defaultMessage:c.whatsapp_message?.value||null})]})}const qR="https://api.aicjatibening.com/api".replace(/\/+$/,"");function fS(e){const t=qR,n=e.startsWith("/")?e:`/${e}`;return`${t}${n}`}async function GR(e,t){const n=fS("/auth/login"),r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok){const l=await r.json().catch(()=>({error:"Login failed"}));throw new Error(l.error||"Email atau password salah")}const s=await r.json();if(typeof window<"u"){localStorage.setItem("auth_token",s.token),localStorage.setItem("user",JSON.stringify(s.user));const l=new Date;l.setTime(l.getTime()+720*60*60*1e3),document.cookie=`auth_token=${s.token}; path=/; expires=${l.toUTCString()}; SameSite=Lax`}return s}async function KR(){typeof window<"u"&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),document.cookie="auth_token=; path=/; max-age=0"),window.location.href="/login"}function mS(){return typeof window<"u"?localStorage.getItem("auth_token"):null}function ZR(){if(typeof window<"u"){const e=localStorage.getItem("user");return e?JSON.parse(e):null}return null}function hS(){return mS()!==null}async function pS(){const e=mS();if(!e)return null;try{const t=fS("/auth/session"),n=new AbortController,r=setTimeout(()=>n.abort(),5e3),s=await fetch(t,{headers:{Authorization:`Bearer ${e}`},signal:n.signal});if(clearTimeout(r),!s.ok)return typeof window<"u"&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user")),null;const l=await s.json();return l.user?(localStorage.setItem("user",JSON.stringify(l.user)),l.user):null}catch(t){return console.error("Session check failed:",t),null}}const JR=en({email:re().email("Email tidak valid"),password:re().min(6,"Password minimal 6 karakter")});function WR(){const e=_t(),[t]=ta(),[n,r]=S.useState(""),[s,l]=S.useState(!1),c=S.useRef(!1);S.useEffect(()=>{if(c.current)return;c.current=!0;async function g(){if(hS())try{if(await pS()){const b=t.get("callbackUrl")||"/admin";e(b,{replace:!0})}}catch(x){console.error("Session check error:",x)}}g()},[e,t]);const{register:u,handleSubmit:d,formState:{errors:m}}=Vr({resolver:Vi(JR)}),p=async g=>{l(!0),r("");try{const x=t.get("callbackUrl")||"/admin";await GR(g.email,g.password),e(x)}catch(x){console.error("Login error:",x),r(x.message||"Email atau password salah"),l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Admin Login"}),n&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:n}),a.jsxs("form",{onSubmit:d(p),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{...u("email"),type:"email",id:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"admin@example.com"}),m.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsx("input",{...u("password"),type:"password",id:"password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:""}),m.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password.message})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Memproses...":"Login"})]})]})})}const YR=[{title:"Dashboard",href:"/admin",icon:a.jsx(L6,{size:20})},{title:"Home",icon:a.jsx(h0,{size:20}),children:[{title:"Hero Slider",href:"/admin/sliders",icon:a.jsx(kO,{size:18})},{title:"Home Section",href:"/admin/home-sections",icon:a.jsx(tO,{size:18})}]},{title:"Halaman",href:"/admin/pages",icon:a.jsx(La,{size:20})},{title:"Berita",href:"/admin/posts",icon:a.jsx(X6,{size:20})},{title:"Kontak",href:"/admin/contacts",icon:a.jsx(vm,{size:20})},{title:"Menu",href:"/admin/menus",icon:a.jsx(mk,{size:20})},{title:"SEO",href:"/admin/seo",icon:a.jsx(jm,{size:20})},{title:"Pengaturan",href:"/admin/settings",icon:a.jsx(wO,{size:20})}];function QR(){const e=es(),[t]=ta(),[n,r]=S.useState(["Home"]),s=u=>{r(d=>d.includes(u)?d.filter(m=>m!==u):[...d,u])},l=u=>{if(!u)return!1;if(u==="/admin")return e.pathname==="/admin";const d=u.split("?")[0];if(e.pathname==="/admin/pages"&&d==="/admin/pages"){const m=t.get("slug");if(u.includes("?slug=")){const p=u.split("?slug=")[1];return m===p}return!m}return e.pathname.startsWith(d)},c=u=>u.href&&l(u.href)?!0:u.children?u.children.some(d=>l(d.href)):!1;return a.jsx("aside",{className:"fixed left-0 top-0 h-screen w-64 bg-gray-900 text-white shadow-lg z-40",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"CMS Sekolah"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Admin Panel"})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:YR.map(u=>{const d=u.children&&u.children.length>0,m=n.includes(u.title),p=c(u);return a.jsx("div",{children:d?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>s(u.title),className:Gs("w-full flex items-center justify-between px-4 py-3 rounded-lg transition-colors",p?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[u.icon,a.jsx("span",{className:"font-medium",children:u.title})]}),m?a.jsx(It,{size:18}):a.jsx(ao,{size:18})]}),m&&a.jsx("div",{className:"ml-4 mt-1 space-y-1",children:u.children?.map(g=>a.jsxs(Me,{to:g.href||"#",className:Gs("flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-colors",l(g.href)?"bg-primary-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"),children:[g.icon,a.jsx("span",{className:"text-sm",children:g.title})]},g.title))})]}):a.jsxs(Me,{to:u.href||"#",className:Gs("flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors",l(u.href)?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[u.icon,a.jsx("span",{className:"font-medium",children:u.title})]})},u.title)})}),a.jsxs("div",{className:"p-4 border-t border-gray-800 space-y-3",children:[a.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 px-4 py-2.5 rounded-lg transition-colors text-gray-300 hover:bg-gray-800 hover:text-white w-full",children:[a.jsx(p6,{size:18}),a.jsx("span",{className:"text-sm font-medium",children:"Buka Halaman Depan"})]}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:" 2025 CMS Sekolah"})]})]})})}function XR(){const[e,t]=S.useState(null);S.useEffect(()=>{t(ZR())},[]);const n=async()=>{await KR()};return a.jsxs("header",{className:"fixed top-0 left-64 right-0 h-16 bg-white border-b border-gray-200 z-30 flex items-center justify-between px-6",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Dashboard"})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[e&&a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.email})]}),a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()})]}),a.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Logout"})]})]})}function eL({children:e}){const t=es(),[n,r]=S.useState(!0),[s,l]=S.useState(!1),c=S.useRef(!1);return S.useEffect(()=>{if(c.current)return;c.current=!0;async function u(){try{if(hS()){const d=await pS();l(!!d)}else l(!1)}catch(d){console.error("Auth check error:",d),l(!1)}finally{r(!1)}}u()},[]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat..."})]})}):s?a.jsx(a.Fragment,{children:e}):t.pathname!=="/login"?a.jsx(u3,{to:`/login?callbackUrl=${encodeURIComponent(t.pathname)}`,replace:!0}):null}function Oe({children:e}){const[t,n]=S.useState({});return S.useEffect(()=>{async function r(){try{const s=await ae.get("/admin/settings",!1),l={};Array.isArray(s)&&s.forEach(c=>{l[c.key]=c}),n(l)}catch(s){console.error("Error loading settings:",s)}}r()},[]),S.useEffect(()=>{t.website_title?.value?document.title=t.website_title.value:document.title="Admin - CMS Sekolah"},[t]),a.jsx(eL,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(QR,{}),a.jsx(XR,{}),a.jsx("main",{className:"ml-64 mt-16 p-6",children:e})]})})}function tL(){const[e,t]=S.useState({posts:0,pages:0,menus:0,contacts:0}),[n,r]=S.useState(!0);return S.useEffect(()=>{async function s(){try{const[l,c,u,d]=await Promise.all([ae.get("/admin/posts").catch(()=>[]),ae.get("/admin/pages").catch(()=>[]),ae.get("/admin/menus").catch(()=>[]),ae.get("/admin/contacts").catch(()=>[])]);t({posts:Array.isArray(l)?l.length:0,pages:Array.isArray(c)?c.length:0,menus:Array.isArray(u)?u.length:0,contacts:Array.isArray(d)?d.length:0})}catch(l){console.error("Error loading stats:",l)}finally{r(!1)}}s()},[]),a.jsx(Oe,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Posts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.posts})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Pages"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.pages})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Menus"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.menus})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Total Contacts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.contacts})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Selamat Datang di Admin Panel"}),a.jsx("p",{className:"text-gray-600",children:"Gunakan menu di sidebar untuk mengelola konten website."})]})]})})}const uc="flash_message";function Wn(){const[e,t]=S.useState({message:"",type:"success",show:!1});S.useEffect(()=>{const d=sessionStorage.getItem(uc);if(d)try{const m=JSON.parse(d);t({message:m.message,type:m.type,show:!0}),sessionStorage.removeItem(uc),m.duration&&m.duration>0&&setTimeout(()=>{t(p=>({...p,show:!1}))},m.duration)}catch(m){console.error("Error parsing flash message:",m)}},[]);const n=S.useCallback((d,m="success",p=3e3,g=!1)=>{t({message:d,type:m,show:!0}),g?sessionStorage.setItem(uc,JSON.stringify({message:d,type:m,duration:p})):(sessionStorage.removeItem(uc),p>0&&setTimeout(()=>{t(x=>({...x,show:!1}))},p))},[]),r=S.useCallback(()=>{t(d=>({...d,show:!1})),sessionStorage.removeItem(uc)},[]),s=S.useCallback((d,m,p)=>{n(d,"success",m,p)},[n]),l=S.useCallback((d,m,p)=>{n(d,"error",m,p)},[n]),c=S.useCallback((d,m,p)=>{n(d,"info",m,p)},[n]),u=S.useCallback((d,m,p)=>{n(d,"warning",m,p)},[n]);return{flashMessage:e,showFlashMessage:n,hideFlashMessage:r,showSuccess:s,showError:l,showInfo:c,showWarning:u}}function $n({id:e,apiEndpoint:t,confirmMessage:n,onDeleted:r,successMessage:s}){const{showSuccess:l,showError:c}=Wn(),[u,d]=S.useState(!1),m=async()=>{if(confirm(n)){d(!0);try{await ae.delete(`${t}/${e}`),l(s||"Data berhasil dihapus!"),r?r():setTimeout(()=>{window.location.reload()},1e3)}catch(p){console.error("Delete error:",p),c(p.message||"Gagal menghapus data"),d(!1)}}};return a.jsx("button",{onClick:m,disabled:u,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Hapus",children:a.jsx(Ae,{size:18})})}function Ja({message:e,type:t="success",duration:n=3e3,onClose:r,show:s=!0}){const[l,c]=S.useState(s);if(S.useEffect(()=>{c(s)},[s]),S.useEffect(()=>{if(n>0&&l){const p=setTimeout(()=>{c(!1),r&&setTimeout(r,300)},n);return()=>clearTimeout(p)}},[n,r,l]),!l||!e)return null;const d={success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-700",icon:gc},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-700",icon:fx},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:O6},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-700",icon:c6}}[t],m=d.icon;return a.jsxs("div",{className:`${d.bg} ${d.border} ${d.text} border px-4 py-3 rounded-lg mb-4 flex items-center justify-between transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m,{size:20,className:"flex-shrink-0"}),a.jsx("p",{className:"font-medium",children:e})]}),r&&a.jsx("button",{onClick:()=>{c(!1),setTimeout(r,300)},className:`${d.text} hover:opacity-70 transition-opacity ml-4`,children:a.jsx(Ae,{size:18})})]})}function nL(){const{flashMessage:e}=Wn(),[t,n]=S.useState([]),[r,s]=S.useState(!0),[l,c]=S.useState(null);S.useEffect(()=>{u()},[]);async function u(){try{s(!0);const d=await ae.get("/admin/sliders",!0);n(Array.isArray(d)?d:[])}catch(d){console.error("Error loading sliders:",d),c(d.message||"Gagal memuat data sliders")}finally{s(!1)}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):l?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:l}),a.jsx("button",{onClick:u,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Coba Lagi"})]})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.show&&a.jsx(Ja,{message:e.message,type:e.type,onClose:()=>{}}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Slider"}),a.jsxs(Me,{to:"/admin/sliders/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Slider"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.length===0?a.jsx("div",{className:"p-12 text-center text-gray-500",children:a.jsx("p",{children:"Belum ada slider. Tambah slider baru untuk memulai."})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subtitle"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Video"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(d=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.image?a.jsx("img",{src:oe(d.image),alt:d.title,className:"h-16 w-32 object-cover rounded",onError:m=>{const p=m.currentTarget.src;console.error("Failed to load image:",{originalPath:d.image,fullUrl:p,sliderId:d.id})},onLoad:()=>{console.log("Image loaded successfully:",oe(d.image))}}):a.jsx("div",{className:"h-16 w-32 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:"No Image"})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.title}),d.titleEn&&a.jsx("div",{className:"text-sm text-gray-500",children:d.titleEn})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:d.subtitle||"-"})}),a.jsx("td",{className:"px-6 py-4",children:d.videoUrl?a.jsxs("a",{href:d.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-primary-600 hover:text-primary-800 space-x-1 text-sm",children:[a.jsx(dk,{size:16}),a.jsx("span",{children:"YouTube"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:d.order})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:d.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Me,{to:`/admin/sliders/${d.id}`,className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:d.id,apiEndpoint:"/admin/sliders",confirmMessage:"Yakin ingin menghapus slider ini?",onDeleted:u})]})})]},d.id))})]})})]})})})}var vt;(function(e){e.LOAD="LOAD",e.EXEC="EXEC",e.FFPROBE="FFPROBE",e.WRITE_FILE="WRITE_FILE",e.READ_FILE="READ_FILE",e.DELETE_FILE="DELETE_FILE",e.RENAME="RENAME",e.CREATE_DIR="CREATE_DIR",e.LIST_DIR="LIST_DIR",e.DELETE_DIR="DELETE_DIR",e.ERROR="ERROR",e.DOWNLOAD="DOWNLOAD",e.PROGRESS="PROGRESS",e.LOG="LOG",e.MOUNT="MOUNT",e.UNMOUNT="UNMOUNT"})(vt||(vt={}));const rL=(()=>{let e=0;return()=>e++})(),sL=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),aL=new Error("called FFmpeg.terminate()");class iL{#t=null;#r={};#n={};#s=[];#a=[];loaded=!1;#i=()=>{this.#t&&(this.#t.onmessage=({data:{id:t,type:n,data:r}})=>{switch(n){case vt.LOAD:this.loaded=!0,this.#r[t](r);break;case vt.MOUNT:case vt.UNMOUNT:case vt.EXEC:case vt.FFPROBE:case vt.WRITE_FILE:case vt.READ_FILE:case vt.DELETE_FILE:case vt.RENAME:case vt.CREATE_DIR:case vt.LIST_DIR:case vt.DELETE_DIR:this.#r[t](r);break;case vt.LOG:this.#s.forEach(s=>s(r));break;case vt.PROGRESS:this.#a.forEach(s=>s(r));break;case vt.ERROR:this.#n[t](r);break}delete this.#r[t],delete this.#n[t]})};#e=({type:t,data:n},r=[],s)=>this.#t?new Promise((l,c)=>{const u=rL();this.#t&&this.#t.postMessage({id:u,type:t,data:n},r),this.#r[u]=l,this.#n[u]=c,s?.addEventListener("abort",()=>{c(new DOMException(`Message # ${u} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(sL);on(t,n){t==="log"?this.#s.push(n):t==="progress"&&this.#a.push(n)}off(t,n){t==="log"?this.#s=this.#s.filter(r=>r!==n):t==="progress"&&(this.#a=this.#a.filter(r=>r!==n))}load=({classWorkerURL:t,...n}={},{signal:r}={})=>(this.#t||(this.#t=t?new Worker(new URL(t,import.meta.url),{type:"module"}):new Worker(new URL("/assets/worker-BAOIWoxA.js",import.meta.url),{type:"module"}),this.#i()),this.#e({type:vt.LOAD,data:n},void 0,r));exec=(t,n=-1,{signal:r}={})=>this.#e({type:vt.EXEC,data:{args:t,timeout:n}},void 0,r);ffprobe=(t,n=-1,{signal:r}={})=>this.#e({type:vt.FFPROBE,data:{args:t,timeout:n}},void 0,r);terminate=()=>{const t=Object.keys(this.#n);for(const n of t)this.#n[n](aL),delete this.#n[n],delete this.#r[n];this.#t&&(this.#t.terminate(),this.#t=null,this.loaded=!1)};writeFile=(t,n,{signal:r}={})=>{const s=[];return n instanceof Uint8Array&&s.push(n.buffer),this.#e({type:vt.WRITE_FILE,data:{path:t,data:n}},s,r)};mount=(t,n,r)=>{const s=[];return this.#e({type:vt.MOUNT,data:{fsType:t,options:n,mountPoint:r}},s)};unmount=t=>{const n=[];return this.#e({type:vt.UNMOUNT,data:{mountPoint:t}},n)};readFile=(t,n="binary",{signal:r}={})=>this.#e({type:vt.READ_FILE,data:{path:t,encoding:n}},void 0,r);deleteFile=(t,{signal:n}={})=>this.#e({type:vt.DELETE_FILE,data:{path:t}},void 0,n);rename=(t,n,{signal:r}={})=>this.#e({type:vt.RENAME,data:{oldPath:t,newPath:n}},void 0,r);createDir=(t,{signal:n}={})=>this.#e({type:vt.CREATE_DIR,data:{path:t}},void 0,n);listDir=(t,{signal:n}={})=>this.#e({type:vt.LIST_DIR,data:{path:t}},void 0,n);deleteDir=(t,{signal:n}={})=>this.#e({type:vt.DELETE_DIR,data:{path:t}},void 0,n)}var $w;(function(e){e.MEMFS="MEMFS",e.NODEFS="NODEFS",e.NODERAWFS="NODERAWFS",e.IDBFS="IDBFS",e.WORKERFS="WORKERFS",e.PROXYFS="PROXYFS"})($w||($w={}));const lL=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const{result:s}=r;s instanceof ArrayBuffer?t(new Uint8Array(s)):t(new Uint8Array)},r.onerror=s=>{n(Error(`File could not be read! Code=${s?.target?.error?.code||-1}`))},r.readAsArrayBuffer(e)}),gS=async e=>{let t;if(typeof e=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(e instanceof URL)t=await(await fetch(e)).arrayBuffer();else if(e instanceof File||e instanceof Blob)t=await lL(e);else return new Uint8Array;return new Uint8Array(t)};let dc=null,Fw=!1;async function xS(){if(dc&&Fw)return dc;dc=new iL;const e="https://unpkg.com/@ffmpeg/core@0.12.6/dist/umd";try{return await dc.load({coreURL:`${e}/ffmpeg-core.js`,wasmURL:`${e}/ffmpeg-core.wasm`}),Fw=!0,console.log(" FFmpeg.wasm loaded successfully!"),dc}catch(t){throw console.error(" Failed to load FFmpeg.wasm:",t),new Error("Gagal memuat FFmpeg. Pastikan koneksi internet stabil.")}}async function _0(e,t=5,n){try{const r=await xS();n&&r.on("progress",({progress:m})=>{n(Math.round(m*100))});const l=`input.${e.name.split(".").pop()?.toLowerCase()||"mp4"}`,c="output.mp4";await r.writeFile(l,await gS(e)),await r.exec(["-i",l,"-ss","0","-t",t.toString(),"-c:v","libx264","-preset","ultrafast","-crf","23","-c:a","aac","-b:a","128k","-movflags","+faststart",c]);const u=await r.readFile(c);return await r.deleteFile(l),await r.deleteFile(c),new Blob([u],{type:"video/mp4"})}catch(r){throw console.error("Error trimming video:",r),new Error("Gagal memproses video. Pastikan video valid.")}}async function oL(e){return new Promise((t,n)=>{const r=document.createElement("video");r.preload="metadata",r.onloadedmetadata=()=>{window.URL.revokeObjectURL(r.src),t(Math.round(r.duration))},r.onerror=()=>{n(new Error("Gagal membaca metadata video"))},r.src=URL.createObjectURL(e)})}async function R0(e,t=5){try{return await oL(e)>t}catch{return!1}}async function cL(e,t){try{const n=await xS();t&&n.on("progress",({progress:d})=>{t(Math.round(d*100))});const s=`input.${e.name.split(".").pop()?.toLowerCase()||"mp4"}`,l="output.mp4";await n.writeFile(s,await gS(e)),await n.exec(["-i",s,"-c:v","libx264","-crf","28","-preset","veryfast","-vf","scale=1280:720","-c:a","aac","-b:a","64k","-movflags","+faststart",l]);const c=await n.readFile(l);return await n.deleteFile(s),await n.deleteFile(l),new Blob([c],{type:"video/mp4"})}catch(n){throw console.error("Error compressing video:",n),new Error("Gagal compress video. Pastikan video valid.")}}async function bS(e,t=5,n){if(e.size/1048576<=t)return console.log(` Video size OK: ${or(e.size)} (limit: ${t}MB)`),e;console.log(` Video terlalu besar: ${or(e.size)} (limit: ${t}MB)`),console.log(" Compressing video...");const s=await cL(e,n),l=new File([s],e.name.replace(/\.[^/.]+$/,"")+"-compressed.mp4",{type:"video/mp4"});return console.log(` Video compressed: ${or(e.size)}  ${or(l.size)}`),l}function or(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,r)*100)/100+" "+n[r]}const uL=/(youtube\.com\/(watch\?v=|embed\/|shorts\/)|youtu\.be\/)/i,dL=en({title:re().min(1,"Title wajib diisi"),titleEn:re().optional(),subtitle:re().optional(),subtitleEn:re().optional(),image:re().min(1,"Gambar wajib diupload"),videoUrl:re().trim().optional().refine(e=>!e||uL.test(e),{message:"Gunakan tautan YouTube yang valid"}),videoFile:re().optional(),buttonText:re().optional(),buttonTextEn:re().optional(),buttonUrl:re().refine(e=>!e||e.startsWith("/")||e.startsWith("http://")||e.startsWith("https://"),{message:"URL harus dimulai dengan / untuk path relatif atau http:///https:// untuk URL lengkap"}).optional().or($c("")),order:vn().int().min(0).optional(),isActive:au().optional()});function yS({slider:e}){const t=_t(),{showSuccess:n}=Wn(),[r,s]=S.useState(!1),[l,c]=S.useState(""),[u,d]=S.useState(!1),[m,p]=S.useState(!1),[g,x]=S.useState(e?.image?oe(e.image):null),[b,v]=S.useState(e?.videoFile?oe(e.videoFile):null),[j,N]=S.useState(e?.videoDuration??null),[k,T]=S.useState(!1),[C,A]=S.useState(0),[M,D]=S.useState(!1),[z,L]=S.useState(!1),[K,X]=S.useState(0),{register:R,handleSubmit:_,setValue:U,formState:{errors:P}}=Vr({resolver:Vi(dL),defaultValues:e?{title:e.title,titleEn:e.titleEn||"",subtitle:e.subtitle||"",subtitleEn:e.subtitleEn||"",image:e.image,videoUrl:e.videoUrl||"",videoFile:e.videoFile||"",buttonText:e.buttonText||"",buttonTextEn:e.buttonTextEn||"",buttonUrl:e.buttonUrl||"",order:e.order,isActive:e.isActive}:{videoUrl:"",order:0,isActive:!0}}),G=async he=>{const I=he.target.files?.[0];if(I){if(!I.type.startsWith("image/")){c("File harus berupa gambar");return}if(I.size>5*1024*1024){c("Ukuran file maksimal 5MB");return}d(!0),c("");try{const q=await ae.upload("/admin/upload",I,"sliders"),ee=q.url||q.path||"";if(!ee)throw new Error("Upload gagal: URL tidak ditemukan dalam response");U("image",ee,{shouldValidate:!0}),x(oe(ee)),c("")}catch(q){console.error("Upload error:",q),c(q.message||"Gagal mengupload gambar")}finally{d(!1)}}},B=()=>{U("image",""),x(null)},Y=async he=>{const I=he.target.files?.[0];if(!I)return;if(!I.type.startsWith("video/")){c("File harus berupa video (mp4, webm, ogg, mov)");return}if(I.size>50*1024*1024){c("Ukuran file maksimal 50MB");return}p(!0),c("");let q=I,ee=k,fe=!1;try{const we=I.size/1048576;if(we>5)try{L(!0),X(0),console.log(` Video ${or(I.size)} > 5MB, compressing...`),q=await bS(I,5,$e=>{X($e)}),console.log(` Compressed: ${or(I.size)}  ${or(q.size)}`),L(!1),X(0)}catch($e){if(console.warn(" Compression failed:",$e.message),L(!1),we>50)throw new Error("Video terlalu besar. Maksimal 50MB. Silakan compress video terlebih dahulu.");q=I}if(k&&await R0(I,5))try{D(!0),A(0);const me=or(I.size);console.log(` Video lebih dari 5 detik. Memotong video di browser... (Ukuran asli: ${me})`);const _e=await _0(I,5,ot=>{A(ot)});q=new File([_e],I.name.replace(/\.[^/.]+$/,"")+"-trimmed.mp4",{type:"video/mp4"});const Ke=or(q.size);console.log(` Video berhasil dipotong menjadi 5 detik (Ukuran baru: ${Ke})`),D(!1),A(0),fe=!1}catch(me){console.warn(" Client-side trimming gagal:",me.message),console.log(" Fallback: Upload ke server untuk di-trim..."),D(!1),q=I,fe=!0}const pe=await ae.upload("/admin/upload",q,"sliders",!0,!0,!1,fe,5),te=pe.url||pe.path||"";if(!te)throw new Error("Upload gagal: URL tidak ditemukan dalam response");if(U("videoFile",te,{shouldValidate:!0}),v(oe(te)),console.log(fe?" Video berhasil diupload dan dipotong di server":ee&&q!==I?" Video berhasil diupload (sudah dipotong di browser)":" Video berhasil diupload"),pe.videoDuration&&pe.videoDuration>0)N(pe.videoDuration);else{const $e=document.createElement("video");$e.preload="metadata",$e.src=oe(te),$e.onloadedmetadata=()=>{const me=Math.round($e.duration);me>0&&N(me)}}c("")}catch(we){console.error(" Upload error:",we),c(we.message||"Gagal mengupload video"),D(!1)}finally{p(!1),A(0)}},V=()=>{U("videoFile",""),v(null),N(null)},ve=async he=>{s(!0),c("");try{e?(await ae.put(`/admin/sliders/${e.id}`,{...he,videoUrl:he.videoUrl?.trim()||null,videoFile:he.videoFile?.trim()||null,videoDuration:j||null,buttonUrl:he.buttonUrl||null}),n("Slider berhasil diperbarui!",3e3,!0)):(await ae.post("/admin/sliders/create",{...he,videoUrl:he.videoUrl?.trim()||null,videoFile:he.videoFile?.trim()||null,videoDuration:j||null,buttonUrl:he.buttonUrl||null}),n("Slider berhasil ditambahkan!",3e3,!0)),t("/admin/sliders")}catch(I){c(I.message||"Terjadi kesalahan saat menyimpan")}finally{s(!1)}};return a.jsxs("form",{onSubmit:_(ve),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (ID) *"}),a.jsx("input",{...R("title"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),P.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{...R("titleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),P.titleEn&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.titleEn.message})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (ID)"}),a.jsx("input",{...R("subtitle"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),P.subtitle&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.subtitle.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (EN)"}),a.jsx("input",{...R("subtitleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),P.subtitleEn&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.subtitleEn.message})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image *"}),g?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:g,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:B,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:a.jsx(Ae,{size:20})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:G,className:"hidden",id:"image-upload",disabled:u}),a.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Klik untuk upload gambar"}),a.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"Max 5MB"})]})})]}),P.image&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.image.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video File untuk Autoplay Background (opsional)"}),a.jsxs("div",{className:"mb-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"auto-trim",checked:k,onChange:he=>T(he.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:"auto-trim",className:"flex items-center text-sm text-gray-700 cursor-pointer",children:[a.jsx(Gl,{className:"w-4 h-4 mr-1 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Auto-trim video menjadi 5 detik (Eksperimental)"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 ml-6",children:" Fitur ini butuh koneksi internet stabil. Jika gagal, upload video pendek (5 detik) atau disable fitur ini."})]}),b?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("video",{src:b,controls:!0,className:"w-full max-w-md rounded-lg border border-gray-300"}),j&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Durasi: ",Math.floor(j/60),":",(j%60).toString().padStart(2,"0")," (",j," detik)"]}),a.jsx("button",{type:"button",onClick:V,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Ae,{size:16})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx("input",{type:"file",accept:"video/mp4,video/webm,video/ogg,video/quicktime",onChange:Y,disabled:m||M||z,className:"hidden",id:"video-upload"}),a.jsx("label",{htmlFor:"video-upload",className:"cursor-pointer flex flex-col items-center",children:z?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"w-8 h-8 text-orange-600 animate-spin mb-2"}),a.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Mengompress video..."}),a.jsx("div",{className:"w-full max-w-xs bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${K}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[K,"%"]})]}):M?a.jsxs(a.Fragment,{children:[a.jsx(Gl,{className:"w-8 h-8 text-blue-600 animate-pulse mb-2"}),a.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Memotong video menjadi 5 detik..."}),a.jsx("div",{className:"w-full max-w-xs bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[C,"%"]})]}):m?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"w-8 h-8 text-primary-600 animate-spin mb-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Mengupload video..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Klik untuk upload video (mp4, webm, max 50MB)"})]})})]}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Video ini akan ditampilkan sebagai background autoplay di slider. Jika tidak diisi, akan menggunakan gambar.",a.jsxs("span",{className:"block mt-1 text-orange-600 font-medium",children:[" Auto-compress: Video ",">","5MB akan otomatis di-compress sebelum upload."]}),k?a.jsx("span",{className:"block mt-1 text-blue-600 font-medium",children:" Video yang lebih dari 5 detik akan otomatis dipotong menjadi 5 detik pertama."}):a.jsx("span",{className:"block mt-1 text-green-600 font-medium",children:" Tip: Upload video yang sudah pendek (5 detik) untuk performa terbaik."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video YouTube URL (opsional)"}),a.jsx("input",{...R("videoUrl"),type:"text",placeholder:"https://www.youtube.com/watch?v=xxxx",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Jika diisi, hero slider akan menampilkan tombol play untuk video YouTube ini (untuk modal popup)."}),P.videoUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.videoUrl.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (ID)"}),a.jsx("input",{...R("buttonText"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (EN)"}),a.jsx("input",{...R("buttonTextEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),a.jsx("input",{...R("buttonUrl"),type:"text",placeholder:"/path atau https://example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),P.buttonUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.buttonUrl.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),a.jsx("input",{...R("order",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),P.order&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.order.message})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...R("isActive"),type:"checkbox",id:"isActive",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>t("/admin/sliders"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Batal"}),a.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[r&&a.jsx(Ge,{className:"animate-spin",size:16}),a.jsx("span",{children:r?"Menyimpan...":"Simpan"})]})]})]})}function fL(){return a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Tambah Slider Baru"}),a.jsx(yS,{})]})})})}function mL(){const{id:e}=ys(),t=_t(),[n,r]=S.useState(null),[s,l]=S.useState(!0),[c,u]=S.useState(null);S.useEffect(()=>{e&&d()},[e]);async function d(){try{const m=await ae.get(`/admin/sliders/${e}`);r(m)}catch(m){console.error("Error loading slider:",m),u(m.message||"Gagal memuat data slider")}finally{l(!1)}}return s?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):c||!n?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:c||"Slider tidak ditemukan"}),a.jsx("button",{onClick:()=>t("/admin/sliders"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Kembali ke Daftar Slider"})]})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Edit Slider"}),a.jsx(yS,{slider:n})]})})})}function vS({id:e,apiEndpoint:t,isActive:n,onToggled:r}){const[s,l]=S.useState(!1),c=async()=>{l(!0);try{await ae.put(`${t}/${e}/update`,{isActive:!n}),r?r():window.location.reload()}catch(u){console.error("Toggle status error:",u),alert(u.message||"Gagal mengubah status"),l(!1)}};return a.jsx("button",{onClick:c,disabled:s,className:`${n?"text-green-600 hover:text-green-900":"text-gray-400 hover:text-gray-600"} disabled:opacity-50`,title:n?"Nonaktifkan":"Aktifkan",children:n?a.jsx(uO,{size:18}):a.jsx(oO,{size:18})})}function hL(){const{flashMessage:e}=Wn(),[t,n]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{l()},[]);async function l(){try{const c=await ae.get("/admin/home-sections");n(Array.isArray(c)?c:[])}catch(c){console.error("Error loading home sections:",c)}finally{s(!1)}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.show&&a.jsx(Ja,{message:e.message,type:e.type,onClose:()=>{}}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Home Sections"}),a.jsxs(Me,{to:"/admin/home-sections/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Section"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:'Belum ada section. Klik "Tambah Section" untuk membuat baru.'}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(c=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:c.type})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.title||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.order}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${c.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.isActive?"Aktif":"Nonaktif"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(vS,{id:c.id,apiEndpoint:"/admin/home-sections",isActive:c.isActive,onToggled:l}),a.jsx(Me,{to:`/admin/home-sections/${c.id}`,className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:c.id,apiEndpoint:"/admin/home-sections",confirmMessage:"Yakin ingin menghapus section ini?",onDeleted:l})]})})]},c.id))})]})})]})})})}var wg={exports:{}},Ng={};var Vw;function pL(){if(Vw)return Ng;Vw=1;var e=tu();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,x){var b=x(),v=r({inst:{value:b,getSnapshot:x}}),j=v[0].inst,N=v[1];return l(function(){j.value=b,j.getSnapshot=x,d(j)&&N({inst:j})},[g,b,x]),s(function(){return d(j)&&N({inst:j}),g(function(){d(j)&&N({inst:j})})},[g]),c(b),b}function d(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch{return!0}}function m(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Ng.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Ng}var Hw;function jS(){return Hw||(Hw=1,wg.exports=pL()),wg.exports}var wS=jS();function zn(e){this.content=e}zn.prototype={constructor:zn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),l=r.content.slice();return s==-1?l.push(n||e,t):(l[s+1]=t,n&&(l[s]=n)),new zn(l)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new zn(n)},addToStart:function(e,t){return new zn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new zn(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),l=r.find(e);return s.splice(l==-1?s.length:l,0,t,n),new zn(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=zn.from(e),e.size?new zn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=zn.from(e),e.size?new zn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=zn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};zn.from=function(e){if(e instanceof zn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new zn(t)};function NS(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(r),l=t.child(r);if(s==l){n+=s.nodeSize;continue}if(!s.sameMarkup(l))return n;if(s.isText&&s.text!=l.text){for(let c=0;s.text[c]==l.text[c];c++)n++;return n}if(s.content.size||l.content.size){let c=NS(s.content,l.content,n+1);if(c!=null)return c}n+=s.nodeSize}}function kS(e,t,n,r){for(let s=e.childCount,l=t.childCount;;){if(s==0||l==0)return s==l?null:{a:n,b:r};let c=e.child(--s),u=t.child(--l),d=c.nodeSize;if(c==u){n-=d,r-=d;continue}if(!c.sameMarkup(u))return{a:n,b:r};if(c.isText&&c.text!=u.text){let m=0,p=Math.min(c.text.length,u.text.length);for(;m<p&&c.text[c.text.length-m-1]==u.text[u.text.length-m-1];)m++,n--,r--;return{a:n,b:r}}if(c.content.size||u.content.size){let m=kS(c.content,u.content,n-1,r-1);if(m)return m}n-=d,r-=d}}class xe{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,s=0,l){for(let c=0,u=0;u<n;c++){let d=this.content[c],m=u+d.nodeSize;if(m>t&&r(d,s+u,l||null,c)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,t-p),Math.min(d.content.size,n-p),r,s+p)}u=m}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,s){let l="",c=!0;return this.nodesBetween(t,n,(u,d)=>{let m=u.isText?u.text.slice(Math.max(t,d)-d,n-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&m||u.isTextblock)&&r&&(c?c=!1:l+=r),l+=m},0),l}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,s=this.content.slice(),l=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),l=1);l<t.content.length;l++)s.push(t.content[l]);return new xe(s,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],s=0;if(n>t)for(let l=0,c=0;c<n;l++){let u=this.content[l],d=c+u.nodeSize;d>t&&((c<t||d>n)&&(u.isText?u=u.cut(Math.max(0,t-c),Math.min(u.text.length,n-c)):u=u.cut(Math.max(0,t-c-1),Math.min(u.content.size,n-c-1))),r.push(u),s+=u.nodeSize),c=d}return new xe(r,s)}cutByIndex(t,n){return t==n?xe.empty:t==0&&n==this.content.length?this:new xe(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let s=this.content.slice(),l=this.size+n.nodeSize-r.nodeSize;return s[t]=n,new xe(s,l)}addToStart(t){return new xe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new xe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];t(s,r,n),r+=s.nodeSize}}findDiffStart(t,n=0){return NS(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return kS(this,t,n,r)}findIndex(t){if(t==0)return Ud(0,t);if(t==this.size)return Ud(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),l=r+s.nodeSize;if(l>=t)return l==t?Ud(n+1,l):Ud(n,r);r=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return xe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new xe(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return xe.empty;let n,r=0;for(let s=0;s<t.length;s++){let l=t[s];r+=l.nodeSize,s&&l.isText&&t[s-1].sameMarkup(l)?(n||(n=t.slice(0,s)),n[n.length-1]=l.withText(n[n.length-1].text+l.text)):n&&n.push(l)}return new xe(n||t,r)}static from(t){if(!t)return xe.empty;if(t instanceof xe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new xe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}xe.empty=new xe([],0);const kg={index:0,offset:0};function Ud(e,t){return kg.index=e,kg.offset=t,kg}function jf(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!jf(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!jf(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let At=class vx{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let s=0;s<t.length;s++){let l=t[s];if(this.eq(l))return t;if(this.type.excludes(l.type))n||(n=t.slice(0,s));else{if(l.type.excludes(this.type))return t;!r&&l.type.rank>this.type.rank&&(n||(n=t.slice(0,s)),n.push(this),r=!0),n&&n.push(l)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&jf(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return vx.none;if(t instanceof vx)return[t];let n=t.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};At.none=[];class wf extends Error{}class ke{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=ES(this.content,t+this.openStart,n);return r&&new ke(r,this.openStart,this.openEnd)}removeBetween(t,n){return new ke(SS(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ke.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ke(xe.fromJSON(t,n.content),r,s)}static maxOpen(t,n=!0){let r=0,s=0;for(let l=t.firstChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=t.lastChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.lastChild)s++;return new ke(t,r,s)}}ke.empty=new ke(xe.empty,0,0);function SS(e,t,n){let{index:r,offset:s}=e.findIndex(t),l=e.maybeChild(r),{index:c,offset:u}=e.findIndex(n);if(s==t||l.isText){if(u!=n&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(r,l.copy(SS(l.content,t-s-1,n-s-1)))}function ES(e,t,n,r){let{index:s,offset:l}=e.findIndex(t),c=e.maybeChild(s);if(l==t||c.isText)return r&&!r.canReplace(s,s,n)?null:e.cut(0,t).append(n).append(e.cut(t));let u=ES(c.content,t-l-1,n,c);return u&&e.replaceChild(s,c.copy(u))}function gL(e,t,n){if(n.openStart>e.depth)throw new wf("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new wf("Inconsistent open depths");return CS(e,t,n,0)}function CS(e,t,n,r){let s=e.index(r),l=e.node(r);if(s==t.index(r)&&r<e.depth-n.openStart){let c=CS(e,t,n,r+1);return l.copy(l.content.replaceChild(s,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let c=e.parent,u=c.content;return Ai(c,u.cut(0,e.parentOffset).append(n.content).append(u.cut(t.parentOffset)))}else{let{start:c,end:u}=xL(n,e);return Ai(l,AS(e,c,u,t,r))}else return Ai(l,Nf(e,t,r))}function TS(e,t){if(!t.type.compatibleContent(e.type))throw new wf("Cannot join "+t.type.name+" onto "+e.type.name)}function jx(e,t,n){let r=e.node(n);return TS(r,t.node(n)),r}function Ti(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Sc(e,t,n,r){let s=(t||e).node(n),l=0,c=t?t.index(n):s.childCount;e&&(l=e.index(n),e.depth>n?l++:e.textOffset&&(Ti(e.nodeAfter,r),l++));for(let u=l;u<c;u++)Ti(s.child(u),r);t&&t.depth==n&&t.textOffset&&Ti(t.nodeBefore,r)}function Ai(e,t){return e.type.checkContent(t),e.copy(t)}function AS(e,t,n,r,s){let l=e.depth>s&&jx(e,t,s+1),c=r.depth>s&&jx(n,r,s+1),u=[];return Sc(null,e,s,u),l&&c&&t.index(s)==n.index(s)?(TS(l,c),Ti(Ai(l,AS(e,t,n,r,s+1)),u)):(l&&Ti(Ai(l,Nf(e,t,s+1)),u),Sc(t,n,s,u),c&&Ti(Ai(c,Nf(n,r,s+1)),u)),Sc(r,null,s,u),new xe(u)}function Nf(e,t,n){let r=[];if(Sc(null,e,n,r),e.depth>n){let s=jx(e,t,n+1);Ti(Ai(s,Nf(e,t,n+1)),r)}return Sc(t,null,n,r),new xe(r)}function xL(e,t){let n=t.depth-e.openStart,s=t.node(n).copy(e.content);for(let l=n-1;l>=0;l--)s=t.node(l).copy(xe.from(s));return{start:s.resolveNoCache(e.openStart+n),end:s.resolveNoCache(s.content.size-e.openEnd-n)}}class Fc{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=t.child(n);return r?t.child(n).cut(r):s}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let l=0;l<t;l++)s+=r.child(l).nodeSize;return s}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return At.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),s=t.maybeChild(n);if(!r){let u=r;r=s,s=u}let l=r.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!s||!l[c].isInSet(s.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=t.parent.maybeChild(t.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!s||!r[l].isInSet(s.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new kf(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,l=n;for(let c=t;;){let{index:u,offset:d}=c.content.findIndex(l),m=l-d;if(r.push(c,u,s+d),!m||(c=c.child(u),c.isText))break;l=m-1,s+=d+1}return new Fc(n,r,l)}static resolveCached(t,n){let r=qw.get(t);if(r)for(let l=0;l<r.elts.length;l++){let c=r.elts[l];if(c.pos==n)return c}else qw.set(t,r=new bL);let s=r.elts[r.i]=Fc.resolve(t,n);return r.i=(r.i+1)%yL,s}}class bL{constructor(){this.elts=[],this.i=0}}const yL=12,qw=new WeakMap;class kf{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const vL=Object.create(null);let $a=class wx{constructor(t,n,r,s=At.none){this.type=t,this.attrs=n,this.marks=s,this.content=r||xe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,s=0){this.content.nodesBetween(t,n,r,s,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,s){return this.content.textBetween(t,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&jf(this.attrs,n||t.defaultAttrs||vL)&&At.sameSet(this.marks,r||At.none)}copy(t=null){return t==this.content?this:new wx(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new wx(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return ke.empty;let s=this.resolve(t),l=this.resolve(n),c=r?0:s.sharedDepth(n),u=s.start(c),m=s.node(c).content.cut(s.pos-u,l.pos-u);return new ke(m,s.depth-c,l.depth-c)}replace(t,n,r){return gL(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(s==t||n.isText)return n;t-=s+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(t){return Fc.resolveCached(this,t)}resolveNoCache(t){return Fc.resolve(this,t)}rangeHasMark(t,n,r){let s=!1;return n>t&&this.nodesBetween(t,n,l=>(r.isInSet(l.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),MS(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=xe.empty,s=0,l=r.childCount){let c=this.contentMatchAt(t).matchFragment(r,s,l),u=c&&c.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=s;d<l;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(t,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let l=this.contentMatchAt(t).matchType(r),c=l&&l.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=At.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!At.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let s=xe.fromJSON(t,n.content),l=t.nodeType(n.type).create(n.attrs,s,r);return l.type.checkAttrs(l.attrs),l}};$a.prototype.text=void 0;class Sf extends $a{constructor(t,n,r,s){if(super(t,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):MS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Sf(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Sf(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function MS(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class _i{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new jL(t,n);if(r.next==null)return _i.empty;let s=OS(r);r.next&&r.err("Unexpected trailing text");let l=TL(CL(s));return AL(l,r),l}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let s=this;for(let l=n;s&&l<r;l++)s=s.matchType(t.child(l).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let s=[this];function l(c,u){let d=c.matchFragment(t,r);if(d&&(!n||d.validEnd))return xe.from(u.map(m=>m.createAndFill()));for(let m=0;m<c.next.length;m++){let{type:p,next:g}=c.next[m];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let x=l(g,u.concat(p));if(x)return x}}return null}return l(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),l=s.match;if(l.matchType(t)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:u,next:d}=l.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let s=0;s<r.next.length;s++)t.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),t.map((r,s)=>{let l=s+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)l+=(c?", ":"")+r.next[c].type.name+"->"+t.indexOf(r.next[c].next);return l}).join(`
`)}}_i.empty=new _i(!0);class jL{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function OS(e){let t=[];do t.push(wL(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function wL(e){let t=[];do t.push(NL(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function NL(e){let t=EL(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=kL(e,t);else break;return t}function Gw(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function kL(e,t){let n=Gw(e),r=n;return e.eat(",")&&(e.next!="}"?r=Gw(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function SL(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let s=[];for(let l in n){let c=n[l];c.isInGroup(t)&&s.push(c)}return s.length==0&&e.err("No node type or group '"+t+"' found"),s}function EL(e){if(e.eat("(")){let t=OS(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=SL(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function CL(e){let t=[[]];return s(l(e,0),n()),t;function n(){return t.push([])-1}function r(c,u,d){let m={term:d,to:u};return t[c].push(m),m}function s(c,u){c.forEach(d=>d.to=u)}function l(c,u){if(c.type=="choice")return c.exprs.reduce((d,m)=>d.concat(l(m,u)),[]);if(c.type=="seq")for(let d=0;;d++){let m=l(c.exprs[d],u);if(d==c.exprs.length-1)return m;s(m,u=n())}else if(c.type=="star"){let d=n();return r(u,d),s(l(c.expr,d),d),[r(d)]}else if(c.type=="plus"){let d=n();return s(l(c.expr,u),d),s(l(c.expr,d),d),[r(d)]}else{if(c.type=="opt")return[r(u)].concat(l(c.expr,u));if(c.type=="range"){let d=u;for(let m=0;m<c.min;m++){let p=n();s(l(c.expr,d),p),d=p}if(c.max==-1)s(l(c.expr,d),d);else for(let m=c.min;m<c.max;m++){let p=n();r(d,p),s(l(c.expr,d),p),d=p}return[r(d)]}else{if(c.type=="name")return[r(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function zS(e,t){return t-e}function Kw(e,t){let n=[];return r(t),n.sort(zS);function r(s){let l=e[s];if(l.length==1&&!l[0].term)return r(l[0].to);n.push(s);for(let c=0;c<l.length;c++){let{term:u,to:d}=l[c];!u&&n.indexOf(d)==-1&&r(d)}}}function TL(e){let t=Object.create(null);return n(Kw(e,0));function n(r){let s=[];r.forEach(c=>{e[c].forEach(({term:u,to:d})=>{if(!u)return;let m;for(let p=0;p<s.length;p++)s[p][0]==u&&(m=s[p][1]);Kw(e,d).forEach(p=>{m||s.push([u,m=[]]),m.indexOf(p)==-1&&m.push(p)})})});let l=t[r.join(",")]=new _i(r.indexOf(e.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(zS);l.next.push({type:s[c][0],next:t[u.join(",")]||n(u)})}return l}}function AL(e,t){for(let n=0,r=[e];n<r.length;n++){let s=r[n],l=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:d,next:m}=s.next[u];c.push(d.name),l&&!(d.isText||d.hasRequiredAttrs())&&(l=!1),r.indexOf(m)==-1&&r.push(m)}l&&t.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function DS(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function IS(e,t){let n=Object.create(null);for(let r in e){let s=t&&t[r];if(s===void 0){let l=e[r];if(l.hasDefault)s=l.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function _S(e,t,n,r){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let l=e[s];l.validate&&l.validate(t[s])}}function RS(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new OL(e,r,t[r]);return n}let Zw=class LS{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=RS(t,r.attrs),this.defaultAttrs=DS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==_i.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:IS(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $a(this,this.computeAttrs(t),xe.from(n),At.setFrom(r))}createChecked(t=null,n,r){return n=xe.from(n),this.checkContent(n),new $a(this,this.computeAttrs(t),n,At.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=xe.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let s=this.contentMatch.matchFragment(n),l=s&&s.fillBefore(xe.empty,!0);return l?new $a(this,t,n.append(l),At.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){_S(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:At.none:t}static compile(t,n){let r=Object.create(null);t.forEach((l,c)=>r[l]=new LS(l,n,c));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ML(e,t,n){let r=n.split("|");return s=>{let l=s===null?"null":typeof s;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${l}`)}}class OL{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ML(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Am{constructor(t,n,r,s){this.name=t,this.rank=n,this.schema=r,this.spec=s,this.attrs=RS(t,s.attrs),this.excluded=null;let l=DS(this.attrs);this.instance=l?new At(this,l):null}create(t=null){return!t&&this.instance?this.instance:new At(this,IS(this.attrs,t))}static compile(t,n){let r=Object.create(null),s=0;return t.forEach((l,c)=>r[l]=new Am(l,s++,n,c)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){_S(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class US{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in t)n[s]=t[s];n.nodes=zn.from(t.nodes),n.marks=zn.from(t.marks||{}),this.nodes=Zw.compile(this.spec.nodes,this),this.marks=Am.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let l=this.nodes[s],c=l.spec.content||"",u=l.spec.marks;if(l.contentMatch=r[c]||(r[c]=_i.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=u=="_"?null:u?Jw(this,u.split(" ")):u==""||!l.inlineContent?[]:null}for(let s in this.marks){let l=this.marks[s],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:Jw(this,c.split(" "))}this.nodeFromJSON=s=>$a.fromJSON(this,s),this.markFromJSON=s=>At.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,s){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Zw){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,s)}text(t,n){let r=this.nodes.text;return new Sf(r,r.defaultAttrs,t,At.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function Jw(e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],l=e.marks[s],c=l;if(l)n.push(l);else for(let u in e.marks){let d=e.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function zL(e){return e.tag!=null}function DL(e){return e.style!=null}class Fa{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(zL(s))this.tags.push(s);else if(DL(s)){let l=/[^=]*/.exec(s.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let l=t.nodes[s.node];return l.contentMatch.matchType(l)})}parse(t,n={}){let r=new Yw(this,n,!1);return r.addAll(t,At.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new Yw(this,n,!0);return r.addAll(t,At.none,n.from,n.to),ke.maxOpen(r.finish())}matchTag(t,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let l=this.tags[s];if(RL(t,l.tag)&&(l.namespace===void 0||t.namespaceURI==l.namespace)&&(!l.context||n.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(t);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(t,n,r,s){for(let l=s?this.styles.indexOf(s)+1:0;l<this.styles.length;l++){let c=this.styles[l],u=c.style;if(!(u.indexOf(t)!=0||c.context&&!r.matchesContext(c.context)||u.length>t.length&&(u.charCodeAt(t.length)!=61||u.slice(t.length+1)!=n))){if(c.getAttrs){let d=c.getAttrs(n);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(t){let n=[];function r(s){let l=s.priority==null?50:s.priority,c=0;for(;c<n.length;c++){let u=n[c];if((u.priority==null?50:u.priority)<l)break}n.splice(c,0,s)}for(let s in t.marks){let l=t.marks[s].spec.parseDOM;l&&l.forEach(c=>{r(c=Qw(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in t.nodes){let l=t.nodes[s].spec.parseDOM;l&&l.forEach(c=>{r(c=Qw(c)),c.node||c.ignore||c.mark||(c.node=s)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Fa(t,Fa.schemaRules(t)))}}const PS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},IL={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},BS={ol:!0,ul:!0},Vc=1,Nx=2,Ec=4;function Ww(e,t,n){return t!=null?(t?Vc:0)|(t==="full"?Nx:0):e&&e.whitespace=="pre"?Vc|Nx:n&~Ec}class Pd{constructor(t,n,r,s,l,c){this.type=t,this.attrs=n,this.marks=r,this.solid=s,this.options=c,this.content=[],this.activeMarks=At.none,this.match=l||(c&Ec?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(xe.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(t.type))?(this.match=r,s):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Vc)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-s[0].length))}}let n=xe.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(xe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!PS.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class Yw{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,l,c=Ww(null,n.preserveWhitespace,0)|(r?Ec:0);s?l=new Pd(s.type,s.attrs,At.none,!0,n.topMatch||s.type.contentMatch,c):r?l=new Pd(null,null,At.none,!0,null,c):l=new Pd(t.schema.topNodeType,null,At.none,!0,null,c),this.nodes=[l],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,s=this.top,l=s.options&Nx?"full":this.localPreserveWS||(s.options&Vc)>0,{schema:c}=this.parser;if(l==="full"||s.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(l)if(l==="full")r=r.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(c.linebreakReplacement.create(),n,!0),u[d]&&this.insertNode(c.text(u[d]),n,!/\S/.test(u[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],d=t.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(c.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let s=this.localPreserveWS,l=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let c=t.nodeName.toLowerCase(),u;BS.hasOwnProperty(c)&&this.parser.normalizeLists&&_L(t);let d=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(u=this.parser.matchTag(t,this,r));e:if(d?d.ignore:IL.hasOwnProperty(c))this.findInside(t),this.ignoreFallback(t,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(t=d.skip);let m,p=this.needsBlock;if(PS.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),m=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let g=d&&d.skip?n:this.readStyles(t,n);g&&this.addAll(t,g),m&&this.sync(l),this.needsBlock=p}else{let m=this.readStyles(t,n);m&&this.addElementByRule(t,d,m,d.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let l=this.parser.matchedStyles[s],c=r.getPropertyValue(l);if(c)for(let u=void 0;;){let d=this.parser.matchStyle(l,c,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(m=>!d.clearMark(m)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(t,n,r,s){let l,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let d=this.enter(c,n.attrs||null,r,n.preserveWhitespace);d&&(l=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(t);else if(s)this.addElement(t,r,s);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=t;typeof n.contentElement=="string"?d=t.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(t):n.contentElement&&(d=n.contentElement),this.findAround(t,d,!0),this.addAll(d,r),this.findAround(t,d,!1)}l&&this.sync(u)&&this.open--}addAll(t,n,r,s){let l=r||0;for(let c=r?t.childNodes[r]:t.firstChild,u=s==null?null:t.childNodes[s];c!=u;c=c.nextSibling,++l)this.findAtPoint(t,l),this.addDOM(c,n);this.findAtPoint(t,l)}findPlace(t,n,r){let s,l;for(let c=this.open,u=0;c>=0;c--){let d=this.nodes[c],m=d.findWrapping(t);if(m&&(!s||s.length>m.length+u)&&(s=m,l=d,!m.length))break;if(d.solid){if(r)break;u+=2}}if(!s)return null;this.sync(l);for(let c=0;c<s.length;c++)n=this.enterInner(s[c],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(n=this.enterInner(l,null,n))}let s=this.findPlace(t,n,r);if(s){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(t.type));let c=At.none;for(let u of s.concat(t.marks))(l.type?l.type.allowsMarkType(u.type):Xw(u.type,t.type))&&(c=u.addToSet(c));return l.content.push(t.mark(c)),!0}return!1}enter(t,n,r,s){let l=this.findPlace(t.create(n),r,!1);return l&&(l=this.enterInner(t,n,r,!0,s)),l}enterInner(t,n,r,s=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(t);let u=Ww(t,l,c.options);c.options&Ec&&c.content.length==0&&(u|=Ec);let d=At.none;return r=r.filter(m=>(c.type?c.type.allowsMarkType(m.type):Xw(m.type,t))?(d=m.addToSet(d),!1):!0),this.nodes.push(new Pd(t,n,d,s,null,u)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Vc)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)t+=r[s].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(s?0:1),c=(u,d)=>{for(;u>=0;u--){let m=n[u];if(m==""){if(u==n.length-1||u==0)continue;for(;d>=l;d--)if(c(u-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=l?r.node(d-l).type:null;if(!p||p.name!=m&&!p.isInGroup(m))return!1;d--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function _L(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&BS.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function RL(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Qw(e){let t={};for(let n in e)t[n]=e[n];return t}function Xw(e,t){let n=t.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(e))continue;let l=[],c=u=>{l.push(u);for(let d=0;d<u.edgeCount;d++){let{type:m,next:p}=u.edge(d);if(m==t||l.indexOf(p)<0&&c(p))return!0}};if(c(s.contentMatch))return!0}}class Hi{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Sg(n).createDocumentFragment());let s=r,l=[];return t.forEach(c=>{if(l.length||c.marks.length){let u=0,d=0;for(;u<l.length&&d<c.marks.length;){let m=c.marks[d];if(!this.marks[m.type.name]){d++;continue}if(!m.eq(l[u][0])||m.type.spec.spanning===!1)break;u++,d++}for(;u<l.length;)s=l.pop()[1];for(;d<c.marks.length;){let m=c.marks[d++],p=this.serializeMark(m,c.isInline,n);p&&(l.push([m,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(c,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:s}=sf(Sg(n),this.nodes[t.type.name](t),null,t.attrs);if(s){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,s)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let s=t.marks.length-1;s>=0;s--){let l=this.serializeMark(t.marks[s],t.isInline,n);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(t,n,r={}){let s=this.marks[t.type.name];return s&&sf(Sg(r),s(t,n),null,t.attrs)}static renderSpec(t,n,r=null,s){return sf(t,n,r,s)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Hi(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=eN(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return eN(t.marks)}}function eN(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Sg(e){return e.document||window.document}const tN=new WeakMap;function LL(e){let t=tN.get(e);return t===void 0&&tN.set(e,t=UL(e)),t}function UL(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(e),t}function sf(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let s=t[0],l;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=LL(r))&&l.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(n=s.slice(0,c),s=s.slice(c+1));let u,d=n?e.createElementNS(n,s):e.createElement(s),m=t[1],p=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){p=2;for(let g in m)if(m[g]!=null){let x=g.indexOf(" ");x>0?d.setAttributeNS(g.slice(0,x),g.slice(x+1),m[g]):g=="style"&&d.style?d.style.cssText=m[g]:d.setAttribute(g,m[g])}}for(let g=p;g<t.length;g++){let x=t[g];if(x===0){if(g<t.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:b,contentDOM:v}=sf(e,x,n,r);if(d.appendChild(b),v){if(u)throw new RangeError("Multiple content holes");u=v}}}return{dom:d,contentDOM:u}}const $S=65535,FS=Math.pow(2,16);function PL(e,t){return e+t*FS}function nN(e){return e&$S}function BL(e){return(e-(e&$S))/FS}const VS=1,HS=2,af=4,qS=8;class kx{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&qS)>0}get deletedBefore(){return(this.delInfo&(VS|af))>0}get deletedAfter(){return(this.delInfo&(HS|af))>0}get deletedAcross(){return(this.delInfo&af)>0}}class wr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&wr.empty)return wr.empty}recover(t){let n=0,r=nN(t);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+BL(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let s=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>t)break;let m=this.ranges[u+l],p=this.ranges[u+c],g=d+m;if(t<=g){let x=m?t==d?-1:t==g?1:n:n,b=d+s+(x<0?0:p);if(r)return b;let v=t==(n<0?d:g)?null:PL(u/3,t-d),j=t==d?HS:t==g?VS:af;return(n<0?t!=d:t!=g)&&(j|=qS),new kx(b,j,v)}s+=p-m}return r?t+s:new kx(t+s,0,null)}touches(t,n){let r=0,s=nN(n),l=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>t)break;let m=this.ranges[u+l],p=d+m;if(t<=p&&u==s*3)return!0;r+=this.ranges[u+c]-m}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,l=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?l:0),d=c+(this.inverted?0:l),m=this.ranges[s+n],p=this.ranges[s+r];t(u,u+m,d,d+p),l+=p-m}}invert(){return new wr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?wr.empty:new wr(t<0?[0,-t,0]:[0,0,t])}}wr.empty=new wr([]);class Hc{constructor(t,n,r=0,s=t?t.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Hc(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let s=t.getMirror(n);this.appendMap(t._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let s=t.getMirror(n);this.appendMap(t._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let t=new Hc;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let s=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],u=c.mapResult(t,n);if(u.recover!=null){let d=this.getMirror(l);if(d!=null&&d>l&&d<this.to){l=d,t=this._maps[d].recover(u.recover);continue}}s|=u.delInfo,t=u.pos}return r?t:new kx(t,s,null)}}const Eg=Object.create(null);class Fn{getMap(){return wr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Eg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Eg)throw new RangeError("Duplicate use of step JSON ID "+t);return Eg[t]=n,n.prototype.jsonID=t,n}}class un{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new un(t,null)}static fail(t){return new un(null,t)}static fromReplace(t,n,r,s){try{return un.ok(t.replace(n,r,s))}catch(l){if(l instanceof wf)return un.fail(l.message);throw l}}}function L0(e,t,n){let r=[];for(let s=0;s<e.childCount;s++){let l=e.child(s);l.content.size&&(l=l.copy(L0(l.content,t,l))),l.isInline&&(l=t(l,n,s)),r.push(l)}return xe.fromArray(r)}class Ua extends Fn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),s=r.node(r.sharedDepth(this.to)),l=new ke(L0(n.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),n.openStart,n.openEnd);return un.fromReplace(t,this.from,this.to,l)}invert(){return new Yr(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ua(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ua&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ua(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ua(n.from,n.to,t.markFromJSON(n.mark))}}Fn.jsonID("addMark",Ua);class Yr extends Fn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new ke(L0(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),t),n.openStart,n.openEnd);return un.fromReplace(t,this.from,this.to,r)}invert(){return new Ua(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Yr(n.pos,r.pos,this.mark)}merge(t){return t instanceof Yr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Yr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Yr(n.from,n.to,t.markFromJSON(n.mark))}}Fn.jsonID("removeMark",Yr);class Pa extends Fn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return un.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return un.fromReplace(t,this.pos,this.pos+1,new ke(xe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Pa(this.pos,n.marks[s]);return new Pa(this.pos,this.mark)}}return new Ri(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Pa(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pa(n.pos,t.markFromJSON(n.mark))}}Fn.jsonID("addNodeMark",Pa);class Ri extends Fn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return un.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return un.fromReplace(t,this.pos,this.pos+1,new ke(xe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Pa(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ri(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ri(n.pos,t.markFromJSON(n.mark))}}Fn.jsonID("removeNodeMark",Ri);class jn extends Fn{constructor(t,n,r,s=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=s}apply(t){return this.structure&&Sx(t,this.from,this.to)?un.fail("Structure replace would overwrite content"):un.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new wr([this.from,this.to-this.from,this.slice.size])}invert(t){return new jn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new jn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof jn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ke.empty:new ke(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new jn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ke.empty:new ke(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new jn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new jn(n.from,n.to,ke.fromJSON(t,n.slice),!!n.structure)}}Fn.jsonID("replace",jn);class wn extends Fn{constructor(t,n,r,s,l,c,u=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=l,this.insert=c,this.structure=u}apply(t){if(this.structure&&(Sx(t,this.from,this.gapFrom)||Sx(t,this.gapTo,this.to)))return un.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return un.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?un.fromReplace(t,this.from,this.to,r):un.fail("Content does not fit in gap")}getMap(){return new wr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new wn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||l>r.pos?null:new wn(n.pos,r.pos,s,l,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new wn(n.from,n.to,n.gapFrom,n.gapTo,ke.fromJSON(t,n.slice),n.insert,!!n.structure)}}Fn.jsonID("replaceAround",wn);function Sx(e,t,n){let r=e.resolve(t),s=n-t,l=r.depth;for(;s>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,s--;if(s>0){let c=r.node(l).maybeChild(r.indexAfter(l));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function $L(e,t,n,r){let s=[],l=[],c,u;e.doc.nodesBetween(t,n,(d,m,p)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let x=Math.max(m,t),b=Math.min(m+d.nodeSize,n),v=r.addToSet(g);for(let j=0;j<g.length;j++)g[j].isInSet(v)||(c&&c.to==x&&c.mark.eq(g[j])?c.to=b:s.push(c=new Yr(x,b,g[j])));u&&u.to==x?u.to=b:l.push(u=new Ua(x,b,r))}}),s.forEach(d=>e.step(d)),l.forEach(d=>e.step(d))}function FL(e,t,n,r){let s=[],l=0;e.doc.nodesBetween(t,n,(c,u)=>{if(!c.isInline)return;l++;let d=null;if(r instanceof Am){let m=c.marks,p;for(;p=r.isInSet(m);)(d||(d=[])).push(p),m=p.removeFromSet(m)}else r?r.isInSet(c.marks)&&(d=[r]):d=c.marks;if(d&&d.length){let m=Math.min(u+c.nodeSize,n);for(let p=0;p<d.length;p++){let g=d[p],x;for(let b=0;b<s.length;b++){let v=s[b];v.step==l-1&&g.eq(s[b].style)&&(x=v)}x?(x.to=m,x.step=l):s.push({style:g,from:Math.max(u,t),to:m,step:l})}}}),s.forEach(c=>e.step(new Yr(c.from,c.to,c.style)))}function U0(e,t,n,r=n.contentMatch,s=!0){let l=e.doc.nodeAt(t),c=[],u=t+1;for(let d=0;d<l.childCount;d++){let m=l.child(d),p=u+m.nodeSize,g=r.matchType(m.type);if(!g)c.push(new jn(u,p,ke.empty));else{r=g;for(let x=0;x<m.marks.length;x++)n.allowsMarkType(m.marks[x].type)||e.step(new Yr(u,p,m.marks[x]));if(s&&m.isText&&n.whitespace!="pre"){let x,b=/\r?\n|\r/g,v;for(;x=b.exec(m.text);)v||(v=new ke(xe.from(n.schema.text(" ",n.allowedMarks(m.marks))),0,0)),c.push(new jn(u+x.index,u+x.index+x[0].length,v))}}u=p}if(!r.validEnd){let d=r.fillBefore(xe.empty,!0);e.replace(u,u,new ke(d,0,0))}for(let d=c.length-1;d>=0;d--)e.step(c[d])}function VL(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function co(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,s=0,l=0;;--r){let c=e.$from.node(r),u=e.$from.index(r)+s,d=e.$to.indexAfter(r)-l;if(r<e.depth&&c.canReplace(u,d,n))return r;if(r==0||c.type.spec.isolating||!VL(c,u,d))break;u&&(s=1),d<c.childCount&&(l=1)}return null}function HL(e,t,n){let{$from:r,$to:s,depth:l}=t,c=r.before(l+1),u=s.after(l+1),d=c,m=u,p=xe.empty,g=0;for(let v=l,j=!1;v>n;v--)j||r.index(v)>0?(j=!0,p=xe.from(r.node(v).copy(p)),g++):d--;let x=xe.empty,b=0;for(let v=l,j=!1;v>n;v--)j||s.after(v+1)<s.end(v)?(j=!0,x=xe.from(s.node(v).copy(x)),b++):m++;e.step(new wn(d,m,c,u,new ke(p.append(x),g,b),p.size-g,!0))}function P0(e,t,n=null,r=e){let s=qL(e,t),l=s&&GL(r,t);return l?s.map(rN).concat({type:t,attrs:n}).concat(l.map(rN)):null}function rN(e){return{type:e,attrs:null}}function qL(e,t){let{parent:n,startIndex:r,endIndex:s}=e,l=n.contentMatchAt(r).findWrapping(t);if(!l)return null;let c=l.length?l[0]:t;return n.canReplaceWith(r,s,c)?l:null}function GL(e,t){let{parent:n,startIndex:r,endIndex:s}=e,l=n.child(r),c=t.contentMatch.findWrapping(l.type);if(!c)return null;let d=(c.length?c[c.length-1]:t).contentMatch;for(let m=r;d&&m<s;m++)d=d.matchType(n.child(m).type);return!d||!d.validEnd?null:c}function KL(e,t,n){let r=xe.empty;for(let c=n.length-1;c>=0;c--){if(r.size){let u=n[c].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=xe.from(n[c].type.create(n[c].attrs,r))}let s=t.start,l=t.end;e.step(new wn(s,l,s,l,new ke(r,0,0),n.length,!0))}function ZL(e,t,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=e.steps.length;e.doc.nodesBetween(t,n,(c,u)=>{let d=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(r,d)&&JL(e.doc,e.mapping.slice(l).map(u),r)){let m=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!v?m=!1:!b&&v&&(m=!0)}m===!1&&KS(e,c,u,l),U0(e,e.mapping.slice(l).map(u,1),r,void 0,m===null);let p=e.mapping.slice(l),g=p.map(u,1),x=p.map(u+c.nodeSize,1);return e.step(new wn(g,x,g+1,x-1,new ke(xe.from(r.create(d,null,c.marks)),0,0),1,!0)),m===!0&&GS(e,c,u,l),!1}})}function GS(e,t,n,r){t.forEach((s,l)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let d=e.mapping.slice(r).map(n+1+l+c.index);e.replaceWith(d,d+1,t.type.schema.linebreakReplacement.create())}}})}function KS(e,t,n,r){t.forEach((s,l)=>{if(s.type==s.type.schema.linebreakReplacement){let c=e.mapping.slice(r).map(n+1+l);e.replaceWith(c,c+1,t.type.schema.text(`
`))}})}function JL(e,t,n){let r=e.resolve(t),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function WL(e,t,n,r,s){let l=e.doc.nodeAt(t);if(!l)throw new RangeError("No node at given position");n||(n=l.type);let c=n.create(r,null,s||l.marks);if(l.isLeaf)return e.replaceWith(t,t+l.nodeSize,c);if(!n.validContent(l.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new wn(t,t+l.nodeSize,t+1,t+l.nodeSize-1,new ke(xe.from(c),0,0),1,!0))}function Ws(e,t,n=1,r){let s=e.resolve(t),l=s.depth-n,c=r&&r[r.length-1]||s.parent;if(l<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let m=s.depth-1,p=n-2;m>l;m--,p--){let g=s.node(m),x=s.index(m);if(g.type.spec.isolating)return!1;let b=g.content.cutByIndex(x,g.childCount),v=r&&r[p+1];v&&(b=b.replaceChild(0,v.type.create(v.attrs)));let j=r&&r[p]||g;if(!g.canReplace(x+1,g.childCount)||!j.type.validContent(b))return!1}let u=s.indexAfter(l),d=r&&r[0];return s.node(l).canReplaceWith(u,u,d?d.type:s.node(l+1).type)}function YL(e,t,n=1,r){let s=e.doc.resolve(t),l=xe.empty,c=xe.empty;for(let u=s.depth,d=s.depth-n,m=n-1;u>d;u--,m--){l=xe.from(s.node(u).copy(l));let p=r&&r[m];c=xe.from(p?p.type.create(p.attrs,c):s.node(u).copy(c))}e.step(new jn(t,t,new ke(l.append(c),n,n),!0))}function Wa(e,t){let n=e.resolve(t),r=n.index();return ZS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function QL(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let s=0;s<t.childCount;s++){let l=t.child(s),c=l.type==r?e.type.schema.nodes.text:l.type;if(n=n.matchType(c),!n||!e.type.allowsMarks(l.marks))return!1}return n.validEnd}function ZS(e,t){return!!(e&&t&&!e.isLeaf&&QL(e,t))}function Mm(e,t,n=-1){let r=e.resolve(t);for(let s=r.depth;;s--){let l,c,u=r.index(s);if(s==r.depth?(l=r.nodeBefore,c=r.nodeAfter):n>0?(l=r.node(s+1),u++,c=r.node(s).maybeChild(u)):(l=r.node(s).maybeChild(u-1),c=r.node(s+1)),l&&!l.isTextblock&&ZS(l,c)&&r.node(s).canReplace(u,u+1))return t;if(s==0)break;t=n<0?r.before(s):r.after(s)}}function XL(e,t,n){let r=null,{linebreakReplacement:s}=e.doc.type.schema,l=e.doc.resolve(t-n),c=l.node().type;if(s&&c.inlineContent){let p=c.whitespace=="pre",g=!!c.contentMatch.matchType(s);p&&!g?r=!1:!p&&g&&(r=!0)}let u=e.steps.length;if(r===!1){let p=e.doc.resolve(t+n);KS(e,p.node(),p.before(),u)}c.inlineContent&&U0(e,t+n-1,c,l.node().contentMatchAt(l.index()),r==null);let d=e.mapping.slice(u),m=d.map(t-n);if(e.step(new jn(m,d.map(t+n,-1),ke.empty,!0)),r===!0){let p=e.doc.resolve(m);GS(e,p.node(),p.before(),e.steps.length)}return e}function e8(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let l=r.index(s);if(r.node(s).canReplaceWith(l,l,n))return r.before(s+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let l=r.indexAfter(s);if(r.node(s).canReplaceWith(l,l,n))return r.after(s+1);if(l<r.node(s).childCount)return null}return null}function JS(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let l=0;l<n.openStart;l++)s=s.firstChild.content;for(let l=1;l<=(n.openStart==0&&n.size?2:1);l++)for(let c=r.depth;c>=0;c--){let u=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,d=r.index(c)+(u>0?1:0),m=r.node(c),p=!1;if(l==1)p=m.canReplace(d,d,s);else{let g=m.contentMatchAt(d).findWrapping(s.firstChild.type);p=g&&m.canReplaceWith(d,d,g[0])}if(p)return u==0?r.pos:u<0?r.before(c+1):r.after(c+1)}return null}function Om(e,t,n=t,r=ke.empty){if(t==n&&!r.size)return null;let s=e.resolve(t),l=e.resolve(n);return WS(s,l,r)?new jn(t,n,r):new t8(s,l,r).fit()}function WS(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class t8{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=xe.empty;for(let s=0;s<=t.depth;s++){let l=t.node(s);this.frontier.push({type:l.type,match:l.contentMatchAt(t.indexAfter(s))})}for(let s=t.depth;s>0;s--)this.placed=xe.from(t.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(t<0?this.$to:r.doc.resolve(t));if(!s)return null;let l=this.placed,c=r.depth,u=s.depth;for(;c&&u&&l.childCount==1;)l=l.firstChild.content,c--,u--;let d=new ke(l,c,u);return t>-1?new wn(r.pos,t,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new jn(r.pos,s.pos,d):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<t;r++){let l=n.firstChild;if(n.childCount>1&&(s=0),l.type.spec.isolating&&s<=r){t=r;break}n=l.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let s,l=null;r?(l=Cg(this.unplaced.content,r-1).firstChild,s=l.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:m}=this.frontier[u],p,g=null;if(n==1&&(c?m.matchType(c.type)||(g=m.fillBefore(xe.from(c),!1)):l&&d.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:u,parent:l,inject:g};if(n==2&&c&&(p=m.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:u,parent:l,wrap:p};if(l&&m.matchType(l.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=Cg(t,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ke(t,n+1,Math.max(r,s.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,s=Cg(t,n);if(s.childCount<=1&&n>0){let l=t.size-n<=n+s.size;this.unplaced=new ke(xc(t,n-1,1),n-1,l?n-1:r)}else this.unplaced=new ke(xc(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:s,wrap:l}){for(;this.depth>n;)this.closeFrontierNode();if(l)for(let j=0;j<l.length;j++)this.openFrontierNode(l[j]);let c=this.unplaced,u=r?r.content:c.content,d=c.openStart-t,m=0,p=[],{match:g,type:x}=this.frontier[n];if(s){for(let j=0;j<s.childCount;j++)p.push(s.child(j));g=g.matchFragment(s)}let b=u.size+t-(c.content.size-c.openEnd);for(;m<u.childCount;){let j=u.child(m),N=g.matchType(j.type);if(!N)break;m++,(m>1||d==0||j.content.size)&&(g=N,p.push(YS(j.mark(x.allowedMarks(j.marks)),m==1?d:0,m==u.childCount?b:-1)))}let v=m==u.childCount;v||(b=-1),this.placed=bc(this.placed,n,xe.from(p)),this.frontier[n].match=g,v&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,N=u;j<b;j++){let k=N.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),N=k.content}this.unplaced=v?t==0?ke.empty:new ke(xc(c.content,t-1,1),t-1,b<0?c.openEnd:t-1):new ke(xc(c.content,t,m),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Tg(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],l=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),c=Tg(t,n,s,r,l);if(c){for(let u=n-1;u>=0;u--){let{match:d,type:m}=this.frontier[u],p=Tg(t,u,m,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:c,move:l?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=bc(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let s=t.node(r),l=s.type.contentMatch.fillBefore(s.content,!0,t.index(r));this.openFrontierNode(s.type,s.attrs,l)}return t}openFrontierNode(t,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(t),this.placed=bc(this.placed,this.depth,xe.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(xe.empty,!0);n.childCount&&(this.placed=bc(this.placed,this.frontier.length,n))}}function xc(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(xc(e.firstChild.content,t-1,n)))}function bc(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(bc(e.lastChild.content,t-1,n)))}function Cg(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function YS(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,YS(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(xe.empty,!0)))),e.copy(r)}function Tg(e,t,n,r,s){let l=e.node(t),c=s?e.indexAfter(t):e.index(t);if(c==l.childCount&&!n.compatibleContent(l.type))return null;let u=r.fillBefore(l.content,!0,c);return u&&!n8(n,l.content,c)?u:null}function n8(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function r8(e){return e.spec.defining||e.spec.definingForContent}function s8(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),l=e.doc.resolve(n);if(WS(s,l,r))return e.step(new jn(t,n,r));let c=XS(s,l);c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let x=s.depth,b=s.pos-1;x>0;x--,b--){let v=s.node(x).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;c.indexOf(x)>-1?u=x:s.before(x)==b&&c.splice(1,0,-x)}let d=c.indexOf(u),m=[],p=r.openStart;for(let x=r.content,b=0;;b++){let v=x.firstChild;if(m.push(v),b==r.openStart)break;x=v.content}for(let x=p-1;x>=0;x--){let b=m[x],v=r8(b.type);if(v&&!b.sameMarkup(s.node(Math.abs(u)-1)))p=x;else if(v||!b.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let b=(x+p+1)%(r.openStart+1),v=m[b];if(v)for(let j=0;j<c.length;j++){let N=c[(j+d)%c.length],k=!0;N<0&&(k=!1,N=-N);let T=s.node(N-1),C=s.index(N-1);if(T.canReplaceWith(C,C,v.type,v.marks))return e.replace(s.before(N),k?l.after(N):n,new ke(QS(r.content,0,r.openStart,b),b,r.openEnd))}}let g=e.steps.length;for(let x=c.length-1;x>=0&&(e.replace(t,n,r),!(e.steps.length>g));x--){let b=c[x];b<0||(t=s.before(b),n=l.after(b))}}function QS(e,t,n,r,s){if(t<n){let l=e.firstChild;e=e.replaceChild(0,l.copy(QS(l.content,t+1,n,r,l)))}if(t>r){let l=s.contentMatchAt(0),c=l.fillBefore(e).append(e);e=c.append(l.matchFragment(c).fillBefore(xe.empty,!0))}return e}function a8(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=e8(e.doc,t,r.type);s!=null&&(t=n=s)}e.replaceRange(t,n,new ke(xe.from(r),0,0))}function i8(e,t,n){let r=e.doc.resolve(t),s=e.doc.resolve(n),l=XS(r,s);for(let c=0;c<l.length;c++){let u=l[c],d=c==l.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return e.delete(r.start(u),s.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return e.delete(r.before(u),s.after(u))}for(let c=1;c<=r.depth&&c<=s.depth;c++)if(t-r.start(c)==r.depth-c&&n>r.end(c)&&s.end(c)-n!=s.depth-c&&r.start(c-1)==s.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),s.index(c-1)))return e.delete(r.before(c),n);e.delete(t,n)}function XS(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let s=r;s>=0;s--){let l=e.start(s);if(l<e.pos-(e.depth-s)||t.end(s)>t.pos+(t.depth-s)||e.node(s).type.spec.isolating||t.node(s).type.spec.isolating)break;(l==t.start(s)||s==e.depth&&s==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&s&&t.start(s-1)==l-1)&&n.push(s)}return n}class Fl extends Fn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return un.fail("No node at attribute step's position");let r=Object.create(null);for(let l in n.attrs)r[l]=n.attrs[l];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return un.fromReplace(t,this.pos,this.pos+1,new ke(xe.from(s),0,n.isLeaf?0:1))}getMap(){return wr.empty}invert(t){return new Fl(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Fl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Fl(n.pos,n.attr,n.value)}}Fn.jsonID("attr",Fl);class qc extends Fn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return un.ok(r)}getMap(){return wr.empty}invert(t){return new qc(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new qc(n.attr,n.value)}}Fn.jsonID("docAttr",qc);let Zl=class extends Error{};Zl=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Zl.prototype=Object.create(Error.prototype);Zl.prototype.constructor=Zl;Zl.prototype.name="TransformError";class eE{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Hc}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Zl(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=ke.empty){let s=Om(this.doc,t,n,r);return s&&this.step(s),this}replaceWith(t,n,r){return this.replace(t,n,new ke(xe.from(r),0,0))}delete(t,n){return this.replace(t,n,ke.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return s8(this,t,n,r),this}replaceRangeWith(t,n,r){return a8(this,t,n,r),this}deleteRange(t,n){return i8(this,t,n),this}lift(t,n){return HL(this,t,n),this}join(t,n=1){return XL(this,t,n),this}wrap(t,n){return KL(this,t,n),this}setBlockType(t,n=t,r,s=null){return ZL(this,t,n,r,s),this}setNodeMarkup(t,n,r=null,s){return WL(this,t,n,r,s),this}setNodeAttribute(t,n,r){return this.step(new Fl(t,n,r)),this}setDocAttribute(t,n){return this.step(new qc(t,n)),this}addNodeMark(t,n){return this.step(new Pa(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof At)n.isInSet(r.marks)&&this.step(new Ri(t,n));else{let s=r.marks,l,c=[];for(;l=n.isInSet(s);)c.push(new Ri(t,l)),s=l.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(t,n=1,r){return YL(this,t,n,r),this}addMark(t,n,r){return $L(this,t,n,r),this}removeMark(t,n,r){return FL(this,t,n,r),this}clearIncompatible(t,n,r){return U0(this,t,n,r),this}}const Ag=Object.create(null);class et{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new l8(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ke.empty){let r=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=r,r=r.lastChild;let l=t.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:d,$to:m}=c[u],p=t.mapping.slice(l);t.replaceRange(p.map(d.pos),p.map(m.pos),u?ke.empty:n),u==0&&iN(t,l,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:c,$to:u}=s[l],d=t.mapping.slice(r),m=d.map(c.pos),p=d.map(u.pos);l?t.deleteRange(m,p):(t.replaceRangeWith(m,p,n),iN(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let s=t.parent.inlineContent?new Ze(t):_l(t.node(0),t.parent,t.pos,t.index(),n,r);if(s)return s;for(let l=t.depth-1;l>=0;l--){let c=n<0?_l(t.node(0),t.node(l),t.before(l+1),t.index(l),n,r):_l(t.node(0),t.node(l),t.after(l+1),t.index(l)+1,n,r);if(c)return c}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Nr(t.node(0))}static atStart(t){return _l(t,t,0,0,1)||new Nr(t)}static atEnd(t){return _l(t,t,t.content.size,t.childCount,-1)||new Nr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ag[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Ag)throw new RangeError("Duplicate use of selection JSON ID "+t);return Ag[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ze.between(this.$anchor,this.$head).getBookmark()}}et.prototype.visible=!0;class l8{constructor(t,n){this.$from=t,this.$to=n}}let sN=!1;function aN(e){!sN&&!e.parent.inlineContent&&(sN=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ze extends et{constructor(t,n=t){aN(t),aN(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return et.near(r);let s=t.resolve(n.map(this.anchor));return new Ze(s.parent.inlineContent?s:r,r)}replace(t,n=ke.empty){if(super.replace(t,n),n==ke.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ze&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new zm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ze(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let s=t.resolve(n);return new this(s,r==n?s:t.resolve(r))}static between(t,n,r){let s=t.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let l=et.findFrom(n,r,!0)||et.findFrom(n,-r,!0);if(l)n=l.$head;else return et.near(n,r)}return t.parent.inlineContent||(s==0?t=n:(t=(et.findFrom(t,-r,!0)||et.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=s<0&&(t=n))),new Ze(t,n)}}et.jsonID("text",Ze);class zm{constructor(t,n){this.anchor=t,this.head=n}map(t){return new zm(t.map(this.anchor),t.map(this.head))}resolve(t){return Ze.between(t.resolve(this.anchor),t.resolve(this.head))}}class Be extends et{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),l=t.resolve(s);return r?et.near(l):new Be(l)}content(){return new ke(xe.from(this.node),0,0)}eq(t){return t instanceof Be&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new B0(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Be(t.resolve(n.anchor))}static create(t,n){return new Be(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Be.prototype.visible=!1;et.jsonID("node",Be);class B0{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new zm(r,r):new B0(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Be.isSelectable(r)?new Be(n):et.near(n)}}class Nr extends et{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ke.empty){if(n==ke.empty){t.delete(0,t.doc.content.size);let r=et.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Nr(t)}map(t){return new Nr(t)}eq(t){return t instanceof Nr}getBookmark(){return o8}}et.jsonID("all",Nr);const o8={map(){return this},resolve(e){return new Nr(e)}};function _l(e,t,n,r,s,l=!1){if(t.inlineContent)return Ze.create(e,n);for(let c=r-(s>0?0:1);s>0?c<t.childCount:c>=0;c+=s){let u=t.child(c);if(u.isAtom){if(!l&&Be.isSelectable(u))return Be.create(e,n-(s<0?u.nodeSize:0))}else{let d=_l(e,u,n+s,s<0?u.childCount:0,s,l);if(d)return d}n+=u.nodeSize*s}return null}function iN(e,t,n){let r=e.steps.length-1;if(r<t)return;let s=e.steps[r];if(!(s instanceof jn||s instanceof wn))return;let l=e.mapping.maps[r],c;l.forEach((u,d,m,p)=>{c==null&&(c=p)}),e.setSelection(et.near(e.doc.resolve(c),n))}const lN=1,Bd=2,oN=4;class c8 extends eE{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|lN)&~Bd,this.storedMarks=null,this}get selectionSet(){return(this.updated&lN)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Bd,this}ensureMarks(t){return At.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bd)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Bd,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||At.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let s=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(s.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let l=this.storedMarks;if(!l){let c=this.doc.resolve(n);l=r==n?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(t,l)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(et.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=oN,this}get scrolledIntoView(){return(this.updated&oN)>0}}function cN(e,t){return!t||!e?e:e.bind(t)}class yc{constructor(t,n,r){this.name=t,this.init=cN(n.init,r),this.apply=cN(n.apply,r)}}const u8=[new yc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new yc("selection",{init(e,t){return e.selection||et.atStart(t.doc)},apply(e){return e.selection}}),new yc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new yc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Mg{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=u8.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new yc(r.key,r.spec.state,r))})}}class Bl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),s=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let d=s?s[c].n:0,m=s?s[c].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,m,r);if(p&&r.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",t),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<c?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),l=!0}s&&(s[c]={state:r,n:n.length})}}if(!l)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Bl(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let l=r[s];n[l.name]=l.apply(t,this[l.name],this,n)}return n}get tr(){return new c8(this)}static create(t){let n=new Mg(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Bl(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(t,r);return r}reconfigure(t){let n=new Mg(this.schema,t.plugins),r=n.fields,s=new Bl(n);for(let l=0;l<r.length;l++){let c=r[l].name;s[c]=this.hasOwnProperty(c)?this[c]:r[l].init(t,s)}return s}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=t[r],l=s.spec.state;l&&l.toJSON&&(n[r]=l.toJSON.call(s,this[s.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let s=new Mg(t.schema,t.plugins),l=new Bl(s);return s.fields.forEach(c=>{if(c.name=="doc")l.doc=$a.fromJSON(t.schema,n.doc);else if(c.name=="selection")l.selection=et.fromJSON(l.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(l.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],m=d.spec.state;if(d.key==c.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){l[c.name]=m.fromJSON.call(d,t,n[u],l);return}}l[c.name]=c.init(t,l)}}),l}}function tE(e,t,n){for(let r in e){let s=e[r];s instanceof Function?s=s.bind(t):r=="handleDOMEvents"&&(s=tE(s,t,{})),n[r]=s}return n}class $t{constructor(t){this.spec=t,this.props={},t.props&&tE(t.props,this,this.props),this.key=t.key?t.key.key:nE("plugin")}getState(t){return t[this.key]}}const Og=Object.create(null);function nE(e){return e in Og?e+"$"+ ++Og[e]:(Og[e]=0,e+"$")}class gn{constructor(t="key"){this.key=nE(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const $0=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function rE(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const sE=(e,t,n)=>{let r=rE(e,n);if(!r)return!1;let s=F0(r);if(!s){let c=r.blockRange(),u=c&&co(c);return u==null?!1:(t&&t(e.tr.lift(c,u).scrollIntoView()),!0)}let l=s.nodeBefore;if(mE(e,s,t,-1))return!0;if(r.parent.content.size==0&&(Jl(l,"end")||Be.isSelectable(l)))for(let c=r.depth;;c--){let u=Om(e.doc,r.before(c),r.after(c),ke.empty);if(u&&u.slice.size<u.to-u.from){if(t){let d=e.tr.step(u);d.setSelection(Jl(l,"end")?et.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):Be.create(d.doc,s.pos-l.nodeSize)),t(d.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return l.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos-l.nodeSize,s.pos).scrollIntoView()),!0):!1},d8=(e,t,n)=>{let r=rE(e,n);if(!r)return!1;let s=F0(r);return s?aE(e,s,t):!1},f8=(e,t,n)=>{let r=lE(e,n);if(!r)return!1;let s=V0(r);return s?aE(e,s,t):!1};function aE(e,t,n){let r=t.nodeBefore,s=r,l=t.pos-1;for(;!s.isTextblock;l--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let c=t.nodeAfter,u=c,d=t.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let m=Om(e.doc,l,d,ke.empty);if(!m||m.from!=l||m instanceof jn&&m.slice.size>=d-l)return!1;if(n){let p=e.tr.step(m);p.setSelection(Ze.create(p.doc,l)),n(p.scrollIntoView())}return!0}function Jl(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const iE=(e,t,n)=>{let{$head:r,empty:s}=e.selection,l=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;l=F0(r)}let c=l&&l.nodeBefore;return!c||!Be.isSelectable(c)?!1:(t&&t(e.tr.setSelection(Be.create(e.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function F0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function lE(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const oE=(e,t,n)=>{let r=lE(e,n);if(!r)return!1;let s=V0(r);if(!s)return!1;let l=s.nodeAfter;if(mE(e,s,t,1))return!0;if(r.parent.content.size==0&&(Jl(l,"start")||Be.isSelectable(l))){let c=Om(e.doc,r.before(),r.after(),ke.empty);if(c&&c.slice.size<c.to-c.from){if(t){let u=e.tr.step(c);u.setSelection(Jl(l,"start")?et.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):Be.create(u.doc,u.mapping.map(s.pos))),t(u.scrollIntoView())}return!0}}return l.isAtom&&s.depth==r.depth-1?(t&&t(e.tr.delete(s.pos,s.pos+l.nodeSize).scrollIntoView()),!0):!1},cE=(e,t,n)=>{let{$head:r,empty:s}=e.selection,l=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;l=V0(r)}let c=l&&l.nodeAfter;return!c||!Be.isSelectable(c)?!1:(t&&t(e.tr.setSelection(Be.create(e.doc,l.pos)).scrollIntoView()),!0)};function V0(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const m8=(e,t)=>{let n=e.selection,r=n instanceof Be,s;if(r){if(n.node.isTextblock||!Wa(e.doc,n.from))return!1;s=n.from}else if(s=Mm(e.doc,n.from,-1),s==null)return!1;if(t){let l=e.tr.join(s);r&&l.setSelection(Be.create(l.doc,s-e.doc.resolve(s).nodeBefore.nodeSize)),t(l.scrollIntoView())}return!0},h8=(e,t)=>{let n=e.selection,r;if(n instanceof Be){if(n.node.isTextblock||!Wa(e.doc,n.to))return!1;r=n.to}else if(r=Mm(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},p8=(e,t)=>{let{$from:n,$to:r}=e.selection,s=n.blockRange(r),l=s&&co(s);return l==null?!1:(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)},uE=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function H0(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const g8=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),l=n.indexAfter(-1),c=H0(s.contentMatchAt(l));if(!c||!s.canReplaceWith(l,l,c))return!1;if(t){let u=n.after(),d=e.tr.replaceWith(u,u,c.createAndFill());d.setSelection(et.near(d.doc.resolve(u),1)),t(d.scrollIntoView())}return!0},dE=(e,t)=>{let n=e.selection,{$from:r,$to:s}=n;if(n instanceof Nr||r.parent.inlineContent||s.parent.inlineContent)return!1;let l=H0(s.parent.contentMatchAt(s.indexAfter()));if(!l||!l.isTextblock)return!1;if(t){let c=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=e.tr.insert(c,l.createAndFill());u.setSelection(Ze.create(u.doc,c+1)),t(u.scrollIntoView())}return!0},fE=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let l=n.before();if(Ws(e.doc,l))return t&&t(e.tr.split(l).scrollIntoView()),!0}let r=n.blockRange(),s=r&&co(r);return s==null?!1:(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)};function x8(e){return(t,n)=>{let{$from:r,$to:s}=t.selection;if(t.selection instanceof Be&&t.selection.node.isBlock)return!r.parentOffset||!Ws(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],c,u,d=!1,m=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){d=r.end(b)==r.pos+(r.depth-b),m=r.start(b)==r.pos-(r.depth-b),u=H0(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),l.unshift(d&&u?{type:u}:null),c=b;break}else{if(b==1)return!1;l.unshift(null)}let p=t.tr;(t.selection instanceof Ze||t.selection instanceof Nr)&&p.deleteSelection();let g=p.mapping.map(r.pos),x=Ws(p.doc,g,l.length,l);if(x||(l[0]=u?{type:u}:null,x=Ws(p.doc,g,l.length,l)),!x)return!1;if(p.split(g,l.length,l),!d&&m&&r.node(c).type!=u){let b=p.mapping.map(r.before(c)),v=p.doc.resolve(b);u&&r.node(c-1).canReplaceWith(v.index(),v.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(c)),u)}return n&&n(p.scrollIntoView()),!0}}const b8=x8(),y8=(e,t)=>{let{$from:n,to:r}=e.selection,s,l=n.sharedDepth(r);return l==0?!1:(s=n.before(l),t&&t(e.tr.setSelection(Be.create(e.doc,s))),!0)};function v8(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,l=t.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&t.parent.canReplace(l-1,l)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(l,l+1)||!(s.isTextblock||Wa(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function mE(e,t,n,r){let s=t.nodeBefore,l=t.nodeAfter,c,u,d=s.type.spec.isolating||l.type.spec.isolating;if(!d&&v8(e,t,n))return!0;let m=!d&&t.parent.canReplace(t.index(),t.index()+1);if(m&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(l.type))&&u.matchType(c[0]||l.type).validEnd){if(n){let b=t.pos+l.nodeSize,v=xe.empty;for(let k=c.length-1;k>=0;k--)v=xe.from(c[k].create(null,v));v=xe.from(s.copy(v));let j=e.tr.step(new wn(t.pos-1,b,t.pos,b,new ke(v,1,0),c.length,!0)),N=j.doc.resolve(b+2*c.length);N.nodeAfter&&N.nodeAfter.type==s.type&&Wa(j.doc,N.pos)&&j.join(N.pos),n(j.scrollIntoView())}return!0}let p=l.type.spec.isolating||r>0&&d?null:et.findFrom(t,1),g=p&&p.$from.blockRange(p.$to),x=g&&co(g);if(x!=null&&x>=t.depth)return n&&n(e.tr.lift(g,x).scrollIntoView()),!0;if(m&&Jl(l,"start",!0)&&Jl(s,"end")){let b=s,v=[];for(;v.push(b),!b.isTextblock;)b=b.lastChild;let j=l,N=1;for(;!j.isTextblock;j=j.firstChild)N++;if(b.canReplace(b.childCount,b.childCount,j.content)){if(n){let k=xe.empty;for(let C=v.length-1;C>=0;C--)k=xe.from(v[C].copy(k));let T=e.tr.step(new wn(t.pos-v.length,t.pos+l.nodeSize,t.pos+N,t.pos+l.nodeSize-N,new ke(k,v.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function hE(e){return function(t,n){let r=t.selection,s=e<0?r.$from:r.$to,l=s.depth;for(;s.node(l).isInline;){if(!l)return!1;l--}return s.node(l).isTextblock?(n&&n(t.tr.setSelection(Ze.create(t.doc,e<0?s.start(l):s.end(l)))),!0):!1}}const j8=hE(-1),w8=hE(1);function N8(e,t=null){return function(n,r){let{$from:s,$to:l}=n.selection,c=s.blockRange(l),u=c&&P0(c,e,t);return u?(r&&r(n.tr.wrap(c,u).scrollIntoView()),!0):!1}}function uN(e,t=null){return function(n,r){let s=!1;for(let l=0;l<n.selection.ranges.length&&!s;l++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[l];n.doc.nodesBetween(c,u,(d,m)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(e,t)))if(d.type==e)s=!0;else{let p=n.doc.resolve(m),g=p.index();s=p.parent.canReplaceWith(g,g+1,e)}})}if(!s)return!1;if(r){let l=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[c];l.setBlockType(u,d,e,t)}r(l.scrollIntoView())}return!0}}function q0(...e){return function(t,n,r){for(let s=0;s<e.length;s++)if(e[s](t,n,r))return!0;return!1}}q0($0,sE,iE);q0($0,oE,cE);q0(uE,dE,fE,b8);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function k8(e,t=null){return function(n,r){let{$from:s,$to:l}=n.selection,c=s.blockRange(l);if(!c)return!1;let u=r?n.tr:null;return S8(u,c,e,t)?(r&&r(u.scrollIntoView()),!0):!1}}function S8(e,t,n,r=null){let s=!1,l=t,c=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let d=c.resolve(t.start-2);l=new kf(d,d,t.depth),t.endIndex<t.parent.childCount&&(t=new kf(t.$from,c.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let u=P0(l,n,r,t);return u?(e&&E8(e,t,u,s,n),!0):!1}function E8(e,t,n,r,s){let l=xe.empty;for(let p=n.length-1;p>=0;p--)l=xe.from(n[p].type.create(n[p].attrs,l));e.step(new wn(t.start-(r?2:0),t.end,t.start,t.end,new ke(l,0,0),n.length,!0));let c=0;for(let p=0;p<n.length;p++)n[p].type==s&&(c=p+1);let u=n.length-c,d=t.start+n.length-(r?2:0),m=t.parent;for(let p=t.startIndex,g=t.endIndex,x=!0;p<g;p++,x=!1)!x&&Ws(e.doc,d,u)&&(e.split(d,u),d+=2*u),d+=m.child(p).nodeSize;return e}function C8(e){return function(t,n){let{$from:r,$to:s}=t.selection,l=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==e);return l?n?r.node(l.depth-1).type==e?T8(t,n,e,l):A8(t,n,l):!0:!1}}function T8(e,t,n,r){let s=e.tr,l=r.end,c=r.$to.end(r.depth);l<c&&(s.step(new wn(l-1,c,l,c,new ke(xe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new kf(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth));const u=co(r);if(u==null)return!1;s.lift(r,u);let d=s.doc.resolve(s.mapping.map(l,-1)-1);return Wa(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),t(s.scrollIntoView()),!0}function A8(e,t,n){let r=e.tr,s=n.parent;for(let b=n.end,v=n.endIndex-1,j=n.startIndex;v>j;v--)b-=s.child(v).nodeSize,r.delete(b-1,b+1);let l=r.doc.resolve(n.start),c=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==s.childCount,m=l.node(-1),p=l.index(-1);if(!m.canReplace(p+(u?0:1),p+1,c.content.append(d?xe.empty:xe.from(s))))return!1;let g=l.pos,x=g+c.nodeSize;return r.step(new wn(g-(u?1:0),x+(d?1:0),g+1,x-1,new ke((u?xe.empty:xe.from(s.copy(xe.empty))).append(d?xe.empty:xe.from(s.copy(xe.empty))),u?0:1,d?0:1),u?0:1)),t(r.scrollIntoView()),!0}function M8(e){return function(t,n){let{$from:r,$to:s}=t.selection,l=r.blockRange(s,m=>m.childCount>0&&m.firstChild.type==e);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let u=l.parent,d=u.child(c-1);if(d.type!=e)return!1;if(n){let m=d.lastChild&&d.lastChild.type==u.type,p=xe.from(m?e.create():null),g=new ke(xe.from(e.create(null,xe.from(u.type.create(null,p)))),m?3:1,0),x=l.start,b=l.end;n(t.tr.step(new wn(x-(m?3:1),b,x,b,g,1,!0)).scrollIntoView())}return!0}}const In=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Wl=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Ex=null;const qs=function(e,t,n){let r=Ex||(Ex=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},O8=function(){Ex=null},Li=function(e,t,n,r){return n&&(dN(e,t,n,r,-1)||dN(e,t,n,r,1))},z8=/^(img|br|input|textarea|hr)$/i;function dN(e,t,n,r,s){for(var l;;){if(e==n&&t==r)return!0;if(t==(s<0?0:Br(e))){let c=e.parentNode;if(!c||c.nodeType!=1||ou(e)||z8.test(e.nodeName)||e.contentEditable=="false")return!1;t=In(e)+(s<0?0:1),e=c}else if(e.nodeType==1){let c=e.childNodes[t+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)t+=s;else return!1;else e=c,t=s<0?Br(e):0}else return!1}}function Br(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function D8(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Br(e)}else if(e.parentNode&&!ou(e))t=In(e),e=e.parentNode;else return null}}function I8(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!ou(e))t=In(e)+1,e=e.parentNode;else return null}}function _8(e,t,n){for(let r=t==0,s=t==Br(e);r||s;){if(e==n)return!0;let l=In(e);if(e=e.parentNode,!e)return!1;r=r&&l==0,s=s&&l==Br(e)}}function ou(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Dm=function(e){return e.focusNode&&Li(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function vi(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function R8(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function L8(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Br(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Br(r.startContainer),r.startOffset)}}}const gs=typeof navigator<"u"?navigator:null,fN=typeof document<"u"?document:null,Ya=gs&&gs.userAgent||"",Cx=/Edge\/(\d+)/.exec(Ya),pE=/MSIE \d/.exec(Ya),Tx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ya),cr=!!(pE||Tx||Cx),Va=pE?document.documentMode:Tx?+Tx[1]:Cx?+Cx[1]:0,$r=!cr&&/gecko\/(\d+)/i.test(Ya);$r&&+(/Firefox\/(\d+)/.exec(Ya)||[0,0])[1];const Ax=!cr&&/Chrome\/(\d+)/.exec(Ya),Bn=!!Ax,gE=Ax?+Ax[1]:0,Kn=!cr&&!!gs&&/Apple Computer/.test(gs.vendor),Yl=Kn&&(/Mobile\/\w+/.test(Ya)||!!gs&&gs.maxTouchPoints>2),Pr=Yl||(gs?/Mac/.test(gs.platform):!1),U8=gs?/Win/.test(gs.platform):!1,Zs=/Android \d/.test(Ya),cu=!!fN&&"webkitFontSmoothing"in fN.documentElement.style,P8=cu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function B8(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function $s(e,t){return typeof e=="number"?e:e[t]}function $8(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function mN(e,t,n){let r=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,l=e.dom.ownerDocument;for(let c=n||e.dom;c;){if(c.nodeType!=1){c=Wl(c);continue}let u=c,d=u==l.body,m=d?B8(l):$8(u),p=0,g=0;if(t.top<m.top+$s(r,"top")?g=-(m.top-t.top+$s(s,"top")):t.bottom>m.bottom-$s(r,"bottom")&&(g=t.bottom-t.top>m.bottom-m.top?t.top+$s(s,"top")-m.top:t.bottom-m.bottom+$s(s,"bottom")),t.left<m.left+$s(r,"left")?p=-(m.left-t.left+$s(s,"left")):t.right>m.right-$s(r,"right")&&(p=t.right-m.right+$s(s,"right")),p||g)if(d)l.defaultView.scrollBy(p,g);else{let b=u.scrollLeft,v=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let j=u.scrollLeft-b,N=u.scrollTop-v;t={left:t.left-j,top:t.top-N,right:t.right-j,bottom:t.bottom-N}}let x=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(x))break;c=x=="absolute"?c.offsetParent:Wl(c)}}function F8(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,s;for(let l=(t.left+t.right)/2,c=n+1;c<Math.min(innerHeight,t.bottom);c+=5){let u=e.root.elementFromPoint(l,c);if(!u||u==e.dom||!e.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,s=d.top;break}}return{refDOM:r,refTop:s,stack:xE(e.dom)}}function xE(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Wl(r));return t}function V8({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;bE(n,r==0?0:r-t)}function bE(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:s,left:l}=e[n];r.scrollTop!=s+t&&(r.scrollTop=s+t),r.scrollLeft!=l&&(r.scrollLeft=l)}}let Ol=null;function H8(e){if(e.setActive)return e.setActive();if(Ol)return e.focus(Ol);let t=xE(e);e.focus(Ol==null?{get preventScroll(){return Ol={preventScroll:!0},!0}}:void 0),Ol||(Ol=!1,bE(t,0))}function yE(e,t){let n,r=2e8,s,l=0,c=t.top,u=t.top,d,m;for(let p=e.firstChild,g=0;p;p=p.nextSibling,g++){let x;if(p.nodeType==1)x=p.getClientRects();else if(p.nodeType==3)x=qs(p).getClientRects();else continue;for(let b=0;b<x.length;b++){let v=x[b];if(v.top<=c&&v.bottom>=u){c=Math.max(v.bottom,c),u=Math.min(v.top,u);let j=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(j<r){n=p,r=j,s=j&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,p.nodeType==1&&j&&(l=g+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!d&&v.left<=t.left&&v.right>=t.left&&(d=p,m={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(l=g+1)}}return!n&&d&&(n=d,s=m,r=0),n&&n.nodeType==3?q8(n,s):!n||r&&n.nodeType==1?{node:e,offset:l}:yE(n,s)}function q8(e,t){let n=e.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let l=Ma(r,1);if(l.top!=l.bottom&&G0(t,l))return{node:e,offset:s+(t.left>=(l.left+l.right)/2?1:0)}}return{node:e,offset:0}}function G0(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function G8(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function K8(e,t,n){let{node:r,offset:s}=yE(t,n),l=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();l=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return e.docView.posFromDOM(r,s,l)}function Z8(e,t,n,r){let s=-1;for(let l=t,c=!1;l!=e.dom;){let u=e.docView.nearestDesc(l,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&d.left>r.left||d.top>r.top?s=u.posBefore:(!c&&d.right<r.left||d.bottom<r.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;l=u.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}function vE(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),l=s;;){let c=e.childNodes[l];if(c.nodeType==1){let u=c.getClientRects();for(let d=0;d<u.length;d++){let m=u[d];if(G0(t,m))return vE(c,t,m)}}if((l=(l+1)%r)==s)break}return e}function J8(e,t){let n=e.dom.ownerDocument,r,s=0,l=L8(n,t.left,t.top);l&&({node:r,offset:s}=l);let c=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),u;if(!c||!e.dom.contains(c.nodeType!=1?c.parentNode:c)){let m=e.dom.getBoundingClientRect();if(!G0(t,m)||(c=vE(e.dom,t,m),!c))return null}if(Kn)for(let m=c;r&&m;m=Wl(m))m.draggable&&(r=void 0);if(c=G8(c,t),r){if($r&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=t.left&&g.bottom>t.top&&s++}let m;cu&&s&&r.nodeType==1&&(m=r.childNodes[s-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=t.top&&s--,r==e.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=Z8(e,r,s,t))}u==null&&(u=K8(e,c,t));let d=e.docView.nearestDesc(c,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function hN(e){return e.top<e.bottom||e.left<e.right}function Ma(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(hN(r))return r}return Array.prototype.find.call(n,hN)||e.getBoundingClientRect()}const W8=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function jE(e,t,n){let{node:r,offset:s,atom:l}=e.docView.domFromPos(t,n<0?-1:1),c=cu||$r;if(r.nodeType==3)if(c&&(W8.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let d=Ma(qs(r,s,s),n);if($r&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let m=Ma(qs(r,s-1,s-1),-1);if(m.top==d.top){let p=Ma(qs(r,s,s+1),-1);if(p.top!=d.top)return fc(p,p.left<m.left)}}return d}else{let d=s,m=s,p=n<0?1:-1;return n<0&&!s?(m++,p=-1):n>=0&&s==r.nodeValue.length?(d--,p=1):n<0?d--:m++,fc(Ma(qs(r,d,m),p),p<0)}if(!e.state.doc.resolve(t-(l||0)).parent.inlineContent){if(l==null&&s&&(n<0||s==Br(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return zg(d.getBoundingClientRect(),!1)}if(l==null&&s<Br(r)){let d=r.childNodes[s];if(d.nodeType==1)return zg(d.getBoundingClientRect(),!0)}return zg(r.getBoundingClientRect(),n>=0)}if(l==null&&s&&(n<0||s==Br(r))){let d=r.childNodes[s-1],m=d.nodeType==3?qs(d,Br(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(m)return fc(Ma(m,1),!1)}if(l==null&&s<Br(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let m=d?d.nodeType==3?qs(d,0,c?0:1):d.nodeType==1?d:null:null;if(m)return fc(Ma(m,-1),!0)}return fc(Ma(r.nodeType==3?qs(r):r,-n),n>=0)}function fc(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function zg(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function wE(e,t,n){let r=e.state,s=e.root.activeElement;r!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),s!=e.dom&&s&&s.focus()}}function Y8(e,t,n){let r=t.selection,s=n=="up"?r.$from:r.$to;return wE(e,t,()=>{let{node:l}=e.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=e.docView.nearestDesc(l,!0);if(!u)break;if(u.node.isBlock){l=u.contentDOM||u.dom;break}l=u.dom.parentNode}let c=jE(e,s.pos,1);for(let u=l.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=qs(u,0,u.nodeValue.length).getClientRects();else continue;for(let m=0;m<d.length;m++){let p=d[m];if(p.bottom>p.top+1&&(n=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const Q8=/[\u0590-\u08ac]/;function X8(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,l=!s,c=s==r.parent.content.size,u=e.domSelection();return u?!Q8.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?l:c:wE(e,t,()=>{let{focusNode:d,focusOffset:m,anchorNode:p,anchorOffset:g}=e.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let b=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:j}=e.domSelectionRange(),N=v&&!b.contains(v.nodeType==1?v:v.parentNode)||d==v&&m==j;try{u.collapse(p,g),d&&(d!=p||m!=g)&&u.extend&&u.extend(d,m)}catch{}return x!=null&&(u.caretBidiLevel=x),N}):r.pos==r.start()||r.pos==r.end()}let pN=null,gN=null,xN=!1;function eU(e,t,n){return pN==t&&gN==n?xN:(pN=t,gN=n,xN=n=="up"||n=="down"?Y8(e,t,n):X8(e,t,n))}const Fr=0,bN=1,wi=2,xs=3;class uu{constructor(t,n,r,s){this.parent=t,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Fr,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==t)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let l,c;if(t==this.contentDOM)l=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(t==this.contentDOM)l=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;l=t.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let s;if(t==this.dom&&this.contentDOM)s=n>In(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let l=t;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(s==null&&n==t.childNodes.length)for(let l=t;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,s=t;s;s=s.parentNode){let l=this.getDesc(s),c;if(l&&(!n||l.node))if(r&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(t.nodeType==1?t:t.parentNode):c==t))r=!1;else return l}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let s=t;s;s=s.parentNode){let l=this.getDesc(s);if(l)return l.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],l=r+s.size;if(r==t&&l!=r){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(t<l)return s.descAt(t-r-s.border);r=l}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,s=0;for(let l=0;r<this.children.length;r++){let c=this.children[r],u=l+c.size;if(u>t||c instanceof kE){s=t-l;break}l=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof NE&&l.side>=0;r--);if(n<=0){let l,c=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,c=!1);return l&&n&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?In(l.dom)+1:0}}else{let l,c=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,n):{node:this.contentDOM,offset:l?In(l.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,l=-1;for(let c=r,u=0;;u++){let d=this.children[u],m=c+d.size;if(s==-1&&t<=m){let p=c+d.border;if(t>=p&&n<=m-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(t,n,p);t=c;for(let g=u;g>0;g--){let x=this.children[g-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=In(x.dom)+1;break}t-=x.size}s==-1&&(s=0)}if(s>-1&&(m>n||u==this.children.length-1)){n=m;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){l=In(g.dom);break}n+=g.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=m}return{node:this.contentDOM,from:t,to:n,fromOffset:s,toOffset:l}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,s=!1){let l=Math.min(t,n),c=Math.max(t,n);for(let b=0,v=0;b<this.children.length;b++){let j=this.children[b],N=v+j.size;if(l>v&&c<N)return j.setSelection(t-v-j.border,n-v-j.border,r,s);v=N}let u=this.domFromPos(t,t?-1:1),d=n==t?u:this.domFromPos(n,n?-1:1),m=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if(($r||Kn)&&t==n){let{node:b,offset:v}=u;if(b.nodeType==3){if(g=!!(v&&b.nodeValue[v-1]==`
`),g&&v==b.nodeValue.length)for(let j=b,N;j;j=j.parentNode){if(N=j.nextSibling){N.nodeName=="BR"&&(u=d={node:N.parentNode,offset:In(N)+1});break}let k=j.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let j=b.childNodes[v-1];g=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if($r&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(s=!0)}if(!(s||g&&Kn)&&Li(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Li(d.node,d.offset,p.focusNode,p.focusOffset))return;let x=!1;if((m.extend||t==n)&&!(g&&$r)){m.collapse(u.node,u.offset);try{t!=n&&m.extend(d.node,d.offset),x=!0}catch{}}if(!x){if(t>n){let v=u;u=d,d=v}let b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(u.node,u.offset),m.removeAllRanges(),m.addRange(b)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,s=0;s<this.children.length;s++){let l=this.children[s],c=r+l.size;if(r==c?t<=c&&n>=r:t<c&&n>r){let u=r+l.border,d=c-l.border;if(t>=u&&n<=d){this.dirty=t==r||n==c?wi:bN,t==u&&n==d&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=xs:l.markDirty(t-u,n-u);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?wi:xs}r=c}this.dirty=wi}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?wi:bN;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class NE extends uu{constructor(t,n,r,s){let l,c=n.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)})),!n.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(t,[],c,null),this.widget=n,this.widget=n,l=this}matchesWidget(t){return this.dirty==Fr&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class tU extends uu{constructor(t,n,r,s){super(t,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Ui extends uu{constructor(t,n,r,s,l){super(t,[],r,s),this.mark=n,this.spec=l}static create(t,n,r,s){let l=s.nodeViews[n.type.name],c=l&&l(n,s,r);return(!c||!c.dom)&&(c=Hi.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ui(t,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&xs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=xs&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Fr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Fr}}slice(t,n,r){let s=Ui.create(this.parent,this.mark,!0,r),l=this.children,c=this.size;n<c&&(l=Ox(l,n,c,r)),t>0&&(l=Ox(l,0,t,r));for(let u=0;u<l.length;u++)l[u].parent=s;return s.children=l,s}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ha extends uu{constructor(t,n,r,s,l,c,u,d,m){super(t,[],l,c),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(t,n,r,s,l,c){let u=l.nodeViews[n.type.name],d,m=u&&u(n,l,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=m&&m.dom,g=m&&m.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=Hi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let x=p;return p=CE(p,r,n),m?d=new nU(t,n,r,s,p,g||null,x,m,l,c+1):n.isText?new Im(t,n,r,s,p,x,l):new Ha(t,n,r,s,p,g||null,x,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>xe.empty)}return t}matchesNode(t,n,r){return this.dirty==Fr&&t.eq(this.node)&&Ef(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,s=n,l=t.composing?this.localCompositionInfo(t,n):null,c=l&&l.pos>-1?l:null,u=l&&l.pos<0,d=new sU(this,c&&c.node,t);lU(this.node,this.innerDeco,(m,p,g)=>{m.spec.marks?d.syncToMarks(m.spec.marks,r,t):m.type.side>=0&&!g&&d.syncToMarks(p==this.node.childCount?At.none:this.node.child(p).marks,r,t),d.placeWidget(m,t,s)},(m,p,g,x)=>{d.syncToMarks(m.marks,r,t);let b;d.findNodeMatch(m,p,g,x)||u&&t.state.selection.from>s&&t.state.selection.to<s+m.nodeSize&&(b=d.findIndexWithChild(l.node))>-1&&d.updateNodeAt(m,p,g,b,t)||d.updateNextNode(m,p,g,t,x,s)||d.addNode(m,p,g,t,s),s+=m.nodeSize}),d.syncToMarks([],r,t),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==wi)&&(c&&this.protectLocalComposition(t,c),SE(this.contentDOM,this.children,t),Yl&&oU(this.dom))}localCompositionInfo(t,n){let{from:r,to:s}=t.state.selection;if(!(t.state.selection instanceof Ze)||r<n||s>n+this.node.content.size)return null;let l=t.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,u=cU(this.node.content,c,r-n,s-n);return u<0?null:{node:l,pos:u,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let l=n;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new tU(this,l,n,s);t.input.compositionNodes.push(c),this.children=Ox(this.children,r,r+s.length,t,c)}update(t,n,r,s){return this.dirty==xs||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,s),!0)}updateInner(t,n,r,s){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Fr}updateOuterDeco(t){if(Ef(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=EE(this.dom,this.nodeDOM,Mx(this.outerDeco,this.node,n),Mx(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function yN(e,t,n,r,s){CE(r,t,e);let l=new Ha(void 0,e,t,n,r,r,r,s,0);return l.contentDOM&&l.updateChildren(s,0),l}class Im extends Ha{constructor(t,n,r,s,l,c,u){super(t,n,r,s,l,null,c,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,s){return this.dirty==xs||this.dirty!=Fr&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Fr||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=t,this.dirty=Fr,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let s=this.node.cut(t,n),l=document.createTextNode(s.text);return new Im(this.parent,s,this.outerDeco,this.innerDeco,l,l,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=xs)}get domAtom(){return!1}isText(t){return this.node.text==t}}class kE extends uu{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Fr&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class nU extends Ha{constructor(t,n,r,s,l,c,u,d,m,p){super(t,n,r,s,l,c,u,m,p),this.spec=d}update(t,n,r,s){if(this.dirty==xs)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let l=this.spec.update(t,n,r);return l&&this.updateInner(t,n,r,s),l}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,s){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function SE(e,t,n){let r=e.firstChild,s=!1;for(let l=0;l<t.length;l++){let c=t[l],u=c.dom;if(u.parentNode==e){for(;u!=r;)r=vN(r),s=!0;r=r.nextSibling}else s=!0,e.insertBefore(u,r);if(c instanceof Ui){let d=r?r.previousSibling:e.lastChild;SE(c.contentDOM,c.children,n),r=d?d.nextSibling:e.firstChild}}for(;r;)r=vN(r),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const Cc=function(e){e&&(this.nodeName=e)};Cc.prototype=Object.create(null);const Ni=[new Cc];function Mx(e,t,n){if(e.length==0)return Ni;let r=n?Ni[0]:new Cc,s=[r];for(let l=0;l<e.length;l++){let c=e[l].type.attrs;if(c){c.nodeName&&s.push(r=new Cc(c.nodeName));for(let u in c){let d=c[u];d!=null&&(n&&s.length==1&&s.push(r=new Cc(t.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return s}function EE(e,t,n,r){if(n==Ni&&r==Ni)return t;let s=t;for(let l=0;l<r.length;l++){let c=r[l],u=n[l];if(l){let d;u&&u.nodeName==c.nodeName&&s!=e&&(d=s.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=Ni[0]),s=d}rU(s,u||Ni[0],c)}return s}function rU(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)s.indexOf(r[l])==-1&&e.classList.remove(r[l]);for(let l=0;l<s.length;l++)r.indexOf(s[l])==-1&&e.classList.add(s[l]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(t.style);)e.style.removeProperty(s[1])}n.style&&(e.style.cssText+=n.style)}}function CE(e,t,n){return EE(e,e,Ni,Mx(t,n,e.nodeType!=1))}function Ef(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function vN(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class sU{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=aU(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let s=0,l=this.stack.length>>1,c=Math.min(l,t.length);for(;s<c&&(s==l-1?this.top:this.stack[s+1<<1]).matchesMark(t[s])&&t[s].type.spec.spanning!==!1;)s++;for(;s<l;)this.destroyRest(),this.top.dirty=Fr,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let m=this.top.children[d];if(m.matchesMark(t[l])&&!this.isLocked(m.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=Ui.create(this.top,t[l],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,l++}}findNodeMatch(t,n,r,s){let l=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(t,n,r))l=this.top.children.indexOf(c,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let m=this.top.children[u];if(m.matchesNode(t,n,r)&&!this.preMatch.matched.has(m)){l=u;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(t,n,r,s,l){let c=this.top.children[s];return c.dirty==xs&&c.dom==c.contentDOM&&(c.dirty=wi),c.update(t,n,r,l)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}t=n}}updateNextNode(t,n,r,s,l,c){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof Ha){let m=this.preMatch.matched.get(d);if(m!=null&&m!=l)return!1;let p=d.dom,g,x=this.isLocked(p)&&!(t.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==t.text&&d.dirty!=xs&&Ef(n,d.outerDeco));if(!x&&d.update(t,n,r,s))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!x&&(g=this.recreateWrapper(d,t,n,r,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=wi,g.updateChildren(s,c+1),g.dirty=Fr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,s,l,c){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Ef(r,t.outerDeco)||!s.eq(t.innerDeco))return null;let u=Ha.create(this.top,n,r,s,l,c);if(u.contentDOM){u.children=t.children,t.children=[];for(let d of u.children)d.parent=u}return t.destroy(),u}addNode(t,n,r,s,l){let c=Ha.create(this.top,t,n,r,s,l);c.contentDOM&&c.updateChildren(s,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(t,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(t)&&(t==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let l=new NE(this.top,t,n,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Ui;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Im)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Kn||Bn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new kE(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function aU(e,t){let n=t,r=n.children.length,s=e.childCount,l=new Map,c=[];e:for(;s>0;){let u;for(;;)if(r){let m=n.children[r-1];if(m instanceof Ui)n=m,r=m.children.length;else{u=m,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=e.child(s-1))break;--s,l.set(u,s),c.push(u)}}return{index:s,matched:l,matches:c.reverse()}}function iU(e,t){return e.type.side-t.type.side}function lU(e,t,n,r){let s=t.locals(e),l=0;if(s.length==0){for(let m=0;m<e.childCount;m++){let p=e.child(m);r(p,s,t.forChild(l,p),m),l+=p.nodeSize}return}let c=0,u=[],d=null;for(let m=0;;){let p,g;for(;c<s.length&&s[c].to==l;){let N=s[c++];N.widget&&(p?(g||(g=[p])).push(N):p=N)}if(p)if(g){g.sort(iU);for(let N=0;N<g.length;N++)n(g[N],m,!!d)}else n(p,m,!!d);let x,b;if(d)b=-1,x=d,d=null;else if(m<e.childCount)b=m,x=e.child(m++);else break;for(let N=0;N<u.length;N++)u[N].to<=l&&u.splice(N--,1);for(;c<s.length&&s[c].from<=l&&s[c].to>l;)u.push(s[c++]);let v=l+x.nodeSize;if(x.isText){let N=v;c<s.length&&s[c].from<N&&(N=s[c].from);for(let k=0;k<u.length;k++)u[k].to<N&&(N=u[k].to);N<v&&(d=x.cut(N-l),x=x.cut(0,N-l),v=N,b=-1)}else for(;c<s.length&&s[c].to<v;)c++;let j=x.isInline&&!x.isLeaf?u.filter(N=>!N.inline):u.slice();r(x,j,t.forChild(l,x),b),l=v}}function oU(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function cU(e,t,n,r){for(let s=0,l=0;s<e.childCount&&l<=r;){let c=e.child(s++),u=l;if(l+=c.nodeSize,!c.isText)continue;let d=c.text;for(;s<e.childCount;){let m=e.child(s++);if(l+=m.nodeSize,!m.isText)break;d+=m.text}if(l>=n){if(l>=r&&d.slice(r-t.length-u,r-u)==t)return r-t.length;let m=u<r?d.lastIndexOf(t,r-u-1):-1;if(m>=0&&m+t.length+u>=n)return u+m;if(n==r&&d.length>=r+t.length-u&&d.slice(r-u,r-u+t.length)==t)return r}}return-1}function Ox(e,t,n,r,s){let l=[];for(let c=0,u=0;c<e.length;c++){let d=e[c],m=u,p=u+=d.size;m>=n||p<=t?l.push(d):(m<t&&l.push(d.slice(0,t-m,r)),s&&(l.push(s),s=void 0),p>n&&l.push(d.slice(n-m,d.size,r)))}return l}function K0(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),l=s&&s.size==0,c=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let u=r.resolve(c),d,m;if(Dm(n)){for(d=c;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&Be.isSelectable(g)&&s.parent&&!(g.isInline&&_8(n.focusNode,n.focusOffset,s.dom))){let x=s.posBefore;m=new Be(c==x?u:r.resolve(x))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=c,x=c;for(let b=0;b<n.rangeCount;b++){let v=n.getRangeAt(b);g=Math.min(g,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),x=Math.max(x,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(g<0)return null;[d,c]=x==e.state.selection.anchor?[x,g]:[g,x],u=r.resolve(c)}else d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!m){let g=t=="pointer"||e.state.selection.head<u.pos&&!l?1:-1;m=Z0(e,p,u,g)}return m}function TE(e){return e.editable?e.hasFocus():ME(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ys(e,t=!1){let n=e.state.selection;if(AE(e,n),!!TE(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Bn){let r=e.domSelectionRange(),s=e.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Li(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)dU(e);else{let{anchor:r,head:s}=n,l,c;jN&&!(n instanceof Ze)&&(n.$from.parent.inlineContent||(l=wN(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=wN(e,n.to))),e.docView.setSelection(r,s,e,t),jN&&(l&&NN(l),c&&NN(c)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&uU(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const jN=Kn||Bn&&gE<63;function wN(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),s=r<n.childNodes.length?n.childNodes[r]:null,l=r?n.childNodes[r-1]:null;if(Kn&&s&&s.contentEditable=="false")return Dg(s);if((!s||s.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(s)return Dg(s);if(l)return Dg(l)}}function Dg(e){return e.contentEditable="true",Kn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function NN(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function uU(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!TE(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function dU(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,In(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&cr&&Va<=11&&(n.disabled=!0,n.disabled=!1)}function AE(e,t){if(t instanceof Be){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(kN(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else kN(e)}function kN(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Z0(e,t,n,r){return e.someProp("createSelectionBetween",s=>s(e,t,n))||Ze.between(t,n,r)}function SN(e){return e.editable&&!e.hasFocus()?!1:ME(e)}function ME(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function fU(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Li(t.node,t.offset,n.anchorNode,n.anchorOffset)}function zx(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),l=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return l&&et.findFrom(l,t)}function Oa(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function EN(e,t,n){let r=e.state.selection;if(r instanceof Ze)if(n.indexOf("s")>-1){let{$head:s}=r,l=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=e.state.doc.resolve(s.pos+l.nodeSize*(t<0?-1:1));return Oa(e,new Ze(r.$anchor,c))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let s=zx(e.state,t);return s&&s instanceof Be?Oa(e,s):!1}else if(!(Pr&&n.indexOf("m")>-1)){let s=r.$head,l=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter,c;if(!l||l.isText)return!1;let u=t<0?s.pos-l.nodeSize:s.pos;return l.isAtom||(c=e.docView.descAt(u))&&!c.contentDOM?Be.isSelectable(l)?Oa(e,new Be(t<0?e.state.doc.resolve(s.pos-l.nodeSize):s)):cu?Oa(e,new Ze(e.state.doc.resolve(t<0?u:u+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Be&&r.node.isInline)return Oa(e,new Ze(t>0?r.$to:r.$from));{let s=zx(e.state,t);return s?Oa(e,s):!1}}}function Cf(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Tc(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function zl(e,t){return t<0?mU(e):hU(e)}function mU(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,l,c=!1;for($r&&n.nodeType==1&&r<Cf(n)&&Tc(n.childNodes[r],-1)&&(c=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(Tc(u,-1))s=n,l=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(OE(n))break;{let u=n.previousSibling;for(;u&&Tc(u,-1);)s=n.parentNode,l=In(u),u=u.previousSibling;if(u)n=u,r=Cf(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}c?Dx(e,n,r):s&&Dx(e,s,l)}function hU(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s=Cf(n),l,c;for(;;)if(r<s){if(n.nodeType!=1)break;let u=n.childNodes[r];if(Tc(u,1))l=n,c=++r;else break}else{if(OE(n))break;{let u=n.nextSibling;for(;u&&Tc(u,1);)l=u.parentNode,c=In(u)+1,u=u.nextSibling;if(u)n=u,r=0,s=Cf(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}l&&Dx(e,l,c)}function OE(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function pU(e,t){for(;e&&t==e.childNodes.length&&!ou(e);)t=In(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function gU(e,t){for(;e&&!t&&!ou(e);)t=In(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Dx(e,t,n){if(t.nodeType!=3){let l,c;(c=pU(t,n))?(t=c,n=0):(l=gU(t,n))&&(t=l,n=l.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Dm(r)){let l=document.createRange();l.setEnd(t,n),l.setStart(t,n),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&Ys(e)},50)}function CN(e,t){let n=e.state.doc.resolve(t);if(!(Bn||U8)&&n.parent.inlineContent){let s=e.coordsAtPos(t);if(t>n.start()){let l=e.coordsAtPos(t-1),c=(l.top+l.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(l.left-s.left)>1)return l.left<s.left?"ltr":"rtl"}if(t<n.end()){let l=e.coordsAtPos(t+1),c=(l.top+l.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(l.left-s.left)>1)return l.left>s.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function TN(e,t,n){let r=e.state.selection;if(r instanceof Ze&&!r.empty||n.indexOf("s")>-1||Pr&&n.indexOf("m")>-1)return!1;let{$from:s,$to:l}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let c=zx(e.state,t);if(c&&c instanceof Be)return Oa(e,c)}if(!s.parent.inlineContent){let c=t<0?s:l,u=r instanceof Nr?et.near(c,t):et.findFrom(c,t);return u?Oa(e,u):!1}return!1}function AN(e,t){if(!(e.state.selection instanceof Ze))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let l=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(l&&!l.isText){let c=e.state.tr;return t<0?c.delete(n.pos-l.nodeSize,n.pos):c.delete(n.pos,n.pos+l.nodeSize),e.dispatch(c),!0}return!1}function MN(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function xU(e){if(!Kn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;MN(e,r,"true"),setTimeout(()=>MN(e,r,"false"),20)}return!1}function bU(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function yU(e,t){let n=t.keyCode,r=bU(t);if(n==8||Pr&&n==72&&r=="c")return AN(e,-1)||zl(e,-1);if(n==46&&!t.shiftKey||Pr&&n==68&&r=="c")return AN(e,1)||zl(e,1);if(n==13||n==27)return!0;if(n==37||Pr&&n==66&&r=="c"){let s=n==37?CN(e,e.state.selection.from)=="ltr"?-1:1:-1;return EN(e,s,r)||zl(e,s)}else if(n==39||Pr&&n==70&&r=="c"){let s=n==39?CN(e,e.state.selection.from)=="ltr"?1:-1:1;return EN(e,s,r)||zl(e,s)}else{if(n==38||Pr&&n==80&&r=="c")return TN(e,-1,r)||zl(e,-1);if(n==40||Pr&&n==78&&r=="c")return xU(e)||TN(e,1,r)||zl(e,1);if(r==(Pr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function J0(e,t){e.someProp("transformCopied",b=>{t=b(t,e)});let n=[],{content:r,openStart:s,openEnd:l}=t;for(;s>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,l--;let b=r.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let c=e.someProp("clipboardSerializer")||Hi.fromSchema(e.state.schema),u=LE(),d=u.createElement("div");d.appendChild(c.serializeFragment(r,{document:u}));let m=d.firstChild,p,g=0;for(;m&&m.nodeType==1&&(p=RE[m.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let v=u.createElement(p[b]);for(;d.firstChild;)v.appendChild(d.firstChild);d.appendChild(v),g++}m=d.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${s} ${l}${g?` -${g}`:""} ${JSON.stringify(n)}`);let x=e.someProp("clipboardTextSerializer",b=>b(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:d,text:x,slice:t}}function zE(e,t,n,r,s){let l=s.parent.type.spec.code,c,u;if(!n&&!t)return null;let d=!!t&&(r||l||!n);if(d){if(e.someProp("transformPastedText",x=>{t=x(t,l||r,e)}),l)return u=new ke(xe.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",x=>{u=x(u,e,!0)}),u;let g=e.someProp("clipboardTextParser",x=>x(t,s,r,e));if(g)u=g;else{let x=s.marks(),{schema:b}=e.state,v=Hi.fromSchema(b);c=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(j=>{let N=c.appendChild(document.createElement("p"));j&&N.appendChild(v.serializeNode(b.text(j,x)))})}}else e.someProp("transformPastedHTML",g=>{n=g(n,e)}),c=NU(n),cu&&kU(c);let m=c&&c.querySelector("[data-pm-slice]"),p=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let x=c.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;c=x}if(u||(u=(e.someProp("clipboardParser")||e.someProp("domParser")||Fa.fromSchema(e.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!vU.test(x.parentNode.nodeName)?{ignore:!0}:null}})),p)u=SU(ON(u,+p[1],+p[2]),p[4]);else if(u=ke.maxOpen(jU(u.content,s),!0),u.openStart||u.openEnd){let g=0,x=0;for(let b=u.content.firstChild;g<u.openStart&&!b.type.spec.isolating;g++,b=b.firstChild);for(let b=u.content.lastChild;x<u.openEnd&&!b.type.spec.isolating;x++,b=b.lastChild);u=ON(u,g,x)}return e.someProp("transformPasted",g=>{u=g(u,e,d)}),u}const vU=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jU(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.index(n)),l,c=[];if(e.forEach(u=>{if(!c)return;let d=s.findWrapping(u.type),m;if(!d)return c=null;if(m=c.length&&l.length&&IE(d,l,u,c[c.length-1],0))c[c.length-1]=m;else{c.length&&(c[c.length-1]=_E(c[c.length-1],l.length));let p=DE(u,d);c.push(p),s=s.matchType(p.type),l=d}}),c)return xe.from(c)}return e}function DE(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,xe.from(e));return e}function IE(e,t,n,r,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let l=IE(e,t,n,r.lastChild,s+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?n.type:e[s+1]))return r.copy(r.content.append(xe.from(DE(n,e,s+1))))}}function _E(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,_E(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(xe.empty,!0);return e.copy(n.append(r))}function Ix(e,t,n,r,s,l){let c=t<0?e.firstChild:e.lastChild,u=c.content;return e.childCount>1&&(l=0),s<r-1&&(u=Ix(u,t,n,r,s+1,l)),s>=n&&(u=t<0?c.contentMatchAt(0).fillBefore(u,l<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(xe.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,c.copy(u))}function ON(e,t,n){return t<e.openStart&&(e=new ke(Ix(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ke(Ix(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const RE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let zN=null;function LE(){return zN||(zN=document.implementation.createHTMLDocument("title"))}let Ig=null;function wU(e){let t=window.trustedTypes;return t?(Ig||(Ig=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ig.createHTML(e)):e}function NU(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=LE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),s;if((s=r&&RE[r[1].toLowerCase()])&&(e=s.map(l=>"<"+l+">").join("")+e+s.map(l=>"</"+l+">").reverse().join("")),n.innerHTML=wU(e),s)for(let l=0;l<s.length;l++)n=n.querySelector(s[l])||n;return n}function kU(e){let t=e.querySelectorAll(Bn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function SU(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:s,openStart:l,openEnd:c}=e;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;s=xe.from(d.create(r[u+1],s)),l++,c++}return new ke(s,l,c)}const Zn={},Jn={},EU={touchstart:!0,touchmove:!0};class CU{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function TU(e){for(let t in Zn){let n=Zn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{MU(e,r)&&!W0(e,r)&&(e.editable||!(r.type in Jn))&&n(e,r)},EU[t]?{passive:!0}:void 0)}Kn&&e.dom.addEventListener("input",()=>null),_x(e)}function Ba(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function AU(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function _x(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>W0(e,r))})}function W0(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function MU(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function OU(e,t){!W0(e,t)&&Zn[t.type]&&(e.editable||!(t.type in Jn))&&Zn[t.type](e,t)}Jn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!PE(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Zs&&Bn&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Yl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",s=>s(e,vi(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||yU(e,n)?n.preventDefault():Ba(e,"key")};Jn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Jn.keypress=(e,t)=>{let n=t;if(PE(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Pr&&n.metaKey)return;if(e.someProp("handleKeyPress",s=>s(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ze)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),l=()=>e.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!e.someProp("handleTextInput",c=>c(e,r.$from.pos,r.$to.pos,s,l))&&e.dispatch(l()),n.preventDefault()}};function _m(e){return{left:e.clientX,top:e.clientY}}function zU(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Y0(e,t,n,r,s){if(r==-1)return!1;let l=e.state.doc.resolve(r);for(let c=l.depth+1;c>0;c--)if(e.someProp(t,u=>c>l.depth?u(e,n,l.nodeAfter,l.before(c),s,!0):u(e,n,l.node(c),l.before(c),s,!1)))return!0;return!1}function Vl(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function DU(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Be.isSelectable(r)?(Vl(e,new Be(n)),!0):!1}function IU(e,t){if(t==-1)return!1;let n=e.state.selection,r,s;n instanceof Be&&(r=n.node);let l=e.state.doc.resolve(t);for(let c=l.depth+1;c>0;c--){let u=c>l.depth?l.nodeAfter:l.node(c);if(Be.isSelectable(u)){r&&n.$from.depth>0&&c>=n.$from.depth&&l.before(n.$from.depth+1)==n.$from.pos?s=l.before(n.$from.depth):s=l.before(c);break}}return s!=null?(Vl(e,Be.create(e.state.doc,s)),!0):!1}function _U(e,t,n,r,s){return Y0(e,"handleClickOn",t,n,r)||e.someProp("handleClick",l=>l(e,t,r))||(s?IU(e,n):DU(e,n))}function RU(e,t,n,r){return Y0(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",s=>s(e,t,r))}function LU(e,t,n,r){return Y0(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",s=>s(e,t,r))||UU(e,n,r)}function UU(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Vl(e,Ze.create(r,0,r.content.size)),!0):!1;let s=r.resolve(t);for(let l=s.depth+1;l>0;l--){let c=l>s.depth?s.nodeAfter:s.node(l),u=s.before(l);if(c.inlineContent)Vl(e,Ze.create(r,u+1,u+1+c.content.size));else if(Be.isSelectable(c))Vl(e,Be.create(r,u));else continue;return!0}}function Q0(e){return Tf(e)}const UE=Pr?"metaKey":"ctrlKey";Zn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Q0(e),s=Date.now(),l="singleClick";s-e.input.lastClick.time<500&&zU(n,e.input.lastClick)&&!n[UE]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?l="doubleClick":e.input.lastClick.type=="doubleClick"&&(l="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:l,button:n.button};let c=e.posAtCoords(_m(n));c&&(l=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new PU(e,c,n,!!r)):(l=="doubleClick"?RU:LU)(e,c.pos,c.inside,n)?n.preventDefault():Ba(e,"pointer"))};class PU{constructor(t,n,r,s){this.view=t,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[UE],this.allowDefault=r.shiftKey;let l,c;if(n.inside>-1)l=t.state.doc.nodeAt(n.inside),c=n.inside;else{let p=t.state.doc.resolve(n.pos);l=p.parent,c=p.depth?p.before():0}const u=s?null:r.target,d=u?t.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:m}=t.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||m instanceof Be&&m.from<=c&&m.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&$r&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ba(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ys(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_m(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ba(this.view,"pointer"):_U(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Kn&&this.mightDrag&&!this.mightDrag.node.isAtom||Bn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Vl(this.view,et.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ba(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ba(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Zn.touchstart=e=>{e.input.lastTouch=Date.now(),Q0(e),Ba(e,"pointer")};Zn.touchmove=e=>{e.input.lastTouch=Date.now(),Ba(e,"pointer")};Zn.contextmenu=e=>Q0(e);function PE(e,t){return e.composing?!0:Kn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const BU=Zs?5e3:-1;Jn.compositionstart=Jn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ze&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Tf(e,!0),e.markCursor=null;else if(Tf(e,!t.selection.empty),$r&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let s=r.focusNode,l=r.focusOffset;s&&s.nodeType==1&&l!=0;){let c=l<0?s.lastChild:s.childNodes[l-1];if(!c)break;if(c.nodeType==3){let u=e.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,l=-1}}e.input.composing=!0}BE(e,BU)};Jn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,BE(e,20))};function BE(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Tf(e),t))}function $E(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=FU());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function $U(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=D8(t.focusNode,t.focusOffset),r=I8(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,l=e.domObserver.lastChangedTextNode;if(n==l||r==l)return l;if(!s||!s.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return r}}return n||r}function FU(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Tf(e,t=!1){if(!(Zs&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),$E(e),t||e.docView&&e.docView.dirty){let n=K0(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function VU(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Gc=cr&&Va<15||Yl&&P8<604;Zn.copy=Jn.cut=(e,t)=>{let n=t,r=e.state.selection,s=n.type=="cut";if(r.empty)return;let l=Gc?null:n.clipboardData,c=r.content(),{dom:u,text:d}=J0(e,c);l?(n.preventDefault(),l.clearData(),l.setData("text/html",u.innerHTML),l.setData("text/plain",d)):VU(e,u),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function HU(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function qU(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Kc(e,r.value,null,s,t):Kc(e,r.textContent,r.innerHTML,s,t)},50)}function Kc(e,t,n,r,s){let l=zE(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",d=>d(e,s,l||ke.empty)))return!0;if(!l)return!1;let c=HU(l),u=c?e.state.tr.replaceSelectionWith(c,r):e.state.tr.replaceSelection(l);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function FE(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Jn.paste=(e,t)=>{let n=t;if(e.composing&&!Zs)return;let r=Gc?null:n.clipboardData,s=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Kc(e,FE(r),r.getData("text/html"),s,n)?n.preventDefault():qU(e,n)};class VE{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const GU=Pr?"altKey":"ctrlKey";function HE(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[GU]}Zn.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=e.state.selection,l=s.empty?null:e.posAtCoords(_m(n)),c;if(!(l&&l.pos>=s.from&&l.pos<=(s instanceof Be?s.to-1:s.to))){if(r&&r.mightDrag)c=Be.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=e.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=e.docView&&(c=Be.create(e.state.doc,g.posBefore))}}let u=(c||e.state.selection).content(),{dom:d,text:m,slice:p}=J0(e,u);(!n.dataTransfer.files.length||!Bn||gE>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Gc?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Gc||n.dataTransfer.setData("text/plain",m),e.dragging=new VE(p,HE(e,n),c)};Zn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Jn.dragover=Jn.dragenter=(e,t)=>t.preventDefault();Jn.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let s=e.posAtCoords(_m(n));if(!s)return;let l=e.state.doc.resolve(s.pos),c=r&&r.slice;c?e.someProp("transformPasted",v=>{c=v(c,e,!1)}):c=zE(e,FE(n.dataTransfer),Gc?null:n.dataTransfer.getData("text/html"),!1,l);let u=!!(r&&HE(e,n));if(e.someProp("handleDrop",v=>v(e,n,c||ke.empty,u))){n.preventDefault();return}if(!c)return;n.preventDefault();let d=c?JS(e.state.doc,l.pos,c):l.pos;d==null&&(d=l.pos);let m=e.state.tr;if(u){let{node:v}=r;v?v.replace(m):m.deleteSelection()}let p=m.mapping.map(d),g=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,x=m.doc;if(g?m.replaceRangeWith(p,p,c.content.firstChild):m.replaceRange(p,p,c),m.doc.eq(x))return;let b=m.doc.resolve(p);if(g&&Be.isSelectable(c.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(c.content.firstChild))m.setSelection(new Be(b));else{let v=m.mapping.map(d);m.mapping.maps[m.mapping.maps.length-1].forEach((j,N,k,T)=>v=T),m.setSelection(Z0(e,b,m.doc.resolve(v)))}e.focus(),e.dispatch(m.setMeta("uiEvent","drop"))};Zn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ys(e)},20))};Zn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Zn.beforeinput=(e,t)=>{if(Bn&&Zs&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",l=>l(e,vi(8,"Backspace")))))return;let{$cursor:s}=e.state.selection;s&&s.pos>0&&e.dispatch(e.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let e in Jn)Zn[e]=Jn[e];function Zc(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Af{constructor(t,n){this.toDOM=t,this.spec=n||Mi,this.side=this.spec.side||0}map(t,n,r,s){let{pos:l,deleted:c}=t.mapResult(n.from+s,this.side<0?-1:1);return c?null:new qn(l-r,l-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Af&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Zc(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class qa{constructor(t,n){this.attrs=t,this.spec=n||Mi}map(t,n,r,s){let l=t.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,c=t.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return l>=c?null:new qn(l,c,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof qa&&Zc(this.attrs,t.attrs)&&Zc(this.spec,t.spec)}static is(t){return t.type instanceof qa}destroy(){}}class X0{constructor(t,n){this.attrs=t,this.spec=n||Mi}map(t,n,r,s){let l=t.mapResult(n.from+s,1);if(l.deleted)return null;let c=t.mapResult(n.to+s,-1);return c.deleted||c.pos<=l.pos?null:new qn(l.pos-r,c.pos-r,this)}valid(t,n){let{index:r,offset:s}=t.content.findIndex(n.from),l;return s==n.from&&!(l=t.child(r)).isText&&s+l.nodeSize==n.to}eq(t){return this==t||t instanceof X0&&Zc(this.attrs,t.attrs)&&Zc(this.spec,t.spec)}destroy(){}}class qn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new qn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new qn(t,t,new Af(n,r))}static inline(t,n,r,s){return new qn(t,n,new qa(r,s))}static node(t,n,r,s){return new qn(t,n,new X0(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof qa}get widget(){return this.type instanceof Af}}const Rl=[],Mi={};class Pt{constructor(t,n){this.local=t.length?t:Rl,this.children=n.length?n:Rl}static create(t,n){return n.length?Mf(n,t,0,Mi):Pn}find(t,n,r){let s=[];return this.findInner(t??0,n??1e9,s,0,r),s}findInner(t,n,r,s,l){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=n&&u.to>=t&&(!l||l(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>t){let u=this.children[c]+1;this.children[c+2].findInner(t-u,n-u,r,s+u,l)}}map(t,n,r){return this==Pn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Mi)}mapInner(t,n,r,s,l){let c;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(t,r,s);d&&d.type.valid(n,d)?(c||(c=[])).push(d):l.onRemove&&l.onRemove(this.local[u].spec)}return this.children.length?KU(this.children,c||[],t,n,r,s,l):c?new Pt(c.sort(Oi),Rl):Pn}add(t,n){return n.length?this==Pn?Pt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let s,l=0;t.forEach((u,d)=>{let m=d+r,p;if(p=GE(n,u,m)){for(s||(s=this.children.slice());l<s.length&&s[l]<d;)l+=3;s[l]==d?s[l+2]=s[l+2].addInner(u,p,m+1):s.splice(l,0,d,d+u.nodeSize,Mf(p,u,m+1,Mi)),l+=3}});let c=qE(l?KE(n):n,-r);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||c.splice(u--,1);return new Pt(c.length?this.local.concat(c).sort(Oi):this.local,s||this.children)}remove(t){return t.length==0||this==Pn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,s=this.local;for(let l=0;l<r.length;l+=3){let c,u=r[l]+n,d=r[l+1]+n;for(let p=0,g;p<t.length;p++)(g=t[p])&&g.from>u&&g.to<d&&(t[p]=null,(c||(c=[])).push(g));if(!c)continue;r==this.children&&(r=this.children.slice());let m=r[l+2].removeInner(c,u+1);m!=Pn?r[l+2]=m:(r.splice(l,3),l-=3)}if(s.length){for(let l=0,c;l<t.length;l++)if(c=t[l])for(let u=0;u<s.length;u++)s[u].eq(c,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Pt(s,r):Pn}forChild(t,n){if(this==Pn)return this;if(n.isLeaf)return Pt.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=t){this.children[u]==t&&(r=this.children[u+2]);break}let l=t+1,c=l+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<c&&d.to>l&&d.type instanceof qa){let m=Math.max(l,d.from)-l,p=Math.min(c,d.to)-l;m<p&&(s||(s=[])).push(d.copy(m,p))}}if(s){let u=new Pt(s.sort(Oi),Rl);return r?new _a([u,r]):u}return r||Pn}eq(t){if(this==t)return!0;if(!(t instanceof Pt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return eb(this.localsInner(t))}localsInner(t){if(this==Pn)return Rl;if(t.inlineContent||!this.local.some(qa.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof qa||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=eb;const Pn=Pt.empty;class _a{constructor(t){this.members=t}map(t,n){const r=this.members.map(s=>s.map(t,n,Mi));return _a.from(r)}forChild(t,n){if(n.isLeaf)return Pt.empty;let r=[];for(let s=0;s<this.members.length;s++){let l=this.members[s].forChild(t,n);l!=Pn&&(l instanceof _a?r=r.concat(l.members):r.push(l))}return _a.from(r)}eq(t){if(!(t instanceof _a)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let s=0;s<this.members.length;s++){let l=this.members[s].localsInner(t);if(l.length)if(!n)n=l;else{r&&(n=n.slice(),r=!1);for(let c=0;c<l.length;c++)n.push(l[c])}}return n?eb(r?n:n.sort(Oi)):Rl}static from(t){switch(t.length){case 0:return Pn;case 1:return t[0];default:return new _a(t.every(n=>n instanceof Pt)?t:t.reduce((n,r)=>n.concat(r instanceof Pt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function KU(e,t,n,r,s,l,c){let u=e.slice();for(let m=0,p=l;m<n.maps.length;m++){let g=0;n.maps[m].forEach((x,b,v,j)=>{let N=j-v-(b-x);for(let k=0;k<u.length;k+=3){let T=u[k+1];if(T<0||x>T+p-g)continue;let C=u[k]+p-g;b>=C?u[k+1]=x<=C?-2:-1:x>=p&&N&&(u[k]+=N,u[k+1]+=N)}g+=N}),p=n.maps[m].map(p,-1)}let d=!1;for(let m=0;m<u.length;m+=3)if(u[m+1]<0){if(u[m+1]==-2){d=!0,u[m+1]=-1;continue}let p=n.map(e[m]+l),g=p-s;if(g<0||g>=r.content.size){d=!0;continue}let x=n.map(e[m+1]+l,-1),b=x-s,{index:v,offset:j}=r.content.findIndex(g),N=r.maybeChild(v);if(N&&j==g&&j+N.nodeSize==b){let k=u[m+2].mapInner(n,N,p+1,e[m]+l+1,c);k!=Pn?(u[m]=g,u[m+1]=b,u[m+2]=k):(u[m+1]=-2,d=!0)}else d=!0}if(d){let m=ZU(u,e,t,n,s,l,c),p=Mf(m,r,0,c);t=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,x=0;g<p.children.length;g+=3){let b=p.children[g];for(;x<u.length&&u[x]<b;)x+=3;u.splice(x,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Pt(t.sort(Oi),u)}function qE(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let s=e[r];n.push(new qn(s.from+t,s.to+t,s.type))}return n}function ZU(e,t,n,r,s,l,c){function u(d,m){for(let p=0;p<d.local.length;p++){let g=d.local[p].map(r,s,m);g?n.push(g):c.onRemove&&c.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+m+1)}for(let d=0;d<e.length;d+=3)e[d+1]==-1&&u(e[d+2],t[d]+l+1);return n}function GE(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,s=null;for(let l=0,c;l<e.length;l++)(c=e[l])&&c.from>n&&c.to<r&&((s||(s=[])).push(c),e[l]=null);return s}function KE(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Mf(e,t,n,r){let s=[],l=!1;t.forEach((u,d)=>{let m=GE(e,u,d+n);if(m){l=!0;let p=Mf(m,u,n+d+1,r);p!=Pn&&s.push(d,d+u.nodeSize,p)}});let c=qE(l?KE(e):e,-n).sort(Oi);for(let u=0;u<c.length;u++)c[u].type.valid(t,c[u])||(r.onRemove&&r.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new Pt(c,s):Pn}function Oi(e,t){return e.from-t.from||e.to-t.to}function eb(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let s=n+1;s<t.length;s++){let l=t[s];if(l.from==r.from){l.to!=r.to&&(t==e&&(t=e.slice()),t[s]=l.copy(l.from,r.to),DN(t,s+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,l.from),DN(t,s,r.copy(l.from,r.to)));break}}}return t}function DN(e,t,n){for(;t<e.length&&Oi(n,e[t])>0;)t++;e.splice(t,0,n)}function _g(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Pn&&t.push(r)}),e.cursorWrapper&&t.push(Pt.create(e.state.doc,[e.cursorWrapper.deco])),_a.from(t)}const JU={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},WU=cr&&Va<=11;class YU{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class QU{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YU,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);cr&&Va<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),WU&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,JU)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(SN(this.view)){if(this.suppressingSelectionUpdates)return Ys(this.view);if(cr&&Va<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Li(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let l=t.focusNode;l;l=Wl(l))n.add(l);for(let l=t.anchorNode;l;l=Wl(l))if(n.has(l)){r=l;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&SN(t)&&!this.ignoreSelectionChange(r),l=-1,c=-1,u=!1,d=[];if(t.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],d);g&&(l=l<0?g.from:Math.min(g.from,l),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(u=!0))}if($r&&d.length){let p=d.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,x]=p;g.parentNode&&g.parentNode.parentNode==x.parentNode?x.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let x of p){let b=x.parentNode;b&&b.nodeName=="LI"&&(!g||tP(t,g)!=b)&&x.remove()}}}let m=null;l<0&&s&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Dm(r)&&(m=K0(t))&&m.eq(et.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ys(t),this.currentSelection.set(r),t.scrollToSelection()):(l>-1||s)&&(l>-1&&(t.docView.markDirty(l,c),XU(t)),this.handleDOMChange(l,c,u,d),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Ys(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++){let g=t.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let s=t.previousSibling,l=t.nextSibling;if(cr&&Va<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:g,nextSibling:x}=t.addedNodes[p];(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(s=g),(!x||Array.prototype.indexOf.call(t.addedNodes,x)<0)&&(l=x)}let c=s&&s.parentNode==t.target?In(s)+1:0,u=r.localPosFromDOM(t.target,c,-1),d=l&&l.parentNode==t.target?In(l):t.target.childNodes.length,m=r.localPosFromDOM(t.target,d,1);return{from:u,to:m}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let IN=new WeakMap,_N=!1;function XU(e){if(!IN.has(e)&&(IN.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=$r,_N)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_N=!0}}function RN(e,t){let n=t.startContainer,r=t.startOffset,s=t.endContainer,l=t.endOffset,c=e.domAtPos(e.state.selection.anchor);return Li(c.node,c.offset,s,l)&&([n,r,s,l]=[s,l,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:l}}function eP(e,t){if(t.getComposedRanges){let s=t.getComposedRanges(e.root)[0];if(s)return RN(e,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?RN(e,n):null}function tP(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function nP(e,t,n){let{node:r,fromOffset:s,toOffset:l,from:c,to:u}=e.docView.parseRange(t,n),d=e.domSelectionRange(),m,p=d.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(m=[{node:p,offset:d.anchorOffset}],Dm(d)||m.push({node:d.focusNode,offset:d.focusOffset})),Bn&&e.input.lastKeyCode===8)for(let N=l;N>s;N--){let k=r.childNodes[N-1],T=k.pmViewDesc;if(k.nodeName=="BR"&&!T){l=N;break}if(!T||T.size)break}let g=e.state.doc,x=e.someProp("domParser")||Fa.fromSchema(e.state.schema),b=g.resolve(c),v=null,j=x.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:l,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:rP,context:b});if(m&&m[0].pos!=null){let N=m[0].pos,k=m[1]&&m[1].pos;k==null&&(k=N),v={anchor:N+c,head:k+c}}return{doc:j,sel:v,from:c,to:u}}function rP(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Kn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Kn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const sP=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function aP(e,t,n,r,s){let l=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let z=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,L=K0(e,z);if(L&&!e.state.selection.eq(L)){if(Bn&&Zs&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",X=>X(e,vi(13,"Enter"))))return;let K=e.state.tr.setSelection(L);z=="pointer"?K.setMeta("pointer",!0):z=="key"&&K.scrollIntoView(),l&&K.setMeta("composition",l),e.dispatch(K)}return}let c=e.state.doc.resolve(t),u=c.sharedDepth(n);t=c.before(u+1),n=e.state.doc.resolve(n).after(u+1);let d=e.state.selection,m=nP(e,t,n),p=e.state.doc,g=p.slice(m.from,m.to),x,b;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(x=e.state.selection.to,b="end"):(x=e.state.selection.from,b="start"),e.input.lastKeyCode=null;let v=oP(g.content,m.doc.content,m.from,x,b);if(v&&e.input.domChangeCount++,(Yl&&e.input.lastIOSEnter>Date.now()-225||Zs)&&s.some(z=>z.nodeType==1&&!sP.test(z.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",z=>z(e,vi(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&d instanceof Ze&&!d.empty&&d.$head.sameParent(d.$anchor)&&!e.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))v={start:d.from,endA:d.to,endB:d.to};else{if(m.sel){let z=LN(e,e.state.doc,m.sel);if(z&&!z.eq(e.state.selection)){let L=e.state.tr.setSelection(z);l&&L.setMeta("composition",l),e.dispatch(L)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof Ze&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=m.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=m.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),cr&&Va<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>m.from&&m.doc.textBetween(v.start-m.from-1,v.start-m.from+1)==" "&&(v.start--,v.endA--,v.endB--);let j=m.doc.resolveNoCache(v.start-m.from),N=m.doc.resolveNoCache(v.endB-m.from),k=p.resolve(v.start),T=j.sameParent(N)&&j.parent.inlineContent&&k.end()>=v.endA;if((Yl&&e.input.lastIOSEnter>Date.now()-225&&(!T||s.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!T&&j.pos<m.doc.content.size&&(!j.sameParent(N)||!j.parent.inlineContent)&&j.pos<N.pos&&!/\S/.test(m.doc.textBetween(j.pos,N.pos,"","")))&&e.someProp("handleKeyDown",z=>z(e,vi(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&lP(p,v.start,v.endA,j,N)&&e.someProp("handleKeyDown",z=>z(e,vi(8,"Backspace")))){Zs&&Bn&&e.domObserver.suppressSelectionUpdates();return}Bn&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Zs&&!T&&j.start()!=N.start()&&N.parentOffset==0&&j.depth==N.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==v.endA&&(v.endB-=2,N=m.doc.resolveNoCache(v.endB-m.from),setTimeout(()=>{e.someProp("handleKeyDown",function(z){return z(e,vi(13,"Enter"))})},20));let C=v.start,A=v.endA,M=z=>{let L=z||e.state.tr.replace(C,A,m.doc.slice(v.start-m.from,v.endB-m.from));if(m.sel){let K=LN(e,L.doc,m.sel);K&&!(Bn&&e.composing&&K.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(K.head==C||K.head==L.mapping.map(A)-1)||cr&&K.empty&&K.head==C)&&L.setSelection(K)}return l&&L.setMeta("composition",l),L.scrollIntoView()},D;if(T)if(j.pos==N.pos){cr&&Va<=11&&j.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ys(e),20));let z=M(e.state.tr.delete(C,A)),L=p.resolve(v.start).marksAcross(p.resolve(v.endA));L&&z.ensureMarks(L),e.dispatch(z)}else if(v.endA==v.endB&&(D=iP(j.parent.content.cut(j.parentOffset,N.parentOffset),k.parent.content.cut(k.parentOffset,v.endA-k.start())))){let z=M(e.state.tr);D.type=="add"?z.addMark(C,A,D.mark):z.removeMark(C,A,D.mark),e.dispatch(z)}else if(j.parent.child(j.index()).isText&&j.index()==N.index()-(N.textOffset?0:1)){let z=j.parent.textBetween(j.parentOffset,N.parentOffset),L=()=>M(e.state.tr.insertText(z,C,A));e.someProp("handleTextInput",K=>K(e,C,A,z,L))||e.dispatch(L())}else e.dispatch(M());else e.dispatch(M())}function LN(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Z0(e,t.resolve(n.anchor),t.resolve(n.head))}function iP(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,s=n,l=r,c,u,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)l=n[p].removeFromSet(l);if(s.length==1&&l.length==0)u=s[0],c="add",d=p=>p.mark(u.addToSet(p.marks));else if(s.length==0&&l.length==1)u=l[0],c="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let m=[];for(let p=0;p<t.childCount;p++)m.push(d(t.child(p)));if(xe.from(m).eq(e))return{mark:u,type:c}}function lP(e,t,n,r,s){if(n-t<=s.pos-r.pos||Rg(r,!0,!1)<s.pos)return!1;let l=e.resolve(t);if(!r.parent.isTextblock){let u=l.nodeAfter;return u!=null&&n==t+u.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=e.resolve(Rg(l,!0,!0));return!c.parent.isTextblock||c.pos>n||Rg(c,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function Rg(e,t,n){let r=e.depth,s=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,s++,t=!1;if(n){let l=e.node(r).maybeChild(e.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,s++}return s}function oP(e,t,n,r,s){let l=e.findDiffStart(t,n);if(l==null)return null;let{a:c,b:u}=e.findDiffEnd(t,n+e.size,n+t.size);if(s=="end"){let d=Math.max(0,l-Math.min(c,u));r-=c+d-l}if(c<l&&e.size<t.size){let d=r<=l&&r>=c?l-r:0;l-=d,l&&l<t.size&&UN(t.textBetween(l-1,l+1))&&(l+=d?1:-1),u=l+(u-c),c=l}else if(u<l){let d=r<=l&&r>=u?l-r:0;l-=d,l&&l<e.size&&UN(e.textBetween(l-1,l+1))&&(l+=d?1:-1),c=l+(c-u),u=l}return{start:l,endA:c,endB:u}}function UN(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class ZE{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new CU,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(VN),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=$N(this),BN(this),this.nodeViews=FN(this),this.docView=yN(this.state.doc,PN(this),_g(this),this.dom,this),this.domObserver=new QU(this,(r,s,l,c)=>aP(this,r,s,l,c)),this.domObserver.start(),TU(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_x(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(VN),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let s=this.state,l=!1,c=!1;t.storedMarks&&this.composing&&($E(this),c=!0),this.state=t;let u=s.plugins!=t.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=FN(this);uP(b,this.nodeViews)&&(this.nodeViews=b,l=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&_x(this),this.editable=$N(this),BN(this);let d=_g(this),m=PN(this),p=s.plugins!=t.plugins&&!s.doc.eq(t.doc)?"reset":t.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=l||!this.docView.matchesNode(t.doc,m,d);(g||!t.selection.eq(s.selection))&&(c=!0);let x=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&F8(this);if(c){this.domObserver.stop();let b=g&&(cr||Bn)&&!this.composing&&!s.selection.empty&&!t.selection.empty&&cP(s.selection,t.selection);if(g){let v=Bn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$U(this)),(l||!this.docView.update(t.doc,m,d,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=yN(t.doc,m,d,this.dom,this)),v&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&fU(this))?Ys(this,b):(AE(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():x&&V8(x)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&mN(this,n.getBoundingClientRect(),t)}else mN(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let l=r.from+(this.state.doc.content.size-n.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(s=l)}this.dragging=new VE(t.slice,t.move,s<0?void 0:Be.create(this.state.doc,s))}someProp(t,n){let r=this._props&&this._props[t],s;if(r!=null&&(s=n?n(r):r))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[t];if(u!=null&&(s=n?n(u):u))return s}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let u=l[c].props[t];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(cr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&H8(this.dom),Ys(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return J8(this,t)}coordsAtPos(t,n=1){return jE(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let s=this.docView.posFromDOM(t,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(t,n){return eU(this,n||this.state,t)}pasteHTML(t,n){return Kc(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Kc(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return J0(this,t)}destroy(){this.docView&&(AU(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],_g(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,O8())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return OU(this,t)}domSelectionRange(){let t=this.domSelection();return t?Kn&&this.root.nodeType===11&&R8(this.dom.ownerDocument)==this.dom&&eP(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}ZE.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function PN(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[qn.node(0,e.state.doc.content.size,t)]}function BN(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:qn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function $N(e){return!e.someProp("editable",t=>t(e.state)===!1)}function cP(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function FN(e){let t=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(t,s)||(t[s]=r[s])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function uP(e,t){let n=0,r=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)r++;return n!=r}function VN(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ga={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Of={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dP=typeof navigator<"u"&&/Mac/.test(navigator.platform),fP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var _n=0;_n<10;_n++)Ga[48+_n]=Ga[96+_n]=String(_n);for(var _n=1;_n<=24;_n++)Ga[_n+111]="F"+_n;for(var _n=65;_n<=90;_n++)Ga[_n]=String.fromCharCode(_n+32),Of[_n]=String.fromCharCode(_n);for(var Lg in Ga)Of.hasOwnProperty(Lg)||(Of[Lg]=Ga[Lg]);function mP(e){var t=dP&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||fP&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Of:Ga)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const hP=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),pP=typeof navigator<"u"&&/Win/.test(navigator.platform);function gP(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,s,l,c;for(let u=0;u<t.length-1;u++){let d=t[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))hP?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function xP(e){let t=Object.create(null);for(let n in e)t[gP(n)]=e[n];return t}function Ug(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function bP(e){return new $t({props:{handleKeyDown:JE(e)}})}function JE(e){let t=xP(e);return function(n,r){let s=mP(r),l,c=t[Ug(s,r)];if(c&&c(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=t[Ug(s,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(pP&&r.ctrlKey&&r.altKey)&&(l=Ga[r.keyCode])&&l!=s){let u=t[Ug(l,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var yP=Object.defineProperty,tb=(e,t)=>{for(var n in t)yP(e,n,{get:t[n],enumerable:!0})};function Rm(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:s}=n,{storedMarks:l}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return l},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,l=n.storedMarks,n}}}var Lm=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:s}=n,l=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...m)=>{const p=u(...m)(l);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:l}=r,c=[],u=!!e,d=e||s.tr,m=()=>(!u&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(d),c.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,x])=>[g,(...v)=>{const j=this.buildProps(d,t),N=x(...v)(j);return c.push(N),p}])),run:m};return p}createCan(e){const{rawCommands:t,state:n}=this,r=!1,s=e||n.tr,l=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(t).map(([u,d])=>[u,(...m)=>d(...m)({...l,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:l}=r,c={tr:e,editor:r,view:l,state:Rm({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...m)=>d(...m)(c)]))}};return c}},WE={};tb(WE,{blur:()=>vP,clearContent:()=>jP,clearNodes:()=>wP,command:()=>NP,createParagraphNear:()=>kP,cut:()=>SP,deleteCurrentNode:()=>EP,deleteNode:()=>CP,deleteRange:()=>TP,deleteSelection:()=>AP,enter:()=>MP,exitCode:()=>OP,extendMarkRange:()=>zP,first:()=>DP,focus:()=>_P,forEach:()=>RP,insertContent:()=>LP,insertContentAt:()=>BP,joinBackward:()=>VP,joinDown:()=>FP,joinForward:()=>HP,joinItemBackward:()=>qP,joinItemForward:()=>GP,joinTextblockBackward:()=>KP,joinTextblockForward:()=>ZP,joinUp:()=>$P,keyboardShortcut:()=>WP,lift:()=>YP,liftEmptyBlock:()=>QP,liftListItem:()=>XP,newlineInCode:()=>e7,resetAttributes:()=>t7,scrollIntoView:()=>n7,selectAll:()=>r7,selectNodeBackward:()=>s7,selectNodeForward:()=>a7,selectParentNode:()=>i7,selectTextblockEnd:()=>l7,selectTextblockStart:()=>o7,setContent:()=>c7,setMark:()=>C7,setMeta:()=>T7,setNode:()=>A7,setNodeSelection:()=>M7,setTextDirection:()=>O7,setTextSelection:()=>z7,sinkListItem:()=>D7,splitBlock:()=>I7,splitListItem:()=>_7,toggleList:()=>R7,toggleMark:()=>L7,toggleNode:()=>U7,toggleWrap:()=>P7,undoInputRule:()=>B7,unsetAllMarks:()=>$7,unsetMark:()=>F7,unsetTextDirection:()=>V7,updateAttributes:()=>H7,wrapIn:()=>q7,wrapInList:()=>G7});var vP=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),jP=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),wP=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:s}=r;return n&&s.forEach(({$from:l,$to:c})=>{e.doc.nodesBetween(l.pos,c.pos,(u,d)=>{if(u.type.isText)return;const{doc:m,mapping:p}=t,g=m.resolve(p.map(d)),x=m.resolve(p.map(d+u.nodeSize)),b=g.blockRange(x);if(!b)return;const v=co(b);if(u.type.isTextblock){const{defaultType:j}=g.parent.contentMatchAt(g.index());t.setNodeMarkup(b.start,j)}(v||v===0)&&t.lift(b,v)})}),!0},NP=e=>t=>e(t),kP=()=>({state:e,dispatch:t})=>dE(e,t),SP=(e,t)=>({editor:n,tr:r})=>{const{state:s}=n,l=s.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const c=r.mapping.map(t);return r.insert(c,l.content),r.setSelection(new Ze(r.doc.resolve(Math.max(c-1,0)))),!0},EP=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===r.type){if(t){const u=s.before(l),d=s.after(l);e.delete(u,d).scrollIntoView()}return!0}return!1};function fn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var CP=e=>({tr:t,state:n,dispatch:r})=>{const s=fn(e,n.schema),l=t.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===s){if(r){const d=l.before(c),m=l.after(c);t.delete(d,m).scrollIntoView()}return!0}return!1},TP=e=>({tr:t,dispatch:n})=>{const{from:r,to:s}=e;return n&&t.delete(r,s),!0},AP=()=>({state:e,dispatch:t})=>$0(e,t),MP=()=>({commands:e})=>e.keyboardShortcut("Enter"),OP=()=>({state:e,dispatch:t})=>g8(e,t);function nb(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function zf(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(s=>n.strict?t[s]===e[s]:nb(t[s])?t[s].test(e[s]):t[s]===e[s]):!0}function YE(e,t,n={}){return e.find(r=>r.type===t&&zf(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function HN(e,t,n={}){return!!YE(e,t,n)}function rb(e,t,n){var r;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===t))&&(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===t)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!YE([...s.node.marks],t,n)))return;let c=s.index,u=e.start()+s.offset,d=c+1,m=u+s.node.nodeSize;for(;c>0&&HN([...e.parent.child(c-1).marks],t,n);)c-=1,u-=e.parent.child(c).nodeSize;for(;d<e.parent.childCount&&HN([...e.parent.child(d).marks],t,n);)m+=e.parent.child(d).nodeSize,d+=1;return{from:u,to:m}}function na(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var zP=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const l=na(e,r.schema),{doc:c,selection:u}=n,{$from:d,from:m,to:p}=u;if(s){const g=rb(d,l,t);if(g&&g.from<=m&&g.to>=p){const x=Ze.create(c,g.from,g.to);n.setSelection(x)}}return!0},DP=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function QE(e){return e instanceof Ze}function ki(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function XE(e,t=null){if(!t)return null;const n=et.atStart(e),r=et.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const s=n.from,l=r.to;return t==="all"?Ze.create(e,ki(0,s,l),ki(e.content.size,s,l)):Ze.create(e,ki(t,s,l),ki(t,s,l))}function IP(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function sb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var _P=(e=null,t={})=>({editor:n,view:r,tr:s,dispatch:l})=>{t={scrollIntoView:!0,...t};const c=()=>{(sb()||IP())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(l&&e===null&&!QE(n.state.selection))return c(),!0;const u=XE(s.doc,e)||n.state.selection,d=n.state.selection.eq(u);return l&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},RP=(e,t)=>n=>e.every((r,s)=>t(r,{...n,index:s})),LP=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),eC=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&eC(r)}return e};function $d(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return eC(n)}function Jc(e,t,n){if(e instanceof $a||e instanceof xe)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,s=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return xe.fromArray(e.map(u=>t.nodeFromJSON(u)));const c=t.nodeFromJSON(e);return n.errorOnInvalidContent&&c.check(),c}catch(l){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",l),Jc("",t,n)}if(s){if(n.errorOnInvalidContent){let c=!1,u="";const d=new US({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(c=!0,u=typeof m=="string"?m:m.outerHTML,null)}]}})});if(n.slice?Fa.fromSchema(d).parseSlice($d(e),n.parseOptions):Fa.fromSchema(d).parse($d(e),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const l=Fa.fromSchema(t);return n.slice?l.parseSlice($d(e),n.parseOptions).content:l.parse($d(e),n.parseOptions)}return Jc("",t,n)}function UP(e,t,n){const r=e.steps.length-1;if(r<t)return;const s=e.steps[r];if(!(s instanceof jn||s instanceof wn))return;const l=e.mapping.maps[r];let c=0;l.forEach((u,d,m,p)=>{c===0&&(c=p)}),e.setSelection(et.near(e.doc.resolve(c),n))}var PP=e=>!("type"in e),BP=(e,t,n)=>({tr:r,dispatch:s,editor:l})=>{var c;if(s){n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const d=N=>{l.emit("contentError",{editor:l,error:N,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Jc(t,l.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(N){d(N)}try{u=Jc(t,l.schema,{parseOptions:m,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(N){return d(N),!1}let{from:p,to:g}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},x=!0,b=!0;if((PP(u)?u:[u]).forEach(N=>{N.check(),x=x?N.isText&&N.marks.length===0:!1,b=b?N.isBlock:!1}),p===g&&b){const{parent:N}=r.doc.resolve(p);N.isTextblock&&!N.type.spec.code&&!N.childCount&&(p-=1,g+=1)}let j;if(x){if(Array.isArray(t))j=t.map(N=>N.text||"").join("");else if(t instanceof xe){let N="";t.forEach(k=>{k.text&&(N+=k.text)}),j=N}else typeof t=="object"&&t&&t.text?j=t.text:j=t;r.insertText(j,p,g)}else{j=u;const N=r.doc.resolve(p),k=N.node(),T=N.parentOffset===0,C=k.isText||k.isTextblock,A=k.content.size>0;T&&C&&A&&(p=Math.max(0,p-1)),r.replaceWith(p,g,j)}n.updateSelection&&UP(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:j}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:j})}return!0},$P=()=>({state:e,dispatch:t})=>m8(e,t),FP=()=>({state:e,dispatch:t})=>h8(e,t),VP=()=>({state:e,dispatch:t})=>sE(e,t),HP=()=>({state:e,dispatch:t})=>oE(e,t),qP=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Mm(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},GP=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Mm(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},KP=()=>({state:e,dispatch:t})=>d8(e,t),ZP=()=>({state:e,dispatch:t})=>f8(e,t);function tC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function JP(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,s,l,c;for(let u=0;u<t.length-1;u+=1){const d=t[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))l=!0;else if(/^mod$/i.test(d))sb()||tC()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),l&&(n=`Shift-${n}`),n}var WP=e=>({editor:t,view:n,tr:r,dispatch:s})=>{const l=JP(e).split(/-(?!$)/),c=l.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),d=t.captureTransaction(()=>{n.someProp("handleKeyDown",m=>m(n,u))});return d?.steps.forEach(m=>{const p=m.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function Ka(e,t,n={}){const{from:r,to:s,empty:l}=e.selection,c=t?fn(t,e.schema):null,u=[];e.doc.nodesBetween(r,s,(g,x)=>{if(g.isText)return;const b=Math.max(r,x),v=Math.min(s,x+g.nodeSize);u.push({node:g,from:b,to:v})});const d=s-r,m=u.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>zf(g.node.attrs,n,{strict:!1}));return l?!!m.length:m.reduce((g,x)=>g+x.to-x.from,0)>=d}var YP=(e,t={})=>({state:n,dispatch:r})=>{const s=fn(e,n.schema);return Ka(n,s,t)?p8(n,r):!1},QP=()=>({state:e,dispatch:t})=>fE(e,t),XP=e=>({state:t,dispatch:n})=>{const r=fn(e,t.schema);return C8(r)(t,n)},e7=()=>({state:e,dispatch:t})=>uE(e,t);function Um(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function qN(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,s)=>(n.includes(s)||(r[s]=e[s]),r),{})}var t7=(e,t)=>({tr:n,state:r,dispatch:s})=>{let l=null,c=null;const u=Um(typeof e=="string"?e:e.name,r.schema);if(!u)return!1;u==="node"&&(l=fn(e,r.schema)),u==="mark"&&(c=na(e,r.schema));let d=!1;return n.selection.ranges.forEach(m=>{r.doc.nodesBetween(m.$from.pos,m.$to.pos,(p,g)=>{l&&l===p.type&&(d=!0,s&&n.setNodeMarkup(g,void 0,qN(p.attrs,t))),c&&p.marks.length&&p.marks.forEach(x=>{c===x.type&&(d=!0,s&&n.addMark(g,g+p.nodeSize,c.create(qN(x.attrs,t))))})})}),d},n7=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),r7=()=>({tr:e,dispatch:t})=>{if(t){const n=new Nr(e.doc);e.setSelection(n)}return!0},s7=()=>({state:e,dispatch:t})=>iE(e,t),a7=()=>({state:e,dispatch:t})=>cE(e,t),i7=()=>({state:e,dispatch:t})=>y8(e,t),l7=()=>({state:e,dispatch:t})=>w8(e,t),o7=()=>({state:e,dispatch:t})=>j8(e,t);function Rx(e,t,n={},r={}){return Jc(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var c7=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:l,dispatch:c,commands:u})=>{const{doc:d}=l;if(r.preserveWhitespace!=="full"){const m=Rx(e,s.schema,r,{errorOnInvalidContent:t??s.options.enableContentCheck});return c&&l.replaceWith(0,d.content.size,m).setMeta("preventUpdate",!n),!0}return c&&l.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:d.content.size},e,{parseOptions:r,errorOnInvalidContent:t??s.options.enableContentCheck})};function nC(e,t){const n=na(t,e.schema),{from:r,to:s,empty:l}=e.selection,c=[];l?(e.storedMarks&&c.push(...e.storedMarks),c.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,s,d=>{c.push(...d.marks)});const u=c.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function rC(e,t){const n=new eE(e);return t.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function u7(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function d7(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(s,l)=>{n(s)&&r.push({node:s,pos:l})}),r}function f7(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Pm(e){return t=>f7(t.$from,e)}function Le(e,t,n){return e.config[t]===void 0&&e.parent?Le(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Le(e.parent,t,n):null}):e.config[t]}function ab(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Le(t,"addExtensions",n);return r?[t,...ab(r())]:t}).flat(10)}function ib(e,t){const n=Hi.fromSchema(t).serializeFragment(e),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function sC(e){return typeof e=="function"}function jt(e,t=void 0,...n){return sC(e)?t?e.bind(t)(...n):e(...n):e}function m7(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Ql(e){const t=e.filter(s=>s.type==="extension"),n=e.filter(s=>s.type==="node"),r=e.filter(s=>s.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function aC(e){const t=[],{nodeExtensions:n,markExtensions:r}=Ql(e),s=[...n,...r],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},d=Le(c,"addGlobalAttributes",u);if(!d)return;d().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([x,b])=>{t.push({type:g,name:x,attribute:{...l,...b}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},d=Le(c,"addAttributes",u);if(!d)return;const m=d();Object.entries(m).forEach(([p,g])=>{const x={...l,...g};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,t.push({type:c.name,name:p,attribute:x})})}),t}function Jt(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([s,l])=>{if(!r[s]){r[s]=l;return}if(s==="class"){const u=l?String(l).split(" "):[],d=r[s]?r[s].split(" "):[],m=u.filter(p=>!d.includes(p));r[s]=[...d,...m].join(" ")}else if(s==="style"){const u=l?l.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],m=new Map;d.forEach(p=>{const[g,x]=p.split(":").map(b=>b.trim());m.set(g,x)}),u.forEach(p=>{const[g,x]=p.split(":").map(b=>b.trim());m.set(g,x)}),r[s]=Array.from(m.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[s]=l}),r},{})}function Df(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Jt(n,r),{})}function h7(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function GN(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const s=t.reduce((l,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(n):h7(n.getAttribute(c.name));return u==null?l:{...l,[c.name]:u}},{});return{...r,...s}}}}function KN(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&m7(n)?!1:n!=null))}function ZN(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function p7(e,t){var n;const r=aC(e),{nodeExtensions:s,markExtensions:l}=Ql(e),c=(n=s.find(m=>Le(m,"topNode")))==null?void 0:n.name,u=Object.fromEntries(s.map(m=>{const p=r.filter(k=>k.type===m.name),g={name:m.name,options:m.options,storage:m.storage,editor:t},x=e.reduce((k,T)=>{const C=Le(T,"extendNodeSchema",g);return{...k,...C?C(m):{}}},{}),b=KN({...x,content:jt(Le(m,"content",g)),marks:jt(Le(m,"marks",g)),group:jt(Le(m,"group",g)),inline:jt(Le(m,"inline",g)),atom:jt(Le(m,"atom",g)),selectable:jt(Le(m,"selectable",g)),draggable:jt(Le(m,"draggable",g)),code:jt(Le(m,"code",g)),whitespace:jt(Le(m,"whitespace",g)),linebreakReplacement:jt(Le(m,"linebreakReplacement",g)),defining:jt(Le(m,"defining",g)),isolating:jt(Le(m,"isolating",g)),attrs:Object.fromEntries(p.map(ZN))}),v=jt(Le(m,"parseHTML",g));v&&(b.parseDOM=v.map(k=>GN(k,p)));const j=Le(m,"renderHTML",g);j&&(b.toDOM=k=>j({node:k,HTMLAttributes:Df(k,p)}));const N=Le(m,"renderText",g);return N&&(b.toText=N),[m.name,b]})),d=Object.fromEntries(l.map(m=>{const p=r.filter(N=>N.type===m.name),g={name:m.name,options:m.options,storage:m.storage,editor:t},x=e.reduce((N,k)=>{const T=Le(k,"extendMarkSchema",g);return{...N,...T?T(m):{}}},{}),b=KN({...x,inclusive:jt(Le(m,"inclusive",g)),excludes:jt(Le(m,"excludes",g)),group:jt(Le(m,"group",g)),spanning:jt(Le(m,"spanning",g)),code:jt(Le(m,"code",g)),attrs:Object.fromEntries(p.map(ZN))}),v=jt(Le(m,"parseHTML",g));v&&(b.parseDOM=v.map(N=>GN(N,p)));const j=Le(m,"renderHTML",g);return j&&(b.toDOM=N=>j({mark:N,HTMLAttributes:Df(N,p)})),[m.name,b]}));return new US({topNode:c,nodes:u,marks:d})}function g7(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function lb(e){return e.sort((n,r)=>{const s=Le(n,"priority")||100,l=Le(r,"priority")||100;return s>l?-1:s<l?1:0})}function iC(e){const t=lb(ab(e)),n=g7(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function lC(e,t,n){const{from:r,to:s}=t,{blockSeparator:l=`

`,textSerializers:c={}}=n||{};let u="";return e.nodesBetween(r,s,(d,m,p,g)=>{var x;d.isBlock&&m>r&&(u+=l);const b=c?.[d.type.name];if(b)return p&&(u+=b({node:d,pos:m,parent:p,index:g,range:t})),!1;d.isText&&(u+=(x=d?.text)==null?void 0:x.slice(Math.max(r,m)-m,s-m))}),u}function x7(e,t){const n={from:0,to:e.content.size};return lC(e,n,t)}function oC(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function b7(e,t){const n=fn(t,e.schema),{from:r,to:s}=e.selection,l=[];e.doc.nodesBetween(r,s,u=>{l.push(u)});const c=l.reverse().find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function cC(e,t){const n=Um(typeof t=="string"?t:t.name,e.schema);return n==="node"?b7(e,t):n==="mark"?nC(e,t):{}}function y7(e,t=JSON.stringify){const n={};return e.filter(r=>{const s=t(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function v7(e){const t=y7(e);return t.length===1?t:t.filter((n,r)=>!t.filter((l,c)=>c!==r).some(l=>n.oldRange.from>=l.oldRange.from&&n.oldRange.to<=l.oldRange.to&&n.newRange.from>=l.newRange.from&&n.newRange.to<=l.newRange.to))}function uC(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((s,l)=>{const c=[];if(s.ranges.length)s.forEach((u,d)=>{c.push({from:u,to:d})});else{const{from:u,to:d}=n[l];if(u===void 0||d===void 0)return;c.push({from:u,to:d})}c.forEach(({from:u,to:d})=>{const m=t.slice(l).map(u,-1),p=t.slice(l).map(d),g=t.invert().map(m,-1),x=t.invert().map(p);r.push({oldRange:{from:g,to:x},newRange:{from:m,to:p}})})}),v7(r)}function ob(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(s=>{const l=n.resolve(e),c=rb(l,s.type);c&&r.push({mark:s,...c})}):n.nodesBetween(e,t,(s,l)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(c=>({from:l,to:l+s.nodeSize,mark:c})))}),r}var j7=(e,t,n,r=20)=>{const s=e.doc.resolve(n);let l=r,c=null;for(;l>0&&c===null;){const u=s.node(l);u?.type.name===t?c=u:l-=1}return[c,l]};function Pg(e,t){return t.nodes[e]||t.marks[e]||null}function lf(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=e.find(l=>l.type===t&&l.name===r);return s?s.attribute.keepOnSplit:!1}))}var w7=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(s,l,c,u)=>{var d,m;const p=((m=(d=s.type.spec).toText)==null?void 0:m.call(d,{node:s,pos:l,parent:c,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-l))}),n};function Lx(e,t,n={}){const{empty:r,ranges:s}=e.selection,l=t?na(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(g=>l?l.name===g.type.name:!0).find(g=>zf(g.attrs,n,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:g,$to:x})=>{const b=g.pos,v=x.pos;e.doc.nodesBetween(b,v,(j,N)=>{if(!j.isText&&!j.marks.length)return;const k=Math.max(b,N),T=Math.min(v,N+j.nodeSize),C=T-k;c+=C,u.push(...j.marks.map(A=>({mark:A,from:k,to:T})))})}),c===0)return!1;const d=u.filter(g=>l?l.name===g.mark.type.name:!0).filter(g=>zf(g.mark.attrs,n,{strict:!1})).reduce((g,x)=>g+x.to-x.from,0),m=u.filter(g=>l?g.mark.type!==l&&g.mark.type.excludes(l):!0).reduce((g,x)=>g+x.to-x.from,0);return(d>0?d+m:d)>=c}function N7(e,t,n={}){if(!t)return Ka(e,null,n)||Lx(e,null,n);const r=Um(t,e.schema);return r==="node"?Ka(e,t,n):r==="mark"?Lx(e,t,n):!1}var k7=(e,t)=>{const{$from:n,$to:r,$anchor:s}=e.selection;if(t){const l=Pm(u=>u.type.name===t)(e.selection);if(!l)return!1;const c=e.doc.resolve(l.pos+1);return s.pos+1===c.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},S7=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function JN(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function WN(e,t){const{nodeExtensions:n}=Ql(t),r=n.find(c=>c.name===e);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},l=jt(Le(r,"group",s));return typeof l!="string"?!1:l.split(" ").includes("list")}function Bm(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let s=!0;return e.content.forEach(l=>{s!==!1&&(Bm(l,{ignoreWhitespace:n,checkChildren:t})||(s=!1))}),s}return!1}function dC(e){return e instanceof Be}function E7(e,t,n){var r;const{selection:s}=t;let l=null;if(QE(s)&&(l=s.$cursor),l){const u=(r=e.storedMarks)!=null?r:l.marks();return l.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(m=>m.type.excludes(n)))}const{ranges:c}=s;return c.some(({$from:u,$to:d})=>{let m=u.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(u.pos,d.pos,(p,g,x)=>{if(m)return!1;if(p.isInline){const b=!x||x.type.allowsMarkType(n),v=!!n.isInSet(p.marks)||!p.marks.some(j=>j.type.excludes(n));m=b&&v}return!m}),m})}var C7=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const{selection:l}=n,{empty:c,ranges:u}=l,d=na(e,r.schema);if(s)if(c){const m=nC(r,d);n.addStoredMark(d.create({...m,...t}))}else u.forEach(m=>{const p=m.$from.pos,g=m.$to.pos;r.doc.nodesBetween(p,g,(x,b)=>{const v=Math.max(b,p),j=Math.min(b+x.nodeSize,g);x.marks.find(k=>k.type===d)?x.marks.forEach(k=>{d===k.type&&n.addMark(v,j,d.create({...k.attrs,...t}))}):n.addMark(v,j,d.create(t))})});return E7(r,n,d)},T7=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),A7=(e,t={})=>({state:n,dispatch:r,chain:s})=>{const l=fn(e,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l.isTextblock?s().command(({commands:u})=>uN(l,{...c,...t})(n)?!0:u.clearNodes()).command(({state:u})=>uN(l,{...c,...t})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},M7=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,s=ki(e,0,r.content.size),l=Be.create(r,s);t.setSelection(l)}return!0},O7=(e,t)=>({tr:n,state:r,dispatch:s})=>{const{selection:l}=r;let c,u;return typeof t=="number"?(c=t,u=t):t&&"from"in t&&"to"in t?(c=t.from,u=t.to):(c=l.from,u=l.to),s&&n.doc.nodesBetween(c,u,(d,m)=>{d.isText||n.setNodeMarkup(m,void 0,{...d.attrs,dir:e})}),!0},z7=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:s,to:l}=typeof e=="number"?{from:e,to:e}:e,c=Ze.atStart(r).from,u=Ze.atEnd(r).to,d=ki(s,c,u),m=ki(l,c,u),p=Ze.create(r,d,m);t.setSelection(p)}return!0},D7=e=>({state:t,dispatch:n})=>{const r=fn(e,t.schema);return M8(r)(t,n)};function YN(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(s=>t?.includes(s.type.name));e.tr.ensureMarks(r)}}var I7=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:s})=>{const{selection:l,doc:c}=t,{$from:u,$to:d}=l,m=s.extensionManager.attributes,p=lf(m,u.node().type.name,u.node().attrs);if(l instanceof Be&&l.node.isBlock)return!u.parentOffset||!Ws(c,u.pos)?!1:(r&&(e&&YN(n,s.extensionManager.splittableMarks),t.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,x=u.depth===0?void 0:u7(u.node(-1).contentMatchAt(u.indexAfter(-1)));let b=g&&x?[{type:x,attrs:p}]:void 0,v=Ws(t.doc,t.mapping.map(u.pos),1,b);if(!b&&!v&&Ws(t.doc,t.mapping.map(u.pos),1,x?[{type:x}]:void 0)&&(v=!0,b=x?[{type:x,attrs:p}]:void 0),r){if(v&&(l instanceof Ze&&t.deleteSelection(),t.split(t.mapping.map(u.pos),1,b),x&&!g&&!u.parentOffset&&u.parent.type!==x)){const j=t.mapping.map(u.before()),N=t.doc.resolve(j);u.node(-1).canReplaceWith(N.index(),N.index()+1,x)&&t.setNodeMarkup(t.mapping.map(u.before()),x)}e&&YN(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return v},_7=(e,t={})=>({tr:n,state:r,dispatch:s,editor:l})=>{var c;const u=fn(e,r.schema),{$from:d,$to:m}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(m))return!1;const g=d.node(-1);if(g.type!==u)return!1;const x=l.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let k=xe.empty;const T=d.index(-1)?1:d.index(-2)?2:3;for(let L=d.depth-T;L>=d.depth-3;L-=1)k=xe.from(d.node(L).copy(k));const C=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,A={...lf(x,d.node().type.name,d.node().attrs),...t},M=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(A))||void 0;k=k.append(xe.from(u.createAndFill(null,M)||void 0));const D=d.before(d.depth-(T-1));n.replace(D,d.after(-C),new ke(k,4-T,0));let z=-1;n.doc.nodesBetween(D,n.doc.content.size,(L,K)=>{if(z>-1)return!1;L.isTextblock&&L.content.size===0&&(z=K+1)}),z>-1&&n.setSelection(Ze.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const b=m.pos===d.end()?g.contentMatchAt(0).defaultType:null,v={...lf(x,g.type.name,g.attrs),...t},j={...lf(x,d.node().type.name,d.node().attrs),...t};n.delete(d.pos,m.pos);const N=b?[{type:u,attrs:v},{type:b,attrs:j}]:[{type:u,attrs:v}];if(!Ws(n.doc,d.pos,2))return!1;if(s){const{selection:k,storedMarks:T}=r,{splittableMarks:C}=l.extensionManager,A=T||k.$to.parentOffset&&k.$from.marks();if(n.split(d.pos,2,N).scrollIntoView(),!A||!s)return!0;const M=A.filter(D=>C.includes(D.type.name));n.ensureMarks(M)}return!0},Bg=(e,t)=>{const n=Pm(c=>c.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===s?.type&&Wa(e.doc,n.pos)&&e.join(n.pos),!0},$g=(e,t)=>{const n=Pm(c=>c.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=e.doc.nodeAt(r);return n.node.type===s?.type&&Wa(e.doc,r)&&e.join(r),!0},R7=(e,t,n,r={})=>({editor:s,tr:l,state:c,dispatch:u,chain:d,commands:m,can:p})=>{const{extensions:g,splittableMarks:x}=s.extensionManager,b=fn(e,c.schema),v=fn(t,c.schema),{selection:j,storedMarks:N}=c,{$from:k,$to:T}=j,C=k.blockRange(T),A=N||j.$to.parentOffset&&j.$from.marks();if(!C)return!1;const M=Pm(D=>WN(D.type.name,g))(j);if(C.depth>=1&&M&&C.depth-M.depth<=1){if(M.node.type===b)return m.liftListItem(v);if(WN(M.node.type.name,g)&&b.validContent(M.node.content)&&u)return d().command(()=>(l.setNodeMarkup(M.pos,b),!0)).command(()=>Bg(l,b)).command(()=>$g(l,b)).run()}return!n||!A||!u?d().command(()=>p().wrapInList(b,r)?!0:m.clearNodes()).wrapInList(b,r).command(()=>Bg(l,b)).command(()=>$g(l,b)).run():d().command(()=>{const D=p().wrapInList(b,r),z=A.filter(L=>x.includes(L.type.name));return l.ensureMarks(z),D?!0:m.clearNodes()}).wrapInList(b,r).command(()=>Bg(l,b)).command(()=>$g(l,b)).run()},L7=(e,t={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:l=!1}=n,c=na(e,r.schema);return Lx(r,c,t)?s.unsetMark(c,{extendEmptyMarkRange:l}):s.setMark(c,t)},U7=(e,t,n={})=>({state:r,commands:s})=>{const l=fn(e,r.schema),c=fn(t,r.schema),u=Ka(r,l,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),u?s.setNode(c,d):s.setNode(l,{...d,...n})},P7=(e,t={})=>({state:n,commands:r})=>{const s=fn(e,n.schema);return Ka(n,s,t)?r.lift(s):r.wrapIn(s,t)},B7=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let l;if(s.spec.isInputRules&&(l=s.getState(e))){if(t){const c=e.tr,u=l.transform;for(let d=u.steps.length-1;d>=0;d-=1)c.step(u.steps[d].invert(u.docs[d]));if(l.text){const d=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,e.schema.text(l.text,d))}else c.delete(l.from,l.to)}return!0}}return!1},$7=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:s}=n;return r||t&&s.forEach(l=>{e.removeMark(l.$from.pos,l.$to.pos)}),!0},F7=(e,t={})=>({tr:n,state:r,dispatch:s})=>{var l;const{extendEmptyMarkRange:c=!1}=t,{selection:u}=n,d=na(e,r.schema),{$from:m,empty:p,ranges:g}=u;if(!s)return!0;if(p&&c){let{from:x,to:b}=u;const v=(l=m.marks().find(N=>N.type===d))==null?void 0:l.attrs,j=rb(m,d,v);j&&(x=j.from,b=j.to),n.removeMark(x,b,d)}else g.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,d)});return n.removeStoredMark(d),!0},V7=e=>({tr:t,state:n,dispatch:r})=>{const{selection:s}=n;let l,c;return typeof e=="number"?(l=e,c=e):e&&"from"in e&&"to"in e?(l=e.from,c=e.to):(l=s.from,c=s.to),r&&t.doc.nodesBetween(l,c,(u,d)=>{if(u.isText)return;const m={...u.attrs};delete m.dir,t.setNodeMarkup(d,void 0,m)}),!0},H7=(e,t={})=>({tr:n,state:r,dispatch:s})=>{let l=null,c=null;const u=Um(typeof e=="string"?e:e.name,r.schema);if(!u)return!1;u==="node"&&(l=fn(e,r.schema)),u==="mark"&&(c=na(e,r.schema));let d=!1;return n.selection.ranges.forEach(m=>{const p=m.$from.pos,g=m.$to.pos;let x,b,v,j;n.selection.empty?r.doc.nodesBetween(p,g,(N,k)=>{l&&l===N.type&&(d=!0,v=Math.max(k,p),j=Math.min(k+N.nodeSize,g),x=k,b=N)}):r.doc.nodesBetween(p,g,(N,k)=>{k<p&&l&&l===N.type&&(d=!0,v=Math.max(k,p),j=Math.min(k+N.nodeSize,g),x=k,b=N),k>=p&&k<=g&&(l&&l===N.type&&(d=!0,s&&n.setNodeMarkup(k,void 0,{...N.attrs,...t})),c&&N.marks.length&&N.marks.forEach(T=>{if(c===T.type&&(d=!0,s)){const C=Math.max(k,p),A=Math.min(k+N.nodeSize,g);n.addMark(C,A,c.create({...T.attrs,...t}))}}))}),b&&(x!==void 0&&s&&n.setNodeMarkup(x,void 0,{...b.attrs,...t}),c&&b.marks.length&&b.marks.forEach(N=>{c===N.type&&s&&n.addMark(v,j,c.create({...N.attrs,...t}))}))}),d},q7=(e,t={})=>({state:n,dispatch:r})=>{const s=fn(e,n.schema);return N8(s,t)(n,r)},G7=(e,t={})=>({state:n,dispatch:r})=>{const s=fn(e,n.schema);return k8(s,t)(n,r)},K7=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},$m=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},Z7=(e,t)=>{if(nb(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Fd(e){var t;const{editor:n,from:r,to:s,text:l,rules:c,plugin:u}=e,{view:d}=n;if(d.composing)return!1;const m=d.state.doc.resolve(r);if(m.parent.type.spec.code||(t=m.nodeBefore||m.nodeAfter)!=null&&t.marks.find(x=>x.type.spec.code))return!1;let p=!1;const g=w7(m)+l;return c.forEach(x=>{if(p)return;const b=Z7(g,x.find);if(!b)return;const v=d.state.tr,j=Rm({state:d.state,transaction:v}),N={from:r-(b[0].length-l.length),to:s},{commands:k,chain:T,can:C}=new Lm({editor:n,state:j});x.handler({state:j,range:N,match:b,commands:k,chain:T,can:C})===null||!v.steps.length||(x.undoable&&v.setMeta(u,{transform:v,from:r,to:s,text:l}),d.dispatch(v),p=!0)}),p}function J7(e){const{editor:t,rules:n}=e,r=new $t({state:{init(){return null},apply(s,l,c){const u=s.getMeta(r);if(u)return u;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=ib(xe.from(p),c.schema);const{from:g}=d,x=g+p.length;Fd({editor:t,from:g,to:x,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:l}},props:{handleTextInput(s,l,c,u){return Fd({editor:t,from:l,to:c,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:l}=s.state.selection;l&&Fd({editor:t,from:l.pos,to:l.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,l){if(l.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?Fd({editor:t,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function W7(e){return Object.prototype.toString.call(e).slice(8,-1)}function Vd(e){return W7(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function fC(e,t){const n={...e};return Vd(e)&&Vd(t)&&Object.keys(t).forEach(r=>{Vd(t[r])&&Vd(e[r])?n[r]=fC(e[r],t[r]):n[r]=t[r]}),n}var cb=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...jt(Le(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...jt(Le(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>fC(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},Qa=class mC extends cb{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new mC(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,s=t.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(m=>m?.type.name===n.name))return!1;const d=c.find(m=>m?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Y7(e){return typeof e=="number"}var Q7=class{constructor(e){this.find=e.find,this.handler=e.handler}},X7=(e,t,n)=>{if(nb(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(s=>{const l=[s.text];return l.index=s.index,l.input=e,l.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(s.replaceWith)),l}):[]};function eB(e){const{editor:t,state:n,from:r,to:s,rule:l,pasteEvent:c,dropEvent:u}=e,{commands:d,chain:m,can:p}=new Lm({editor:t,state:n}),g=[];return n.doc.nodesBetween(r,s,(b,v)=>{var j,N,k,T,C;if((N=(j=b.type)==null?void 0:j.spec)!=null&&N.code||!(b.isText||b.isTextblock||b.isInline))return;const A=(C=(T=(k=b.content)==null?void 0:k.size)!=null?T:b.nodeSize)!=null?C:0,M=Math.max(r,v),D=Math.min(s,v+A);if(M>=D)return;const z=b.isText?b.text||"":b.textBetween(M-v,D-v,void 0,"");X7(z,l.find,c).forEach(K=>{if(K.index===void 0)return;const X=M+K.index+1,R=X+K[0].length,_={from:n.tr.mapping.map(X),to:n.tr.mapping.map(R)},U=l.handler({state:n,range:_,match:K,commands:d,chain:m,can:p,pasteEvent:c,dropEvent:u});g.push(U)})}),g.every(b=>b!==null)}var Hd=null,tB=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function nB(e){const{editor:t,rules:n}=e;let r=null,s=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:p,from:g,to:x,rule:b,pasteEvt:v})=>{const j=p.tr,N=Rm({state:p,transaction:j});if(!(!eB({editor:t,state:N,from:Math.max(g-1,0),to:x.b-1,rule:b,pasteEvent:v,dropEvent:u})||!j.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return n.map(p=>new $t({view(g){const x=v=>{var j;r=(j=g.dom.parentElement)!=null&&j.contains(v.target)?g.dom.parentElement:null,r&&(Hd=t)},b=()=>{Hd&&(Hd=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(g,x)=>{if(l=r===g.dom.parentElement,u=x,!l){const b=Hd;b?.isEditable&&setTimeout(()=>{const v=b.state.selection;v&&b.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(g,x)=>{var b;const v=(b=x.clipboardData)==null?void 0:b.getData("text/html");return c=x,s=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(g,x,b)=>{const v=g[0],j=v.getMeta("uiEvent")==="paste"&&!s,N=v.getMeta("uiEvent")==="drop"&&!l,k=v.getMeta("applyPasteRules"),T=!!k;if(!j&&!N&&!T)return;if(T){let{text:M}=k;typeof M=="string"?M=M:M=ib(xe.from(M),b.schema);const{from:D}=k,z=D+M.length,L=tB(M);return d({rule:p,state:b,from:D,to:{b:z},pasteEvt:L})}const C=x.doc.content.findDiffStart(b.doc.content),A=x.doc.content.findDiffEnd(b.doc.content);if(!(!Y7(C)||!A||C===A.b))return d({rule:p,state:b,from:C,to:A,pasteEvt:c})}}))}var Fm=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=iC(e),this.schema=p7(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Pg(t.name,this.schema)},r=Le(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return lb([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Pg(r.name,this.schema)},l=[],c=Le(r,"addKeyboardShortcuts",s);let u={};if(r.type==="mark"&&Le(r,"exitable",s)&&(u.ArrowRight=()=>Qa.handleExit({editor:e,mark:r})),c){const x=Object.fromEntries(Object.entries(c()).map(([b,v])=>[b,()=>v({editor:e})]));u={...u,...x}}const d=bP(u);l.push(d);const m=Le(r,"addInputRules",s);if(JN(r,e.options.enableInputRules)&&m){const x=m();if(x&&x.length){const b=J7({editor:e,rules:x}),v=Array.isArray(b)?b:[b];l.push(...v)}}const p=Le(r,"addPasteRules",s);if(JN(r,e.options.enablePasteRules)&&p){const x=p();if(x&&x.length){const b=nB({editor:e,rules:x});l.push(...b)}}const g=Le(r,"addProseMirrorPlugins",s);if(g){const x=g();l.push(...x)}return l})}get attributes(){return aC(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ql(this.extensions);return Object.fromEntries(t.filter(n=>!!Le(n,"addNodeView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:fn(n.name,this.schema)},l=Le(n,"addNodeView",s);if(!l)return[];const c=l();if(!c)return[];const u=(d,m,p,g,x)=>{const b=Df(d,r);return c({node:d,view:m,getPos:p,decorations:g,innerDecorations:x,editor:e,extension:n,HTMLAttributes:b})};return[n.name,u]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Ql(this.extensions);return Object.fromEntries(t.filter(n=>!!Le(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:na(n.name,this.schema)},l=Le(n,"addMarkView",s);if(!l)return[];const c=(u,d,m)=>{const p=Df(u,r);return l()({mark:u,view:d,inline:m,editor:e,extension:n,HTMLAttributes:p,updateAttributes:g=>{xB(u,e,g)}})};return[n.name,c]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Pg(t.name,this.schema)};t.type==="mark"&&((n=jt(Le(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const s=Le(t,"onBeforeCreate",r),l=Le(t,"onCreate",r),c=Le(t,"onUpdate",r),u=Le(t,"onSelectionUpdate",r),d=Le(t,"onTransaction",r),m=Le(t,"onFocus",r),p=Le(t,"onBlur",r),g=Le(t,"onDestroy",r);s&&this.editor.on("beforeCreate",s),l&&this.editor.on("create",l),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),m&&this.editor.on("focus",m),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};Fm.resolve=iC;Fm.sort=lb;Fm.flatten=ab;var rB={};tb(rB,{ClipboardTextSerializer:()=>pC,Commands:()=>gC,Delete:()=>xC,Drop:()=>bC,Editable:()=>yC,FocusEvents:()=>jC,Keymap:()=>wC,Paste:()=>NC,Tabindex:()=>kC,TextDirection:()=>SC,focusEventsPluginKey:()=>vC});var Et=class hC extends cb{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new hC(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},pC=Et.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new $t({key:new gn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:s}=t,{ranges:l}=s,c=Math.min(...l.map(p=>p.$from.pos)),u=Math.max(...l.map(p=>p.$to.pos)),d=oC(n);return lC(r,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),gC=Et.create({name:"commands",addCommands(){return{...WE}}}),xC=Et.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,s;const l=()=>{var c,u,d,m;if((m=(d=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,e))!=null?m:e.getMeta("y-sync$"))return;const p=rC(e.before,[e,...t]);uC(p).forEach(b=>{p.mapping.mapResult(b.oldRange.from).deletedAfter&&p.mapping.mapResult(b.oldRange.to).deletedBefore&&p.before.nodesBetween(b.oldRange.from,b.oldRange.to,(v,j)=>{const N=j+v.nodeSize-2,k=b.oldRange.from<=j&&N<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:j,to:N,newFrom:p.mapping.map(j),newTo:p.mapping.map(N),deletedRange:b.oldRange,newRange:b.newRange,partial:!k,editor:this.editor,transaction:e,combinedTransform:p})})});const x=p.mapping;p.steps.forEach((b,v)=>{var j,N;if(b instanceof Yr){const k=x.slice(v).map(b.from,-1),T=x.slice(v).map(b.to),C=x.invert().map(k,-1),A=x.invert().map(T),M=(j=p.doc.nodeAt(k-1))==null?void 0:j.marks.some(z=>z.eq(b.mark)),D=(N=p.doc.nodeAt(T))==null?void 0:N.marks.some(z=>z.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:C,to:A},newRange:{from:k,to:T},partial:!!(D||M),editor:this.editor,transaction:e,combinedTransform:p})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(l,0):l()}}),bC=Et.create({name:"drop",addProseMirrorPlugins(){return[new $t({key:new gn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),yC=Et.create({name:"editable",addProseMirrorPlugins(){return[new $t({key:new gn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),vC=new gn("focusEvents"),jC=Et.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new $t({key:vC,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),wC=Et.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:d,doc:m}=u,{empty:p,$anchor:g}=d,{pos:x,parent:b}=g,v=g.parent.isTextblock&&x>0?u.doc.resolve(x-1):g,j=v.parent.type.spec.isolating,N=g.pos-g.parentOffset,k=j&&v.parent.childCount===1?N===g.pos:et.atStart(m).from===x;return!p||!b.type.isTextblock||b.textContent.length||!k||k&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},l={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return sb()||tC()?l:s},addProseMirrorPlugins(){return[new $t({key:new gn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(j=>j.getMeta("composition")))return;const r=e.some(j=>j.docChanged)&&!t.doc.eq(n.doc),s=e.some(j=>j.getMeta("preventClearDocument"));if(!r||s)return;const{empty:l,from:c,to:u}=t.selection,d=et.atStart(t.doc).from,m=et.atEnd(t.doc).to;if(l||!(c===d&&u===m)||!Bm(n.doc))return;const x=n.tr,b=Rm({state:n,transaction:x}),{commands:v}=new Lm({editor:this.editor,state:b});if(v.clearNodes(),!!x.steps.length)return x}})]}}),NC=Et.create({name:"paste",addProseMirrorPlugins(){return[new $t({key:new gn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),kC=Et.create({name:"tabindex",addProseMirrorPlugins(){return[new $t({key:new gn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),SC=Et.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Ql(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new $t({key:new gn("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),sB=class Ll{constructor(t,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Ll(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Ll(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Ll(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,l=n.isAtom&&!n.isText,c=this.pos+r+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!s&&u.depth<=this.depth)return;const d=new Ll(u,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),t.push(new Ll(u,this.editor,s,s?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===t)if(Object.keys(n).length>0){const l=s.node.attrs,c=Object.keys(n);for(let u=0;u<c.length;u+=1){const d=c[u];if(l[d]!==n[d])break}}else r=s;s=s.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const l=Object.keys(n);return this.children.forEach(c=>{r&&s.length>0||(c.node.type.name===t&&l.every(d=>n[d]===c.node.attrs[d])&&s.push(c),!(r&&s.length>0)&&(s=s.concat(c.querySelectorAll(t,n,r))))}),s}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},aB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function iB(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.setAttribute("data-tiptap-style",""),s.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(s),s}var lB=class extends K7{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:l})=>this.options.onDrop(r,s,l)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=XE(t,this.options.autofocus);this.editorState=Bl.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=iB(aB,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=sC(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(s=>{const l=typeof s=="string"?`${s}$`:s.key;n=n.filter(c=>!c.key.startsWith(l))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[yC,pC.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),gC,jC,wC,kC,bC,NC,xC,SC.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Fm(r,this)}createCommandManager(){this.commandManager=new Lm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Rx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=Rx(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new ZE(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(m=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(m)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),s=n.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!s)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const c=n.findLast(m=>m.getMeta("focus")||m.getMeta("blur")),u=c?.getMeta("focus"),d=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),d&&this.emit("blur",{editor:this,event:d.event,transaction:c}),!(e.getMeta("preventUpdate")||!n.some(m=>m.docChanged)||l.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return cC(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return N7(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ib(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return x7(this.state.doc,{blockSeparator:t,textSerializers:{...oC(this.schema),...n}})}get isEmpty(){return Bm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new sB(t,this)}get $doc(){return this.$pos(0)}};function Xl(e){return new $m({find:e.find,handler:({state:t,range:n,match:r})=>{const s=jt(e.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:l}=t,c=r[r.length-1],u=r[0];if(c){const d=u.search(/\S/),m=n.from+u.indexOf(c),p=m+c.length;if(ob(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(j=>j===e.type&&j!==b.mark.type)).filter(b=>b.to>m).length)return null;p<n.to&&l.delete(p,n.to),m>n.from&&l.delete(n.from+d,m);const x=n.from+d+c.length;l.addMark(n.from+d,x,e.type.create(s||{})),l.removeStoredMark(e.type)}},undoable:e.undoable})}function EC(e){return new $m({find:e.find,handler:({state:t,range:n,match:r})=>{const s=jt(e.getAttributes,void 0,r)||{},{tr:l}=t,c=n.from;let u=n.to;const d=e.type.create(s);if(r[1]){const m=r[0].lastIndexOf(r[1]);let p=c+m;p>u?p=u:u=p+r[1].length;const g=r[0][r[0].length-1];l.insertText(g,c+r[0].length-1),l.replaceWith(p,u,d)}else if(r[0]){const m=e.type.isInline?c:c-1;l.insert(m,e.type.create(s)).delete(l.mapping.map(c),l.mapping.map(u))}l.scrollIntoView()},undoable:e.undoable})}function Ux(e){return new $m({find:e.find,handler:({state:t,range:n,match:r})=>{const s=t.doc.resolve(n.from),l=jt(e.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,l)},undoable:e.undoable})}function eo(e){return new $m({find:e.find,handler:({state:t,range:n,match:r,chain:s})=>{const l=jt(e.getAttributes,void 0,r)||{},c=t.tr.delete(n.from,n.to),d=c.doc.resolve(n.from).blockRange(),m=d&&P0(d,e.type,l);if(!m)return null;if(c.wrap(d,m),e.keepMarks&&e.editor){const{selection:g,storedMarks:x}=t,{splittableMarks:b}=e.editor.extensionManager,v=x||g.$to.parentOffset&&g.$from.marks();if(v){const j=v.filter(N=>b.includes(N.type.name));c.ensureMarks(j)}}if(e.keepAttributes){const g=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,l).run()}const p=c.doc.resolve(n.from-1).nodeBefore;p&&p.type===e.type&&Wa(c.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,p))&&c.join(n.from-1)},undoable:e.undoable})}var oB=e=>"touches"in e,cB=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=c=>{if(!this.isResizing||!this.activeHandle)return;const u=c.clientX-this.startX,d=c.clientY-this.startY;this.handleResize(u,d)},this.handleTouchMove=c=>{if(!this.isResizing||!this.activeHandle)return;const u=c.touches[0];if(!u)return;const d=u.clientX-this.startX,m=u.clientY-this.startY;this.handleResize(d,m)},this.handleMouseUp=()=>{if(!this.isResizing)return;const c=this.element.offsetWidth,u=this.element.offsetHeight;this.onCommit(c,u),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,r,s,l;this.node=e.node,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(r=e?.options)!=null&&r.directions&&(this.directions=e.options.directions),(s=e.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(l=e.options)!=null&&l.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="flex-start",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),s=t.includes("left"),l=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),s&&(e.style.left="0"),l&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{const t=this.createHandle(e);this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.wrapper.appendChild(t)})}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,oB(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,e,t),l=this.applyConstraints(r,s,n);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,s=this.startHeight;const l=e.includes("right"),c=e.includes("left"),u=e.includes("bottom"),d=e.includes("top");return l?r=this.startWidth+t:c&&(r=this.startWidth-t),u?s=this.startHeight+n:d&&(s=this.startHeight-n),(e==="right"||e==="left")&&(r=this.startWidth+(l?t:-t)),(e==="top"||e==="bottom")&&(s=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,e):{width:r,height:s}}applyConstraints(e,t,n){var r,s,l,c;if(!n){let m=Math.max(this.minSize.width,e),p=Math.max(this.minSize.height,t);return(r=this.maxSize)!=null&&r.width&&(m=Math.min(this.maxSize.width,m)),(s=this.maxSize)!=null&&s.height&&(p=Math.min(this.maxSize.height,p)),{width:m,height:p}}let u=e,d=t;return u<this.minSize.width&&(u=this.minSize.width,d=u/this.aspectRatio),d<this.minSize.height&&(d=this.minSize.height,u=d*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&u>this.maxSize.width&&(u=this.maxSize.width,d=u/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&d>this.maxSize.height&&(d=this.maxSize.height,u=d*this.aspectRatio),{width:u,height:d}}applyAspectRatio(e,t,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:e,height:e/this.aspectRatio}:s?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function uB(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Be){const l=r.index();return r.parent.canReplaceWith(l,l+1,t)}let s=r.depth;for(;s>=0;){const l=r.index(s);if(r.node(s).contentMatchAt(l).matchType(t))return!0;s-=1}return!1}var dB={};tb(dB,{createAtomBlockMarkdownSpec:()=>fB,createBlockMarkdownSpec:()=>mB,createInlineMarkdownSpec:()=>gB,parseAttributes:()=>ub,parseIndentedBlocks:()=>Px,renderNestedMarkdownContent:()=>fb,serializeAttributes:()=>db});function ub(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,m=>(n.push(m),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const m=s.map(p=>p.trim().slice(1));t.class=m.join(" ")}const l=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(t.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(c)).forEach(([,m,p])=>{var g;const x=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),b=n[x];b&&(t[m]=b.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(t[p]=!0)}),t}function db(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function fB(e){const{nodeName:t,name:n,parseAttributes:r=ub,serializeAttributes:s=db,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:u}=e,d=n||t,m=p=>{if(!u)return p;const g={};return u.forEach(x=>{x in p&&(g[x]=p[x])}),g};return{parseMarkdown:(p,g)=>{const x={...l,...p.attributes};return g.createNode(t,x,[])},markdownTokenizer:{name:t,level:"block",start(p){var g;const x=new RegExp(`^:::${d}(?:\\s|$)`,"m"),b=(g=p.match(x))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(p,g,x){const b=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=p.match(b);if(!v)return;const j=v[1]||"",N=r(j);if(!c.find(T=>!(T in N)))return{type:t,raw:v[0],attributes:N}}},renderMarkdown:p=>{const g=m(p.attrs||{}),x=s(g),b=x?` {${x}}`:"";return`:::${d}${b} :::`}}}function mB(e){const{nodeName:t,name:n,getContent:r,parseAttributes:s=ub,serializeAttributes:l=db,defaultAttributes:c={},content:u="block",allowedAttributes:d}=e,m=n||t,p=g=>{if(!d)return g;const x={};return d.forEach(b=>{b in g&&(x[b]=g[b])}),x};return{parseMarkdown:(g,x)=>{let b;if(r){const j=r(g);b=typeof j=="string"?[{type:"text",text:j}]:j}else u==="block"?b=x.parseChildren(g.tokens||[]):b=x.parseInline(g.tokens||[]);const v={...c,...g.attributes};return x.createNode(t,v,b)},markdownTokenizer:{name:t,level:"block",start(g){var x;const b=new RegExp(`^:::${m}`,"m"),v=(x=g.match(b))==null?void 0:x.index;return v!==void 0?v:-1},tokenize(g,x,b){var v;const j=new RegExp(`^:::${m}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),N=g.match(j);if(!N)return;const[k,T=""]=N,C=s(T);let A=1;const M=k.length;let D="";const z=/^:::([\w-]*)(\s.*)?/gm,L=g.slice(M);for(z.lastIndex=0;;){const K=z.exec(L);if(K===null)break;const X=K.index,R=K[1];if(!((v=K[2])!=null&&v.endsWith(":::"))){if(R)A+=1;else if(A-=1,A===0){const _=L.slice(0,X);D=_.trim();const U=g.slice(0,M+X+K[0].length);let P=[];if(D)if(u==="block")for(P=b.blockTokens(_),P.forEach(G=>{G.text&&(!G.tokens||G.tokens.length===0)&&(G.tokens=b.inlineTokens(G.text))});P.length>0;){const G=P[P.length-1];if(G.type==="paragraph"&&(!G.text||G.text.trim()===""))P.pop();else break}else P=b.inlineTokens(D);return{type:t,raw:U,attributes:C,content:D,tokens:P}}}}}},renderMarkdown:(g,x)=>{const b=p(g.attrs||{}),v=l(b),j=v?` {${v}}`:"",N=x.renderChildren(g.content||[],`

`);return`:::${m}${j}

${N}

:::`}}}function hB(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,s,l,c]=r;t[s]=l||c,r=n.exec(e)}return t}function pB(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function gB(e){const{nodeName:t,name:n,getContent:r,parseAttributes:s=hB,serializeAttributes:l=pB,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:d}=e,m=n||t,p=x=>{if(!d)return x;const b={};return d.forEach(v=>{v in x&&(b[v]=x[v])}),b},g=m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,b)=>{const v={...c,...x.attributes};if(u)return b.createNode(t,v);const j=r?r(x):x.content||"";return j?b.createNode(t,v,[b.createTextNode(j)]):b.createNode(t,v,[])},markdownTokenizer:{name:t,level:"inline",start(x){const b=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),v=x.match(b),j=v?.index;return j!==void 0?j:-1},tokenize(x,b,v){const j=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),N=x.match(j);if(!N)return;let k="",T="";if(u){const[,A]=N;T=A}else{const[,A,M]=N;T=A,k=M||""}const C=s(T.trim());return{type:t,raw:N[0],content:k.trim(),attributes:C}}},renderMarkdown:x=>{let b="";r?b=r(x):x.content&&x.content.length>0&&(b=x.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const v=p(x.attrs||{}),j=l(v),N=j?` ${j}`:"";return u?`[${m}${N}]`:`[${m}${N}]${b}[/${m}]`}}}function Px(e,t,n){var r,s,l,c;const u=e.split(`
`),d=[];let m="",p=0;const g=t.baseIndentSize||2;for(;p<u.length;){const x=u[p],b=x.match(t.itemPattern);if(!b){if(d.length>0)break;if(x.trim()===""){p+=1,m=`${m}${x}
`;continue}else return}const v=t.extractItemData(b),{indentLevel:j,mainContent:N}=v;m=`${m}${x}
`;const k=[N];for(p+=1;p<u.length;){const M=u[p];if(M.trim()===""){const z=u.slice(p+1).findIndex(X=>X.trim()!=="");if(z===-1)break;if((((s=(r=u[p+1+z].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>j){k.push(M),m=`${m}${M}
`,p+=1;continue}else break}if((((c=(l=M.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>j)k.push(M),m=`${m}${M}
`,p+=1;else break}let T;const C=k.slice(1);if(C.length>0){const M=C.map(D=>D.slice(j+g)).join(`
`);M.trim()&&(t.customNestedParser?T=t.customNestedParser(M):T=n.blockTokens(M))}const A=t.createToken(v,T);d.push(A)}if(d.length!==0)return{items:d,raw:m}}function fb(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const s=typeof n=="function"?n(r):n,[l,...c]=e.content,u=t.renderChildren([l]),d=[`${s}${u}`];return c&&c.length>0&&c.forEach(m=>{const p=t.renderChildren([m]);if(p){const g=p.split(`
`).map(x=>x?t.indent(x):"").join(`
`);d.push(g)}}),d.join(`
`)}function xB(e,t,n={}){const{state:r}=t,{doc:s,tr:l}=r,c=e;s.descendants((u,d)=>{const m=l.mapping.map(d),p=l.mapping.map(d)+u.nodeSize;let g=null;if(u.marks.forEach(b=>{if(b!==c)return!1;g=b}),!g)return;let x=!1;if(Object.keys(n).forEach(b=>{n[b]!==g.attrs[b]&&(x=!0)}),x){const b=e.type.create({...e.attrs,...n});l.removeMark(m,p,e.type),l.addMark(m,p,b)}}),l.docChanged&&t.view.dispatch(l)}var fr=class CC extends cb{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new CC(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Pi(e){return new Q7({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:s})=>{const l=jt(e.getAttributes,void 0,r,s);if(l===!1||l===null)return null;const{tr:c}=t,u=r[r.length-1],d=r[0];let m=n.to;if(u){const p=d.search(/\S/),g=n.from+d.indexOf(u),x=g+u.length;if(ob(n.from,n.to,t.doc).filter(v=>v.mark.type.excluded.find(N=>N===e.type&&N!==v.mark.type)).filter(v=>v.to>g).length)return null;x<n.to&&c.delete(x,n.to),g>n.from&&c.delete(n.from+p,g),m=n.from+p+u.length,c.addMark(n.from+p,m,e.type.create(l||{})),c.removeStoredMark(e.type)}}})}var Fg,QN;function bB(){return QN||(QN=1,Fg=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,l;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;for(s of t.entries())if(!e(s[1],n.get(s[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(s of t.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(t[s]!==n[s])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(l=Object.keys(t),r=l.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[s]))return!1;for(s=r;s--!==0;){var c=l[s];if(!(c==="_owner"&&t.$$typeof)&&!e(t[c],n[c]))return!1}return!0}return t!==t&&n!==n}),Fg}var yB=bB();const vB=a0(yB);var Vg={exports:{}},Hg={};var XN;function jB(){if(XN)return Hg;XN=1;var e=tu(),t=jS();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Hg.useSyncExternalStoreWithSelector=function(m,p,g,x,b){var v=l(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=u(function(){function k(D){if(!T){if(T=!0,C=D,D=x(D),b!==void 0&&j.hasValue){var z=j.value;if(b(z,D))return A=z}return A=D}if(z=A,r(C,D))return z;var L=x(D);return b!==void 0&&b(z,L)?(C=D,z):(C=D,A=L)}var T=!1,C,A,M=g===void 0?null:g;return[function(){return k(p())},M===null?void 0:function(){return k(M())}]},[p,g,x,b]);var N=s(m,v[0],v[1]);return c(function(){j.hasValue=!0,j.value=N},[N]),d(N),N},Hg}var e2;function wB(){return e2||(e2=1,Vg.exports=jB()),Vg.exports}var NB=wB(),kB=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},SB=({contentComponent:e})=>{const t=wS.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(t)})};function EB(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:G3.createPortal(r.reactElement,r.element,n)},e.forEach(s=>s())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(s=>s())}}}var CB=class extends qt.Component{constructor(e){var t;super(e),this.editorContentRef=qt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=EB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:kB(t,this.editorContentRef),...n}),e?.contentComponent&&a.jsx(SB,{contentComponent:e.contentComponent})]})}},TB=S.forwardRef((e,t)=>{const n=qt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return qt.createElement(CB,{key:n,innerRef:t,...e})}),AB=qt.memo(TB),MB=typeof window<"u"?S.useLayoutEffect:S.useEffect,OB=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function zB(e){var t;const[n]=S.useState(()=>new OB(e.editor)),r=NB.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:vB);return MB(()=>n.watch(e.editor),[e.editor,n]),S.useDebugValue(r),r}var DB=!1,Bx=typeof window>"u",IB=Bx||!!(typeof window<"u"&&window.next),_B=class TC{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Bx||IB?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var s,l;return(l=(s=this.options.current).onBeforeCreate)==null?void 0:l.call(s,...r)},onBlur:(...r)=>{var s,l;return(l=(s=this.options.current).onBlur)==null?void 0:l.call(s,...r)},onCreate:(...r)=>{var s,l;return(l=(s=this.options.current).onCreate)==null?void 0:l.call(s,...r)},onDestroy:(...r)=>{var s,l;return(l=(s=this.options.current).onDestroy)==null?void 0:l.call(s,...r)},onFocus:(...r)=>{var s,l;return(l=(s=this.options.current).onFocus)==null?void 0:l.call(s,...r)},onSelectionUpdate:(...r)=>{var s,l;return(l=(s=this.options.current).onSelectionUpdate)==null?void 0:l.call(s,...r)},onTransaction:(...r)=>{var s,l;return(l=(s=this.options.current).onTransaction)==null?void 0:l.call(s,...r)},onUpdate:(...r)=>{var s,l;return(l=(s=this.options.current).onUpdate)==null?void 0:l.call(s,...r)},onContentError:(...r)=>{var s,l;return(l=(s=this.options.current).onContentError)==null?void 0:l.call(s,...r)},onDrop:(...r)=>{var s,l;return(l=(s=this.options.current).onDrop)==null?void 0:l.call(s,...r)},onPaste:(...r)=>{var s,l;return(l=(s=this.options.current).onPaste)==null?void 0:l.call(s,...r)},onDelete:(...r)=>{var s,l;return(l=(s=this.options.current).onDelete)==null?void 0:l.call(s,...r)}};return new lB(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((s,l)=>{var c;return s===((c=n.extensions)==null?void 0:c[l])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?TC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,s)=>r===t[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function RB(e={},t=[]){const n=S.useRef(e);n.current=e;const[r]=S.useState(()=>new _B(n)),s=wS.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return S.useDebugValue(s),S.useEffect(r.onRender(t)),zB({editor:s,selector:({transactionNumber:l})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&l===0?0:l+1}),s}var LB=S.createContext({editor:null});LB.Consumer;var UB=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),PB=()=>S.useContext(UB);qt.forwardRef((e,t)=>{const{onDragStart:n}=PB(),r=e.as||"div";return a.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});qt.createContext({markViewContentRef:()=>{}});var If=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},BB=/^\s*>\s$/,$B=fr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return If("blockquote",{...Jt(this.options.HTMLAttributes,e),children:If("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(s=>{const u=t.renderChildren([s]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);r.push(u.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[eo({find:BB,type:this.type})]}}),FB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,VB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,HB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,GB=Qa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return If("strong",{...Jt(this.options.HTMLAttributes,e),children:If("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Xl({find:FB,type:this.type}),Xl({find:HB,type:this.type})]},addPasteRules(){return[Pi({find:VB,type:this.type}),Pi({find:qB,type:this.type})]}}),KB=/(^|[^`])`([^`]+)`(?!`)$/,ZB=/(^|[^`])`([^`]+)`(?!`)/g,JB=Qa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Jt(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Xl({find:KB,type:this.type})]},addPasteRules(){return[Pi({find:ZB,type:this.type})]}}),qg=4,WB=/^```([a-z]+)?[\s\n]$/,YB=/^~~~([a-z]+)?[\s\n]$/,QB=fr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:qg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const l=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Jt(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const s=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${s}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:qg,{state:r}=e,{selection:s}=r,{$from:l,empty:c}=s;if(l.parent.type!==this.type)return!1;const u=" ".repeat(n);return c?e.commands.insertContent(u):e.commands.command(({tr:d})=>{const{from:m,to:p}=s,b=r.doc.textBetween(m,p,`
`,`
`).split(`
`).map(v=>u+v).join(`
`);return d.replaceWith(m,p,r.schema.text(b)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:qg,{state:r}=e,{selection:s}=r,{$from:l,empty:c}=s;return l.parent.type!==this.type?!1:c?e.commands.command(({tr:u})=>{var d;const{pos:m}=l,p=l.start(),g=l.end(),b=r.doc.textBetween(p,g,`
`,`
`).split(`
`);let v=0,j=0;const N=m-p;for(let D=0;D<b.length;D+=1){if(j+b[D].length>=N){v=D;break}j+=b[D].length+1}const T=((d=b[v].match(/^ */))==null?void 0:d[0])||"",C=Math.min(T.length,n);if(C===0)return!0;let A=p;for(let D=0;D<v;D+=1)A+=b[D].length+1;return u.delete(A,A+C),m-A<=C&&u.setSelection(Ze.create(u.doc,A)),!0}):e.commands.command(({tr:u})=>{const{from:d,to:m}=s,x=r.doc.textBetween(d,m,`
`,`
`).split(`
`).map(b=>{var v;const j=((v=b.match(/^ */))==null?void 0:v[0])||"",N=Math.min(j.length,n);return b.slice(N)}).join(`
`);return u.replaceWith(d,m,r.schema.text(x)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!l||!c?!1:e.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:s,empty:l}=n;if(!l||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:r.nodeAt(u)?e.commands.command(({tr:m})=>(m.setSelection(et.near(r.resolve(u))),!0)):e.commands.exitCode()}}},addInputRules(){return[Ux({find:WB,type:this.type,getAttributes:e=>({language:e[1]})}),Ux({find:YB,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new $t({key:new gn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,l=s?.mode;if(!n||!l)return!1;const{tr:c,schema:u}=e.state,d=u.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(Ze.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),e.dispatch(c),!0}}})]}}),XB=fr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),e$=fr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Jt(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:s,storedMarks:l}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=r.extensionManager,d=l||s.$to.parentOffset&&s.$from.marks();return t().insertContent({type:this.name}).command(({tr:m,dispatch:p})=>{if(p&&d&&c){const g=d.filter(x=>u.includes(x.type.name));m.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),t$=fr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Jt(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,s="#".repeat(r);return e.content?`${s} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Ux({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),n$=fr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Jt(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!uB(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,s=e();return dC(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:l,tr:c,dispatch:u})=>{if(u){const{$to:d}=c.selection,m=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(Ze.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(Be.create(c.doc,d.pos)):c.setSelection(Ze.create(c.doc,d.pos));else{const p=l.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,g=p?.create();g&&(c.insert(m,g),c.setSelection(Ze.create(c.doc,m+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[EC({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),r$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,s$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,a$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,i$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,l$=Qa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Jt(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Xl({find:r$,type:this.type}),Xl({find:a$,type:this.type})]},addPasteRules(){return[Pi({find:s$,type:this.type}),Pi({find:i$,type:this.type})]}});const o$="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",c$="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",$x="numeric",Fx="ascii",Vx="alpha",Ac="asciinumeric",vc="alphanumeric",Hx="domain",AC="emoji",u$="scheme",d$="slashscheme",Gg="whitespace";function f$(e,t){return e in t||(t[e]=[]),t[e]}function Si(e,t,n){t[$x]&&(t[Ac]=!0,t[vc]=!0),t[Fx]&&(t[Ac]=!0,t[Vx]=!0),t[Ac]&&(t[vc]=!0),t[Vx]&&(t[vc]=!0),t[vc]&&(t[Hx]=!0),t[AC]&&(t[Hx]=!0);for(const r in t){const s=f$(r,n);s.indexOf(e)<0&&s.push(e)}}function m$(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function lr(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}lr.groups={};lr.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],l=t.jr[r][1];if(l&&s.test(e))return l}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,n,r)},tr(e,t,n,r){r=r||lr.groups;let s;return t&&t.j?s=t:(s=new lr(t),n&&r&&Si(t,n,r)),this.jr.push([e,s]),s},ts(e,t,n,r){let s=this;const l=e.length;if(!l)return s;for(let c=0;c<l-1;c++)s=s.tt(e[c]);return s.tt(e[l-1],t,n,r)},tt(e,t,n,r){r=r||lr.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const l=t;let c,u=s.go(e);if(u?(c=new lr,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new lr,l){if(r)if(c.t&&typeof c.t=="string"){const d=Object.assign(m$(c.t,r),n);Si(l,d,r)}else n&&Si(l,n,r);c.t=l}return s.j[e]=c,c}};const Qe=(e,t,n,r,s)=>e.ta(t,n,r,s),Ht=(e,t,n,r,s)=>e.tr(t,n,r,s),t2=(e,t,n,r,s)=>e.ts(t,n,r,s),be=(e,t,n,r,s)=>e.tt(t,n,r,s),Hs="WORD",qx="UWORD",MC="ASCIINUMERICAL",OC="ALPHANUMERICAL",Wc="LOCALHOST",Gx="TLD",Kx="UTLD",of="SCHEME",Ul="SLASH_SCHEME",mb="NUM",Zx="WS",hb="NL",Mc="OPENBRACE",Oc="CLOSEBRACE",_f="OPENBRACKET",Rf="CLOSEBRACKET",Lf="OPENPAREN",Uf="CLOSEPAREN",Pf="OPENANGLEBRACKET",Bf="CLOSEANGLEBRACKET",$f="FULLWIDTHLEFTPAREN",Ff="FULLWIDTHRIGHTPAREN",Vf="LEFTCORNERBRACKET",Hf="RIGHTCORNERBRACKET",qf="LEFTWHITECORNERBRACKET",Gf="RIGHTWHITECORNERBRACKET",Kf="FULLWIDTHLESSTHAN",Zf="FULLWIDTHGREATERTHAN",Jf="AMPERSAND",Wf="APOSTROPHE",Yf="ASTERISK",za="AT",Qf="BACKSLASH",Xf="BACKTICK",em="CARET",Ra="COLON",pb="COMMA",tm="DOLLAR",cs="DOT",nm="EQUALS",gb="EXCLAMATION",Ur="HYPHEN",zc="PERCENT",rm="PIPE",sm="PLUS",am="POUND",Dc="QUERY",xb="QUOTE",zC="FULLWIDTHMIDDLEDOT",bb="SEMI",us="SLASH",Ic="TILDE",im="UNDERSCORE",DC="EMOJI",lm="SYM";var IC=Object.freeze({__proto__:null,ALPHANUMERICAL:OC,AMPERSAND:Jf,APOSTROPHE:Wf,ASCIINUMERICAL:MC,ASTERISK:Yf,AT:za,BACKSLASH:Qf,BACKTICK:Xf,CARET:em,CLOSEANGLEBRACKET:Bf,CLOSEBRACE:Oc,CLOSEBRACKET:Rf,CLOSEPAREN:Uf,COLON:Ra,COMMA:pb,DOLLAR:tm,DOT:cs,EMOJI:DC,EQUALS:nm,EXCLAMATION:gb,FULLWIDTHGREATERTHAN:Zf,FULLWIDTHLEFTPAREN:$f,FULLWIDTHLESSTHAN:Kf,FULLWIDTHMIDDLEDOT:zC,FULLWIDTHRIGHTPAREN:Ff,HYPHEN:Ur,LEFTCORNERBRACKET:Vf,LEFTWHITECORNERBRACKET:qf,LOCALHOST:Wc,NL:hb,NUM:mb,OPENANGLEBRACKET:Pf,OPENBRACE:Mc,OPENBRACKET:_f,OPENPAREN:Lf,PERCENT:zc,PIPE:rm,PLUS:sm,POUND:am,QUERY:Dc,QUOTE:xb,RIGHTCORNERBRACKET:Hf,RIGHTWHITECORNERBRACKET:Gf,SCHEME:of,SEMI:bb,SLASH:us,SLASH_SCHEME:Ul,SYM:lm,TILDE:Ic,TLD:Gx,UNDERSCORE:im,UTLD:Kx,UWORD:qx,WORD:Hs,WS:Zx});const Fs=/[a-z]/,mc=new RegExp("\\p{L}","u"),Kg=new RegExp("\\p{Emoji}","u"),Vs=/\d/,Zg=/\s/,n2="\r",Jg=`
`,h$="",p$="",Wg="";let qd=null,Gd=null;function g$(e=[]){const t={};lr.groups=t;const n=new lr;qd==null&&(qd=r2(o$)),Gd==null&&(Gd=r2(c$)),be(n,"'",Wf),be(n,"{",Mc),be(n,"}",Oc),be(n,"[",_f),be(n,"]",Rf),be(n,"(",Lf),be(n,")",Uf),be(n,"<",Pf),be(n,">",Bf),be(n,"",$f),be(n,"",Ff),be(n,"",Vf),be(n,"",Hf),be(n,"",qf),be(n,"",Gf),be(n,"",Kf),be(n,"",Zf),be(n,"&",Jf),be(n,"*",Yf),be(n,"@",za),be(n,"`",Xf),be(n,"^",em),be(n,":",Ra),be(n,",",pb),be(n,"$",tm),be(n,".",cs),be(n,"=",nm),be(n,"!",gb),be(n,"-",Ur),be(n,"%",zc),be(n,"|",rm),be(n,"+",sm),be(n,"#",am),be(n,"?",Dc),be(n,'"',xb),be(n,"/",us),be(n,";",bb),be(n,"~",Ic),be(n,"_",im),be(n,"\\",Qf),be(n,"",zC);const r=Ht(n,Vs,mb,{[$x]:!0});Ht(r,Vs,r);const s=Ht(r,Fs,MC,{[Ac]:!0}),l=Ht(r,mc,OC,{[vc]:!0}),c=Ht(n,Fs,Hs,{[Fx]:!0});Ht(c,Vs,s),Ht(c,Fs,c),Ht(s,Vs,s),Ht(s,Fs,s);const u=Ht(n,mc,qx,{[Vx]:!0});Ht(u,Fs),Ht(u,Vs,l),Ht(u,mc,u),Ht(l,Vs,l),Ht(l,Fs),Ht(l,mc,l);const d=be(n,Jg,hb,{[Gg]:!0}),m=be(n,n2,Zx,{[Gg]:!0}),p=Ht(n,Zg,Zx,{[Gg]:!0});be(n,Wg,p),be(m,Jg,d),be(m,Wg,p),Ht(m,Zg,p),be(p,n2),be(p,Jg),Ht(p,Zg,p),be(p,Wg,p);const g=Ht(n,Kg,DC,{[AC]:!0});be(g,"#"),Ht(g,Kg,g),be(g,h$,g);const x=be(g,p$);be(x,"#"),Ht(x,Kg,g);const b=[[Fs,c],[Vs,s]],v=[[Fs,null],[mc,u],[Vs,l]];for(let j=0;j<qd.length;j++)Aa(n,qd[j],Gx,Hs,b);for(let j=0;j<Gd.length;j++)Aa(n,Gd[j],Kx,qx,v);Si(Gx,{tld:!0,ascii:!0},t),Si(Kx,{utld:!0,alpha:!0},t),Aa(n,"file",of,Hs,b),Aa(n,"mailto",of,Hs,b),Aa(n,"http",Ul,Hs,b),Aa(n,"https",Ul,Hs,b),Aa(n,"ftp",Ul,Hs,b),Aa(n,"ftps",Ul,Hs,b),Si(of,{scheme:!0,ascii:!0},t),Si(Ul,{slashscheme:!0,ascii:!0},t),e=e.sort((j,N)=>j[0]>N[0]?1:-1);for(let j=0;j<e.length;j++){const N=e[j][0],T=e[j][1]?{[u$]:!0}:{[d$]:!0};N.indexOf("-")>=0?T[Hx]=!0:Fs.test(N)?Vs.test(N)?T[Ac]=!0:T[Fx]=!0:T[$x]=!0,t2(n,N,N,T)}return t2(n,"localhost",Wc,{ascii:!0}),n.jd=new lr(lm),{start:n,tokens:Object.assign({groups:t},IC)}}function _C(e,t){const n=x$(t.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,s=[];let l=0,c=0;for(;c<r;){let u=e,d=null,m=0,p=null,g=-1,x=-1;for(;c<r&&(d=u.go(n[c]));)u=d,u.accepts()?(g=0,x=0,p=u):g>=0&&(g+=n[c].length,x++),m+=n[c].length,l+=n[c].length,c++;l-=g,c-=x,m-=g,s.push({t:p.t,v:t.slice(l-m,l),s:l-m,e:l})}return s}function x$(e){const t=[],n=e.length;let r=0;for(;r<n;){let s=e.charCodeAt(r),l,c=s<55296||s>56319||r+1===n||(l=e.charCodeAt(r+1))<56320||l>57343?e[r]:e.slice(r,r+2);t.push(c),r+=c.length}return t}function Aa(e,t,n,r,s){let l;const c=t.length;for(let u=0;u<c-1;u++){const d=t[u];e.j[d]?l=e.j[d]:(l=new lr(r),l.jr=s.slice(),e.j[d]=l),e=l}return l=new lr(n),l.jr=s.slice(),e.j[t[c-1]]=l,l}function r2(e){const t=[],n=[];let r=0,s="0123456789";for(;r<e.length;){let l=0;for(;s.indexOf(e[r+l])>=0;)l++;if(l>0){t.push(n.join(""));for(let c=parseInt(e.substring(r,r+l),10);c>0;c--)n.pop();r+=l}else n.push(e[r]),r++}return t}const Yc={defaultProtocol:"http",events:null,format:s2,formatHref:s2,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function yb(e,t=null){let n=Object.assign({},Yc);e&&(n=Object.assign(n,e instanceof yb?e.o:e));const r=n.ignoreTags,s=[];for(let l=0;l<r.length;l++)s.push(r[l].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=s}yb.prototype={o:Yc,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Yc[e],typeof s=="function"&&r&&(s=s(t,n))):typeof s=="function"&&r&&(s=s(t,n.t,n)),s)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function s2(e){return e}function RC(e,t){this.t="token",this.v=e,this.tk=t}RC.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Yc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),s=e.get("tagName",n,t),l=this.toFormattedString(e),c={},u=e.get("className",n,t),d=e.get("target",n,t),m=e.get("rel",n,t),p=e.getObj("attributes",n,t),g=e.getObj("events",n,t);return c.href=r,u&&(c.class=u),d&&(c.target=d),m&&(c.rel=m),p&&Object.assign(c,p),{tagName:s,attributes:c,content:l,eventListeners:g}}};function Vm(e,t){class n extends RC{constructor(s,l){super(s,l),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const a2=Vm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),i2=Vm("text"),b$=Vm("nl"),Kd=Vm("url",{isLink:!0,toHref(e=Yc.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Wc&&e[1].t===Ra}}),Lr=e=>new lr(e);function y$({groups:e}){const t=e.domain.concat([Jf,Yf,za,Qf,Xf,em,tm,nm,Ur,mb,zc,rm,sm,am,us,lm,Ic,im]),n=[Wf,Ra,pb,cs,gb,zc,Dc,xb,bb,Pf,Bf,Mc,Oc,Rf,_f,Lf,Uf,$f,Ff,Vf,Hf,qf,Gf,Kf,Zf],r=[Jf,Wf,Yf,Qf,Xf,em,tm,nm,Ur,Mc,Oc,zc,rm,sm,am,Dc,us,lm,Ic,im],s=Lr(),l=be(s,Ic);Qe(l,r,l),Qe(l,e.domain,l);const c=Lr(),u=Lr(),d=Lr();Qe(s,e.domain,c),Qe(s,e.scheme,u),Qe(s,e.slashscheme,d),Qe(c,r,l),Qe(c,e.domain,c);const m=be(c,za);be(l,za,m),be(u,za,m),be(d,za,m);const p=be(l,cs);Qe(p,r,l),Qe(p,e.domain,l);const g=Lr();Qe(m,e.domain,g),Qe(g,e.domain,g);const x=be(g,cs);Qe(x,e.domain,g);const b=Lr(a2);Qe(x,e.tld,b),Qe(x,e.utld,b),be(m,Wc,b);const v=be(g,Ur);be(v,Ur,v),Qe(v,e.domain,g),Qe(b,e.domain,g),be(b,cs,x),be(b,Ur,v);const j=be(b,Ra);Qe(j,e.numeric,a2);const N=be(c,Ur),k=be(c,cs);be(N,Ur,N),Qe(N,e.domain,c),Qe(k,r,l),Qe(k,e.domain,c);const T=Lr(Kd);Qe(k,e.tld,T),Qe(k,e.utld,T),Qe(T,e.domain,c),Qe(T,r,l),be(T,cs,k),be(T,Ur,N),be(T,za,m);const C=be(T,Ra),A=Lr(Kd);Qe(C,e.numeric,A);const M=Lr(Kd),D=Lr();Qe(M,t,M),Qe(M,n,D),Qe(D,t,M),Qe(D,n,D),be(T,us,M),be(A,us,M);const z=be(u,Ra),L=be(d,Ra),K=be(L,us),X=be(K,us);Qe(u,e.domain,c),be(u,cs,k),be(u,Ur,N),Qe(d,e.domain,c),be(d,cs,k),be(d,Ur,N),Qe(z,e.domain,M),be(z,us,M),be(z,Dc,M),Qe(X,e.domain,M),Qe(X,t,M),be(X,us,M);const R=[[Mc,Oc],[_f,Rf],[Lf,Uf],[Pf,Bf],[$f,Ff],[Vf,Hf],[qf,Gf],[Kf,Zf]];for(let _=0;_<R.length;_++){const[U,P]=R[_],G=be(M,U);be(D,U,G),be(G,P,M);const B=Lr(Kd);Qe(G,t,B);const Y=Lr();Qe(G,n),Qe(B,t,B),Qe(B,n,Y),Qe(Y,t,B),Qe(Y,n,Y),be(B,P,M),be(Y,P,M)}return be(s,Wc,T),be(s,hb,b$),{start:s,tokens:IC}}function v$(e,t,n){let r=n.length,s=0,l=[],c=[];for(;s<r;){let u=e,d=null,m=null,p=0,g=null,x=-1;for(;s<r&&!(d=u.go(n[s].t));)c.push(n[s++]);for(;s<r&&(m=d||u.go(n[s].t));)d=null,u=m,u.accepts()?(x=0,g=u):x>=0&&x++,s++,p++;if(x<0)s-=p,s<r&&(c.push(n[s]),s++);else{c.length>0&&(l.push(Yg(i2,t,c)),c=[]),s-=x,p-=x;const b=g.t,v=n.slice(s-p,s);l.push(Yg(b,t,v))}}return c.length>0&&l.push(Yg(i2,t,c)),l}function Yg(e,t,n){const r=n[0].s,s=n[n.length-1].e,l=t.slice(r,s);return new e(l,n)}const j$=typeof console<"u"&&console&&console.warn||(()=>{}),w$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Dt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function N$(){return lr.groups={},Dt.scanner=null,Dt.parser=null,Dt.tokenQueue=[],Dt.pluginQueue=[],Dt.customSchemes=[],Dt.initialized=!1,Dt}function l2(e,t=!1){if(Dt.initialized&&j$(`linkifyjs: already initialized - will not register custom scheme "${e}" ${w$}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Dt.customSchemes.push([e,t])}function k$(){Dt.scanner=g$(Dt.customSchemes);for(let e=0;e<Dt.tokenQueue.length;e++)Dt.tokenQueue[e][1]({scanner:Dt.scanner});Dt.parser=y$(Dt.scanner.tokens);for(let e=0;e<Dt.pluginQueue.length;e++)Dt.pluginQueue[e][1]({scanner:Dt.scanner,parser:Dt.parser});return Dt.initialized=!0,Dt}function vb(e){return Dt.initialized||k$(),v$(Dt.parser.start,e,_C(Dt.scanner.start,e))}vb.scan=_C;function LC(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new yb(n),s=vb(e),l=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!t||u.t===t)&&r.check(u)&&l.push(u.toFormattedObject(r))}return l}var jb="[\0- -\u2029]",S$=new RegExp(jb),E$=new RegExp(`${jb}$`),C$=new RegExp(jb,"g");function T$(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function A$(e){return new $t({key:new gn("autolink"),appendTransaction:(t,n,r)=>{const s=t.some(m=>m.docChanged)&&!n.doc.eq(r.doc),l=t.some(m=>m.getMeta("preventAutolink"));if(!s||l)return;const{tr:c}=r,u=rC(n.doc,[...t]);if(uC(u).forEach(({newRange:m})=>{const p=d7(r.doc,m,b=>b.isTextblock);let g,x;if(p.length>1)g=p[0],x=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const b=r.doc.textBetween(m.from,m.to," "," ");if(!E$.test(b))return;g=p[0],x=r.doc.textBetween(g.pos,m.to,void 0," ")}if(g&&x){const b=x.split(S$).filter(Boolean);if(b.length<=0)return!1;const v=b[b.length-1],j=g.pos+x.lastIndexOf(v);if(!v)return!1;const N=vb(v).map(k=>k.toObject(e.defaultProtocol));if(!T$(N))return!1;N.filter(k=>k.isLink).map(k=>({...k,from:j+k.start+1,to:j+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>e.validate(k.value)).filter(k=>e.shouldAutoLink(k.value)).forEach(k=>{ob(k.from,k.to,r.doc).some(T=>T.mark.type===e.type)||c.addMark(k.from,k.to,e.type.create({href:k.href}))})}}),!!c.steps.length)return c}})}function M$(e){return new $t({key:new gn("handleClickLink"),props:{handleClick:(t,n,r)=>{var s,l;if(r.button!==0||!t.editable)return!1;let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let p=r.target;const g=[];for(;p.nodeName!=="DIV";)g.push(p),p=p.parentNode;c=g.find(x=>x.nodeName==="A")}if(!c)return!1;const u=cC(t.state,e.type.name),d=(s=c?.href)!=null?s:u.href,m=(l=c?.target)!=null?l:u.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),c&&d?(window.open(d,m),!0):!1}}})}function O$(e){return new $t({key:new gn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:s}=e,{state:l}=t,{selection:c}=l,{empty:u}=c;if(u)return!1;let d="";r.content.forEach(p=>{d+=p.textContent});const m=LC(d,{defaultProtocol:e.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!m||s!==void 0&&!s(m.href)?!1:e.editor.commands.setMark(e.type,{href:m.href})}}})}function yi(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!e||e.replace(C$,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var UC=Qa.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){l2(e);return}l2(e.scheme,e.optionalSlashes)})},onDestroy(){N$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!yi(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!yi(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!yi(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Jt(this.options.HTMLAttributes,e),0]:["a",Jt(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!yi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!yi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Pi({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,s=LC(e).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!yi(c,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(l=>{this.options.shouldAutoLink(l.value)&&t.push({text:l.value,data:{href:l.href},index:l.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(A$({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!yi(s,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(M$({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(O$({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),z$=UC,D$=Object.defineProperty,I$=(e,t)=>{for(var n in t)D$(e,n,{get:t[n],enumerable:!0})},_$="listItem",o2="textStyle",c2=/^\s*([-+*])\s$/,PC=fr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Jt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_$,this.editor.getAttributes(o2)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=eo({find:c2,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=eo({find:c2,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(o2),editor:this.editor})),[e]}}),BC=fr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Jt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(s=>s.type==="paragraph"))n=t.parseChildren(e.tokens);else{const s=e.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(s.tokens)}],e.tokens.length>1){const c=e.tokens.slice(1),u=t.parseChildren(c);n.push(...u)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>fb(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),R$={};I$(R$,{findListItemPos:()=>du,getNextListDepth:()=>wb,handleBackspace:()=>Jx,handleDelete:()=>Wx,hasListBefore:()=>$C,hasListItemAfter:()=>L$,hasListItemBefore:()=>FC,listItemHasSubList:()=>VC,nextListIsDeeper:()=>HC,nextListIsHigher:()=>qC});var du=(e,t)=>{const{$from:n}=t.selection,r=fn(e,t.schema);let s=null,l=n.depth,c=n.pos,u=null;for(;l>0&&u===null;)s=n.node(l),s.type===r?u=l:(l-=1,c-=1);return u===null?null:{$pos:t.doc.resolve(c),depth:u}},wb=(e,t)=>{const n=du(e,t);if(!n)return!1;const[,r]=j7(t,e,n.$pos.pos+4);return r},$C=(e,t,n)=>{const{$anchor:r}=e.selection,s=Math.max(0,r.pos-2),l=e.doc.resolve(s).node();return!(!l||!n.includes(l.type.name))},FC=(e,t)=>{var n;const{$anchor:r}=t.selection,s=t.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==e)},VC=(e,t,n)=>{if(!n)return!1;const r=fn(e,t.schema);let s=!1;return n.descendants(l=>{l.type===r&&(s=!0)}),s},Jx=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Ka(e.state,t)&&$C(e.state,t,n)){const{$anchor:u}=e.state.selection,d=e.state.doc.resolve(u.before()-1),m=[];d.node().descendants((x,b)=>{x.type.name===t&&m.push({node:x,pos:b})});const p=m.at(-1);if(!p)return!1;const g=e.state.doc.resolve(d.start()+p.pos+1);return e.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!Ka(e.state,t)||!S7(e.state))return!1;const r=du(t,e.state);if(!r)return!1;const l=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),c=VC(t,e.state,l);return FC(t,e.state)&&!c?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},HC=(e,t)=>{const n=wb(e,t),r=du(e,t);return!r||!n?!1:n>r.depth},qC=(e,t)=>{const n=wb(e,t),r=du(e,t);return!r||!n?!1:n<r.depth},Wx=(e,t)=>{if(!Ka(e.state,t)||!k7(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:HC(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():qC(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},L$=(e,t)=>{var n;const{$anchor:r}=t.selection,s=t.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==e)},GC=Et.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Wx(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Wx(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Jx(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Jx(e,n,r)&&(t=!0)}),t}}}}),u2=/^(\s*)(\d+)\.\s+(.*)$/,U$=/^\s/;function P$(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n],l=s.match(u2);if(!l)break;const[,c,u,d]=l,m=c.length;let p=d,g=n+1;const x=[s];for(;g<e.length;){const b=e[g];if(b.match(u2))break;if(b.trim()==="")x.push(b),p+=`
`,g+=1;else if(b.match(U$))x.push(b),p+=`
${b.slice(m+2)}`,g+=1;else break}t.push({indent:m,number:parseInt(u,10),content:p.trim(),raw:x.join(`
`)}),r=g,n=g}return[t,r]}function KC(e,t,n){var r;const s=[];let l=0;for(;l<e.length;){const c=e[l];if(c.indent===t){const u=c.content.split(`
`),d=((r=u[0])==null?void 0:r.trim())||"",m=[];d&&m.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const p=u.slice(1).join(`
`).trim();if(p){const b=n.blockTokens(p);m.push(...b)}let g=l+1;const x=[];for(;g<e.length&&e[g].indent>t;)x.push(e[g]),g+=1;if(x.length>0){const b=Math.min(...x.map(j=>j.indent)),v=KC(x,b,n);m.push({type:"list",ordered:!0,start:x[0].number,items:v,raw:x.map(j=>j.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:m}),l=g}else l+=1}return s}function B$(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...t.parseChildren([s]));else if(s.type==="text"&&s.tokens){const l=t.parseChildren([s]);r.push({type:"paragraph",content:l})}else{const l=t.parseChildren([s]);l.length>0&&r.push(...l)}}),{type:"listItem",content:r}})}var $$="listItem",d2="textStyle",f2=/^(\d+)\.\s$/,ZC=fr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Jt(this.options.HTMLAttributes,n),0]:["ol",Jt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?B$(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const s=e.split(`
`),[l,c]=P$(s);if(l.length===0)return;const u=KC(l,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=l[0])==null?void 0:r.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($$,this.editor.getAttributes(d2)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=eo({find:f2,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=eo({find:f2,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(d2)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),F$=/^\s*(\[([( |x])?\])\s$/,V$=fr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Jt(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const s=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return fb(e,t,s)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const s=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),m=p=>{var g,x;u.ariaLabel=((x=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:x.call(g,p,u.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return m(e),l.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",p=>p.preventDefault()),u.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:g}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const b=n();if(typeof b!="number")return!1;const v=x.doc.nodeAt(b);return x.setNodeMarkup(b,void 0,{...v?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,g)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,g])=>{s.setAttribute(p,g)}),s.dataset.checked=e.attrs.checked,u.checked=e.attrs.checked,l.append(u,c),s.append(l,d),Object.entries(t).forEach(([p,g])=>{s.setAttribute(p,g)}),{dom:s,contentDOM:d,update:p=>p.type!==this.type?!1:(s.dataset.checked=p.attrs.checked,u.checked=p.attrs.checked,m(p),!0)}}},addInputRules(){return[eo({find:F$,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),H$=fr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Jt(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=l=>{const c=Px(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:r},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(l)},s=Px(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Et.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(PC.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(BC.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(GC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(ZC.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(V$.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(H$.configure(this.options.taskList)),e}});var q$=fr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Jt(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),G$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,K$=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Z$=Qa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Jt(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Xl({find:G$,type:this.type})]},addPasteRules(){return[Pi({find:K$,type:this.type})]}}),J$=fr.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),W$=Qa.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Jt(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!s)return;const l=s[2].trim();return{type:"underline",raw:s[0],text:l,tokens:n.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Y$(e={}){return new $t({view(t){return new Q$(t,e)}})}class Q${constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let l=c=>{this[s](c)};return t.dom.addEventListener(s,l),{name:s,handler:l}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,s=this.editorView.dom,l=s.getBoundingClientRect(),c=l.width/s.offsetWidth,u=l.height/s.offsetHeight;if(n){let g=t.nodeBefore,x=t.nodeAfter;if(g||x){let b=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(b){let v=b.getBoundingClientRect(),j=g?v.bottom:v.top;g&&x&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let N=this.width/2*u;r={left:v.left,right:v.right,top:j-N,bottom:j+N}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*c;r={left:g.left-x,right:g.left+x,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let m,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")m=-pageXOffset,p=-pageYOffset;else{let g=d.getBoundingClientRect(),x=g.width/d.offsetWidth,b=g.height/d.offsetHeight;m=g.left-d.scrollLeft*x,p=g.top-d.scrollTop*b}this.element.style.left=(r.left-m)/c+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,l=typeof s=="function"?s(this.editorView,n,t):s;if(n&&!l){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=JS(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Gt extends et{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Gt.valid(r)?new Gt(r):et.near(r)}content(){return ke.empty}eq(t){return t instanceof Gt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Gt(t.resolve(n.pos))}getBookmark(){return new Nb(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!X$(t)||!eF(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Gt.valid(t))return t;let s=t.pos,l=null;for(let c=t.depth;;c--){let u=t.node(c);if(n>0?t.indexAfter(c)<u.childCount:t.index(c)>0){l=u.child(n>0?t.indexAfter(c):t.index(c)-1);break}else if(c==0)return null;s+=n;let d=t.doc.resolve(s);if(Gt.valid(d))return d}for(;;){let c=n>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!Be.isSelectable(l)){t=t.doc.resolve(s+l.nodeSize*n),r=!1;continue e}break}l=c,s+=n;let u=t.doc.resolve(s);if(Gt.valid(u))return u}return null}}}Gt.prototype.visible=!1;Gt.findFrom=Gt.findGapCursorFrom;et.jsonID("gapcursor",Gt);class Nb{constructor(t){this.pos=t}map(t){return new Nb(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Gt.valid(n)?new Gt(n):et.near(n)}}function JC(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function X$(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||JC(s.type))return!0;if(s.inlineContent)return!1}}return!0}function eF(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||JC(s.type))return!0;if(s.inlineContent)return!1}}return!0}function tF(){return new $t({props:{decorations:aF,createSelectionBetween(e,t,n){return t.pos==n.pos&&Gt.valid(n)?new Gt(n):null},handleClick:rF,handleKeyDown:nF,handleDOMEvents:{beforeinput:sF}}})}const nF=JE({ArrowLeft:Zd("horiz",-1),ArrowRight:Zd("horiz",1),ArrowUp:Zd("vert",-1),ArrowDown:Zd("vert",1)});function Zd(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,s,l){let c=r.selection,u=t>0?c.$to:c.$from,d=c.empty;if(c instanceof Ze){if(!l.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=r.doc.resolve(t>0?u.after():u.before())}let m=Gt.findGapCursorFrom(u,t,d);return m?(s&&s(r.tr.setSelection(new Gt(m))),!0):!1}}function rF(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Gt.valid(r))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Be.isSelectable(e.state.doc.nodeAt(s.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Gt(r))),!0)}function sF(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Gt))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let s=xe.empty;for(let c=r.length-1;c>=0;c--)s=xe.from(r[c].createAndFill(null,s));let l=e.state.tr.replace(n.pos,n.pos,new ke(s,0,0));return l.setSelection(Ze.near(l.doc.resolve(n.pos+1))),e.dispatch(l),!1}function aF(e){if(!(e.selection instanceof Gt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Pt.create(e.doc,[qn.widget(e.selection.head,t,{key:"gapcursor"})])}var om=200,Nn=function(){};Nn.prototype.append=function(t){return t.length?(t=Nn.from(t),!this.length&&t||t.length<om&&this.leafAppend(t)||this.length<om&&t.leafPrepend(this)||this.appendInner(t)):this};Nn.prototype.prepend=function(t){return t.length?Nn.from(t).append(this):this};Nn.prototype.appendInner=function(t){return new iF(this,t)};Nn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Nn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Nn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Nn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Nn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(l,c){return s.push(t(l,c))},n,r),s};Nn.from=function(t){return t instanceof Nn?t:t&&t.length?new WC(t):Nn.empty};var WC=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(s,l){return s==0&&l==this.length?this:new t(this.values.slice(s,l))},t.prototype.getInner=function(s){return this.values[s]},t.prototype.forEachInner=function(s,l,c,u){for(var d=l;d<c;d++)if(s(this.values[d],u+d)===!1)return!1},t.prototype.forEachInvertedInner=function(s,l,c,u){for(var d=l-1;d>=c;d--)if(s(this.values[d],u+d)===!1)return!1},t.prototype.leafAppend=function(s){if(this.length+s.length<=om)return new t(this.values.concat(s.flatten()))},t.prototype.leafPrepend=function(s){if(this.length+s.length<=om)return new t(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Nn);Nn.empty=new WC([]);var iF=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,s,l,c){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(l,u),c)===!1||l>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,l)-u,c+u)===!1)return!1},t.prototype.forEachInvertedInner=function(r,s,l,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(l,u)-u,c+u)===!1||l<u&&this.left.forEachInvertedInner(r,Math.min(s,u),l,c)===!1)return!1},t.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var l=this.left.length;return s<=l?this.left.slice(r,s):r>=l?this.right.slice(r-l,s-l):this.left.slice(r,l).append(this.right.slice(0,s-l))},t.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new t(this.left,s)},t.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new t(s,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(Nn);const lF=500;class Wr{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,l;n&&(s=this.remapping(r,this.items.length),l=s.maps.length);let c=t.tr,u,d,m=[],p=[];return this.items.forEach((g,x)=>{if(!g.step){s||(s=this.remapping(r,x+1),l=s.maps.length),l--,p.push(g);return}if(s){p.push(new ds(g.map));let b=g.step.map(s.slice(l)),v;b&&c.maybeStep(b).doc&&(v=c.mapping.maps[c.mapping.maps.length-1],m.push(new ds(v,void 0,void 0,m.length+p.length))),l--,v&&s.appendMap(v,l)}else c.maybeStep(g.step);if(g.selection)return u=s?g.selection.map(s.slice(l)):g.selection,d=new Wr(this.items.slice(0,r).append(p.reverse().concat(m)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:c,selection:u}}addTransform(t,n,r,s){let l=[],c=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<t.steps.length;p++){let g=t.steps[p].invert(t.docs[p]),x=new ds(t.mapping.maps[p],g,n),b;(b=d&&d.merge(x))&&(x=b,p?l.pop():u=u.slice(0,u.length-1)),l.push(x),n&&(c++,n=void 0),s||(d=x)}let m=c-r.depth;return m>cF&&(u=oF(u,m),c-=m),new Wr(u.append(l),c)}remapping(t,n){let r=new Hc;return this.items.forEach((s,l)=>{let c=s.mirrorOffset!=null&&l-s.mirrorOffset>=t?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,c)},t,n),r}addMaps(t){return this.eventCount==0?this:new Wr(this.items.append(t.map(n=>new ds(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),l=t.mapping,c=t.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},s);let d=n;this.items.forEach(x=>{let b=l.getMirror(--d);if(b==null)return;c=Math.min(c,b);let v=l.maps[b];if(x.step){let j=t.steps[b].invert(t.docs[b]),N=x.selection&&x.selection.map(l.slice(d+1,b));N&&u++,r.push(new ds(v,j,N))}else r.push(new ds(v))},s);let m=[];for(let x=n;x<c;x++)m.push(new ds(l.maps[x]));let p=this.items.slice(0,s).append(m).append(r),g=new Wr(p,u);return g.emptyItemCount()>lF&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,s=[],l=0;return this.items.forEach((c,u)=>{if(u>=t)s.push(c),c.selection&&l++;else if(c.step){let d=c.step.map(n.slice(r)),m=d&&d.getMap();if(r--,m&&n.appendMap(m,r),d){let p=c.selection&&c.selection.map(n.slice(r));p&&l++;let g=new ds(m.invert(),d,p),x,b=s.length-1;(x=s.length&&s[b].merge(g))?s[b]=x:s.push(g)}}else c.map&&r--},this.items.length,0),new Wr(Nn.from(s.reverse()),l)}}Wr.empty=new Wr(Nn.empty,0);function oF(e,t){let n;return e.forEach((r,s)=>{if(r.selection&&t--==0)return n=s,!1}),e.slice(n)}class ds{constructor(t,n,r,s){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new ds(n.getMap().invert(),n,this.selection)}}}class Da{constructor(t,n,r,s,l){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=l}}const cF=20;function uF(e,t,n,r){let s=n.getMeta(zi),l;if(s)return s.historyState;n.getMeta(mF)&&(e=new Da(e.done,e.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(c&&c.getMeta(zi))return c.getMeta(zi).redo?new Da(e.done.addTransform(n,void 0,r,cf(t)),e.undone,m2(n.mapping.maps),e.prevTime,e.prevComposition):new Da(e.done,e.undone.addTransform(n,void 0,r,cf(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=e.prevTime==0||!c&&e.prevComposition!=u&&(e.prevTime<(n.time||0)-r.newGroupDelay||!dF(n,e.prevRanges)),m=c?Qg(e.prevRanges,n.mapping):m2(n.mapping.maps);return new Da(e.done.addTransform(n,d?t.selection.getBookmark():void 0,r,cf(t)),Wr.empty,m,n.time,u??e.prevComposition)}else return(l=n.getMeta("rebased"))?new Da(e.done.rebased(n,l),e.undone.rebased(n,l),Qg(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Da(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Qg(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function dF(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,s)=>{for(let l=0;l<t.length;l+=2)r<=t[l+1]&&s>=t[l]&&(n=!0)}),n}function m2(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,s,l,c)=>t.push(l,c));return t}function Qg(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let s=t.map(e[r],1),l=t.map(e[r+1],-1);s<=l&&n.push(s,l)}return n}function fF(e,t,n){let r=cf(t),s=zi.get(t).spec.config,l=(n?e.undone:e.done).popEvent(t,r);if(!l)return null;let c=l.selection.resolve(l.transform.doc),u=(n?e.done:e.undone).addTransform(l.transform,t.selection.getBookmark(),s,r),d=new Da(n?u:l.remaining,n?l.remaining:u,null,0,-1);return l.transform.setSelection(c).setMeta(zi,{redo:n,historyState:d})}let Xg=!1,h2=null;function cf(e){let t=e.plugins;if(h2!=t){Xg=!1,h2=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Xg=!0;break}}return Xg}const zi=new gn("history"),mF=new gn("closeHistory");function hF(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new $t({key:zi,state:{init(){return new Da(Wr.empty,Wr.empty,null,0,-1)},apply(t,n,r){return uF(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,s=r=="historyUndo"?QC:r=="historyRedo"?XC:null;return!s||!t.editable?!1:(n.preventDefault(),s(t.state,t.dispatch))}}}})}function YC(e,t){return(n,r)=>{let s=zi.getState(n);if(!s||(e?s.undone:s.done).eventCount==0)return!1;if(r){let l=fF(s,n,e);l&&r(t?l.scrollIntoView():l)}return!0}}const QC=YC(!1,!0),XC=YC(!0,!0);Et.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new $t({key:new gn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const s=this.options.limit;if(s==null||s===0){e=!0;return}const l=this.storage.characters({node:r.doc});if(l>s){const c=l-s,u=0,d=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const m=r.tr.deleteRange(u,d);return e=!0,m}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),l=this.storage.characters({node:t.doc});if(l<=r||s>r&&l>r&&l<=s)return!0;if(s>r&&l>r&&l>s||!t.getMeta("paste"))return!1;const u=t.selection.$head.pos,d=l-r,m=u-d,p=u;return t.deleteRange(m,p),!(this.storage.characters({node:t.doc})>r)}})]}});var pF=Et.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Y$(this.options)]}});Et.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new $t({key:new gn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=t,l=[];if(!n||!r)return Pt.create(e,[]);let c=0;this.options.mode==="deepest"&&e.descendants((d,m)=>{if(d.isText)return;if(!(s>=m&&s<=m+d.nodeSize-1))return!1;c+=1});let u=0;return e.descendants((d,m)=>{if(d.isText||!(s>=m&&s<=m+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";l.push(qn.node(m,m+d.nodeSize,{class:this.options.className}))}),Pt.create(e,l)}}})]}});var gF=Et.create({name:"gapCursor",addProseMirrorPlugins(){return[tF()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=jt(Le(e,"allowGapCursor",n)))!=null?t:null}}});Et.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new $t({key:new gn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,s=[];if(!n)return null;const l=this.editor.isEmpty;return e.descendants((c,u)=>{const d=r>=u&&r<=u+c.nodeSize,m=!c.isLeaf&&Bm(c);if((d||!this.options.showOnlyCurrent)&&m){const p=[this.options.emptyNodeClass];l&&p.push(this.options.emptyEditorClass);const g=qn.node(u,u+c.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:d}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),Pt.create(e,s)}}})]}});Et.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new $t({key:new gn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||dC(n.selection)||e.view.dragging?null:Pt.create(n.doc,[qn.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function p2({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var xF=Et.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new gn(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new $t({key:t,appendTransaction:(s,l,c)=>{const{doc:u,tr:d,schema:m}=c,p=t.getState(c),g=u.content.size,x=m.nodes[n];if(p)return d.insert(g,x.create())},state:{init:(s,l)=>{const c=l.tr.doc.lastChild;return!p2({node:c,types:r})},apply:(s,l)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return l;const c=s.doc.lastChild;return!p2({node:c,types:r})}}})]}}),bF=Et.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>QC(e,t),redo:()=>({state:e,dispatch:t})=>XC(e,t)}},addProseMirrorPlugins(){return[hF(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),yF=Et.create({name:"starterKit",addExtensions(){var e,t,n,r;const s=[];return this.options.bold!==!1&&s.push(GB.configure(this.options.bold)),this.options.blockquote!==!1&&s.push($B.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(PC.configure(this.options.bulletList)),this.options.code!==!1&&s.push(JB.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(QB.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(XB.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(pF.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(gF.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(e$.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(t$.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(bF.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(n$.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(l$.configure(this.options.italic)),this.options.listItem!==!1&&s.push(BC.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(GC.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&s.push(UC.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&s.push(ZC.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(q$.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(Z$.configure(this.options.strike)),this.options.text!==!1&&s.push(J$.configure(this.options.text)),this.options.underline!==!1&&s.push(W$.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(xF.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),vF=yF,jF=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,wF=fr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Jt(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,s,l,c;const u=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",d=(s=(r=e.attrs)==null?void 0:r.alt)!=null?s:"",m=(c=(l=e.attrs)==null?void 0:l.title)!=null?c:"";return m?`![${d}](${u} "${m}")`:`![${d}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:l,HTMLAttributes:c})=>{const u=document.createElement("img");Object.entries(c).forEach(([p,g])=>{if(g!=null)switch(p){case"width":case"height":break;default:u.setAttribute(p,g);break}}),u.src=c.src;const d=new cB({element:u,node:s,getPos:l,onResize:(p,g)=>{u.style.width=`${p}px`,u.style.height=`${g}px`},onCommit:(p,g)=>{const x=l();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:p,height:g}).run()},onUpdate:(p,g,x)=>p.type===s.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:r===!0}}),m=d.dom;return m.style.visibility="hidden",m.style.pointerEvents="none",u.onload=()=>{m.style.visibility="",m.style.pointerEvents=""},d}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[EC({find:jF,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),NF=wF,kF=20,eT=(e,t=0)=>{const n=[];return!e.children.length||t>kF||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...eT(r,t+1))}),n},SF=e=>{if(!e.children.length)return;const t=eT(e);t&&t.forEach(n=>{var r,s;const l=n.getAttribute("style"),c=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${c};${l}`)})},tT=Qa.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&SF(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",Jt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(l=>!!l))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),EF=Et.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const l=r[s].split(":");if(l.length>=2){const c=l[0].trim().toLowerCase(),u=l.slice(1).join(":").trim();if(c==="background-color")return u.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),nT=Et.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const l=r[s].split(":");if(l.length>=2){const c=l[0].trim().toLowerCase(),u=l.slice(1).join(":").trim();if(c==="color")return u.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),CF=Et.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),TF=Et.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),AF=Et.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Et.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(EF.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(nT.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(CF.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(TF.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(AF.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(tT.configure(this.options.textStyle)),e}});var MF=nT,OF=Et.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),zF=OF;function bs({value:e,onChange:t,placeholder:n="Masukkan konten...",className:r="",enableImageUpload:s=!0}){const[l,c]=S.useState(!1),u=RB({extensions:[vF.configure({heading:{levels:[1,2,3]}}),z$.configure({openOnClick:!1,HTMLAttributes:{class:"text-green-600 underline hover:text-green-700"}}),NF.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),zF.configure({types:["heading","paragraph"]}),tT,MF],content:e,onUpdate:({editor:p})=>{t(p.getHTML())},editorProps:{attributes:{class:"prose prose-lg max-w-none focus:outline-none min-h-[300px] px-4 py-3","data-placeholder":n}}});if(S.useEffect(()=>{if(u){const p=u.getHTML();e!==void 0&&e!==p&&u.commands.setContent(e,{emitUpdate:!1})}},[e]),!u)return a.jsx("div",{className:`border border-gray-300 rounded-lg overflow-hidden ${r}`,children:a.jsx("div",{className:"bg-gray-50 p-4 text-center text-gray-500",children:"Memuat editor..."})});const d=()=>{if(s){const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=async g=>{const x=g.target.files?.[0];if(x){c(!0);try{const b=await ae.upload("/admin/upload",x,"general"),v=b.url||b.path||"";if(v){const j=oe(v);u.chain().focus().setImage({src:j}).run()}}catch(b){console.error("Error uploading image:",b),alert("Gagal mengupload gambar. Silakan coba lagi.")}finally{c(!1)}}},p.click()}else{const p=window.prompt("Masukkan URL gambar:");p&&u.chain().focus().setImage({src:p}).run()}},m=()=>{const p=u.getAttributes("link").href,g=window.prompt("Masukkan URL:",p);if(g!==null){if(g===""){u.chain().focus().extendMarkRange("link").unsetLink().run();return}u.chain().focus().extendMarkRange("link").setLink({href:g}).run()}};return a.jsxs("div",{className:`border border-gray-300 rounded-lg overflow-hidden ${r}`,children:[a.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 p-2 flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleBold().run(),disabled:!u.can().chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("bold")?"bg-green-100 text-green-700":""}`,title:"Bold",children:a.jsx(n6,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleItalic().run(),disabled:!u.can().chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("italic")?"bg-green-100 text-green-700":""}`,title:"Italic",children:a.jsx(_6,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("underline")?"bg-green-100 text-green-700":""}`,title:"Underline",children:a.jsx(DO,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleStrike().run(),disabled:!u.can().chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("strike")?"bg-green-100 text-green-700":""}`,title:"Strikethrough",children:a.jsx(CO,{size:18})})]}),a.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleHeading({level:1}).run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("heading",{level:1})?"bg-green-100 text-green-700":""}`,title:"Heading 1",children:a.jsx(w6,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("heading",{level:2})?"bg-green-100 text-green-700":""}`,title:"Heading 2",children:a.jsx(k6,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleHeading({level:3}).run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("heading",{level:3})?"bg-green-100 text-green-700":""}`,title:"Heading 3",children:a.jsx(E6,{size:18})})]}),a.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("bulletList")?"bg-green-100 text-green-700":""}`,title:"Bullet List",children:a.jsx(V6,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("orderedList")?"bg-green-100 text-green-700":""}`,title:"Ordered List",children:a.jsx($6,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().toggleBlockquote().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("blockquote")?"bg-green-100 text-green-700":""}`,title:"Quote",children:a.jsx(fO,{size:18})})]}),a.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[a.jsx("button",{type:"button",onClick:()=>u.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive({textAlign:"left"})?"bg-green-100 text-green-700":""}`,title:"Align Left",children:a.jsx("span",{className:"text-xs font-bold",children:"L"})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive({textAlign:"center"})?"bg-green-100 text-green-700":""}`,title:"Align Center",children:a.jsx("span",{className:"text-xs font-bold",children:"C"})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive({textAlign:"right"})?"bg-green-100 text-green-700":""}`,title:"Align Right",children:a.jsx("span",{className:"text-xs font-bold",children:"R"})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().setTextAlign("justify").run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive({textAlign:"justify"})?"bg-green-100 text-green-700":""}`,title:"Justify",children:a.jsx("span",{className:"text-xs font-bold",children:"J"})})]}),a.jsxs("div",{className:"flex items-center gap-1 border-r border-gray-300 pr-2",children:[a.jsx("button",{type:"button",onClick:m,className:`p-2 rounded hover:bg-gray-200 transition-colors ${u.isActive("link")?"bg-green-100 text-green-700":""}`,title:"Link",children:a.jsx(P6,{size:18})}),a.jsx("button",{type:"button",onClick:d,disabled:l,className:`p-2 rounded hover:bg-gray-200 transition-colors ${l?"opacity-50 cursor-not-allowed":""}`,title:l?"Mengupload...":"Image",children:a.jsx(A6,{size:18})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{type:"button",onClick:()=>u.chain().focus().undo().run(),disabled:!u.can().chain().focus().undo().run(),className:"p-2 rounded hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo",children:a.jsx(_O,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u.chain().focus().redo().run(),disabled:!u.can().chain().focus().redo().run(),className:"p-2 rounded hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo",children:a.jsx(hO,{size:18})})]})]}),a.jsx("div",{className:"bg-white relative",children:a.jsx(AB,{editor:u})}),a.jsx("style",{children:`
        .ProseMirror {
          outline: none;
          min-height: 300px;
          padding: 1rem;
        }
        .ProseMirror p.is-editor-empty:first-child::before {
          content: attr(data-placeholder);
          float: left;
          color: #9ca3af;
          pointer-events: none;
          height: 0;
        }
        .ProseMirror h1 {
          font-size: 2em;
          font-weight: bold;
          margin-top: 0.67em;
          margin-bottom: 0.67em;
        }
        .ProseMirror h2 {
          font-size: 1.5em;
          font-weight: bold;
          margin-top: 0.83em;
          margin-bottom: 0.83em;
        }
        .ProseMirror h3 {
          font-size: 1.17em;
          font-weight: bold;
          margin-top: 1em;
          margin-bottom: 1em;
        }
        .ProseMirror ul, .ProseMirror ol {
          padding-left: 2em;
          margin: 1em 0;
        }
        .ProseMirror ul {
          list-style-type: disc;
        }
        .ProseMirror ol {
          list-style-type: decimal;
        }
        .ProseMirror blockquote {
          border-left: 4px solid #22c55e;
          padding-left: 1em;
          margin: 1em 0;
          font-style: italic;
          color: #6b7280;
        }
        .ProseMirror img {
          max-width: 100%;
          height: auto;
          border-radius: 0.5rem;
          margin: 1em 0;
        }
        .ProseMirror a {
          color: #22c55e;
          text-decoration: underline;
        }
        .ProseMirror a:hover {
          color: #16a34a;
        }
        .ProseMirror strong {
          font-weight: bold;
        }
        .ProseMirror em {
          font-style: italic;
        }
        .ProseMirror u {
          text-decoration: underline;
        }
        .ProseMirror s {
          text-decoration: line-through;
        }
      `})]})}function rT({value:e,onChange:t}){const[n,r]=S.useState(new Set),s=()=>{const m={id:`faq-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,question:"",questionEn:"",answer:"",answerEn:"",order:e.length};t([...e,m]),r(new Set([...n,m.id]))},l=m=>{t(e.filter(g=>g.id!==m));const p=new Set(n);p.delete(m),r(p)},c=(m,p,g)=>{t(e.map(x=>x.id===m?{...x,[p]:g}:x))},u=m=>{const p=new Set(n);p.has(m)?p.delete(m):p.add(m),r(p)},d=(m,p)=>{if(p==="up"&&m===0||p==="down"&&m===e.length-1)return;const g=[...e],x=p==="up"?m-1:m+1;[g[m],g[x]]=[g[x],g[m]],g.forEach((b,v)=>{b.order=v}),t(g)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"FAQ Items *"}),a.jsxs("button",{type:"button",onClick:s,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah FAQ"})]})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada FAQ item. Klik "Tambah FAQ" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.map((m,p)=>{const g=n.has(m.id);return a.jsxs("div",{className:"border border-gray-300 rounded-lg bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-gray-50 rounded-t-lg",children:[a.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",title:"Drag to reorder",children:a.jsx(ts,{size:20})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900",children:m.question||`FAQ Item ${p+1}`})}),a.jsxs("div",{className:"flex items-center gap-2",children:[p>0&&a.jsx("button",{type:"button",onClick:()=>d(p,"up"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move up",children:a.jsx(Zt,{size:18})}),p<e.length-1&&a.jsx("button",{type:"button",onClick:()=>d(p,"down"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move down",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u(m.id),className:"p-1 text-gray-400 hover:text-gray-600",title:g?"Collapse":"Expand",children:g?a.jsx(Zt,{size:18}):a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>l(m.id),className:"p-1 text-red-500 hover:text-red-700",title:"Hapus FAQ",children:a.jsx(Ae,{size:18})})]})]}),g&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pertanyaan (ID) *"}),a.jsx("input",{type:"text",value:m.question,onChange:x=>c(m.id,"question",x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Masukkan pertanyaan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pertanyaan (EN)"}),a.jsx("input",{type:"text",value:m.questionEn||"",onChange:x=>c(m.id,"questionEn",x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Question (EN)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jawaban (ID) *"}),a.jsx(bs,{value:m.answer,onChange:x=>c(m.id,"answer",x),placeholder:"Masukkan jawaban"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jawaban (EN)"}),a.jsx(bs,{value:m.answerEn||"",onChange:x=>c(m.id,"answerEn",x),placeholder:"Answer (EN)"})]})]})]},m.id)})})]})}function DF({value:e,onChange:t}){const[n,r]=S.useState(new Set),[s,l]=S.useState(null),c=()=>{const x={id:`figure-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:"",nameEn:"",position:"",positionEn:"",image:""};t([...e,x]),r(new Set([...n,x.id]))},u=x=>{t(e.filter(v=>v.id!==x));const b=new Set(n);b.delete(x),r(b)},d=(x,b,v)=>{t(e.map(j=>j.id===x?{...j,[b]:v}:j))},m=x=>{const b=new Set(n);b.has(x)?b.delete(x):b.add(x),r(b)},p=(x,b)=>{if(b==="up"&&x===0||b==="down"&&x===e.length-1)return;const v=[...e],j=b==="up"?x-1:x+1;[v[x],v[j]]=[v[j],v[x]],t(v)},g=async(x,b)=>{const v=x.target.files?.[0];if(v){if(!v.type.startsWith("image/")){alert("File harus berupa gambar");return}if(v.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}l(b);try{const j=await ae.upload("/admin/upload",v,"home-sections"),N=j.url||j.path||"";if(!N)throw new Error("Upload gagal: URL tidak ditemukan dalam response");d(b,"image",N)}catch(j){console.error("Upload error:",j),alert(j.message||"Gagal mengupload gambar")}finally{l(null)}}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tokoh / Figures *"}),a.jsxs("button",{type:"button",onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Tokoh"})]})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada tokoh. Klik "Tambah Tokoh" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.map((x,b)=>{const v=n.has(x.id);return a.jsxs("div",{className:"border border-gray-300 rounded-lg bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-gray-50 rounded-t-lg",children:[a.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",title:"Drag to reorder",children:a.jsx(ts,{size:20})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"font-medium text-gray-900",children:x.name||`Tokoh ${b+1}`})}),a.jsxs("div",{className:"flex items-center gap-2",children:[b>0&&a.jsx("button",{type:"button",onClick:()=>p(b,"up"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move up",children:a.jsx(Zt,{size:18})}),b<e.length-1&&a.jsx("button",{type:"button",onClick:()=>p(b,"down"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move down",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(x.id),className:"p-1 text-gray-400 hover:text-gray-600",title:v?"Collapse":"Expand",children:v?a.jsx(Zt,{size:18}):a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u(x.id),className:"p-1 text-red-500 hover:text-red-700",title:"Hapus Tokoh",children:a.jsx(Ae,{size:18})})]})]}),v&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto Tokoh *"}),x.image?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:oe(x.image),alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>d(x.id,"image",""),className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:j=>g(j,x.id),disabled:s===x.id,className:"hidden",id:`figure-image-${x.id}`}),a.jsx("label",{htmlFor:`figure-image-${x.id}`,className:`cursor-pointer flex flex-col items-center justify-center ${s===x.id?"opacity-50 cursor-not-allowed":""}`,children:s===x.id?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload foto"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama (ID) *"}),a.jsx("input",{type:"text",value:x.name,onChange:j=>d(x.id,"name",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Masukkan nama"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama (EN)"}),a.jsx("input",{type:"text",value:x.nameEn||"",onChange:j=>d(x.id,"nameEn",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Name (EN)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posisi / Jabatan (ID) *"}),a.jsx("input",{type:"text",value:x.position,onChange:j=>d(x.id,"position",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Masukkan posisi/jabatan"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Posisi / Jabatan (EN)"}),a.jsx("input",{type:"text",value:x.positionEn||"",onChange:j=>d(x.id,"positionEn",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Position (EN)"})]})]})]},x.id)})})]})}const IF={international:{id:"Kerjasama Internasional",en:"International Cooperation"},health:{id:"Kerjasama Kesehatan",en:"Health Cooperation"},"student-escort":{id:"Kerjasama Pengawalan Siswa",en:"Student Escort Cooperation"}};function _F({value:e,onChange:t}){const[n,r]=S.useState([]),[s,l]=S.useState(null);S.useEffect(()=>{if(e)if(typeof e=="string")try{const b=JSON.parse(e);r(Array.isArray(b)?b:[])}catch{r([])}else Array.isArray(e)?r(e):r([]);else r([])},[e]);const c=()=>{const b={id:`partnership-${Date.now()}`,name:"",nameEn:"",logo:"",location:"",locationEn:"",category:"international",order:n.length},v=[...n,b];r(v),t(v)},u=b=>{const v=n.filter(j=>j.id!==b);r(v),t(v)},d=(b,v,j)=>{const N=n.map(k=>k.id===b?{...k,[v]:j}:k);r(N),t(N)},m=(b,v)=>{const j=n.findIndex(C=>C.id===b);if(j===-1)return;const N=v==="up"?j-1:j+1;if(N<0||N>=n.length)return;const k=[...n],[T]=k.splice(j,1);k.splice(N,0,T),k.forEach((C,A)=>{C.order=A}),r(k),t(k)},p=async(b,v)=>{if(v){if(!v.type.startsWith("image/")){alert("File harus berupa gambar");return}if(v.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}l(b);try{const j=await ae.upload("/admin/upload",v,"home-sections"),N=j.url||j.path||"";if(!N)throw new Error("Upload gagal: URL tidak ditemukan dalam response");d(b,"logo",N)}catch(j){console.error("Upload error:",j),alert(j.message||"Gagal mengupload gambar")}finally{l(null)}}},g=n.reduce((b,v)=>(b[v.category]||(b[v.category]=[]),b[v.category].push(v),b),{}),x=["international","health","student-escort"];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Partnerships / Kerjasama *"}),a.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"+ Tambah Partnership"})]}),n.length===0?a.jsx("p",{className:"text-sm text-gray-500 italic",children:"Belum ada partnership. Klik tombol di atas untuk menambahkan."}):a.jsx("div",{className:"space-y-8",children:x.map(b=>{const v=g[b]||[];if(v.length===0)return null;const j=IF[b];return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:j.id}),a.jsx("div",{className:"space-y-4",children:v.map((N,k)=>a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>m(N.id,"up"),disabled:k===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:""}),a.jsx("button",{type:"button",onClick:()=>m(N.id,"down"),disabled:k===v.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-30",children:""})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Kategori"}),a.jsxs("select",{value:N.category,onChange:T=>d(N.id,"category",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[a.jsx("option",{value:"international",children:"Kerjasama"}),a.jsx("option",{value:"health",children:"Kerjasama Kesehatan"}),a.jsx("option",{value:"student-escort",children:"Kerjasama Pengawalan Siswa"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nama (ID) *"}),a.jsx("input",{type:"text",value:N.name,onChange:T=>d(N.id,"name",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Nama partnership"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nama (EN)"}),a.jsx("input",{type:"text",value:N.nameEn||"",onChange:T=>d(N.id,"nameEn",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Partnership name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Lokasi (ID)"}),a.jsx("input",{type:"text",value:N.location||"",onChange:T=>d(N.id,"location",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Lokasi (contoh: UK, Malaysia)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Lokasi (EN)"}),a.jsx("input",{type:"text",value:N.locationEn||"",onChange:T=>d(N.id,"locationEn",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Location (e.g., UK, Malaysia)"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Logo *"}),N.logo?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:oe(N.logo),alt:N.name,className:"h-20 w-auto object-contain border border-gray-300 rounded p-2 bg-white",onError:T=>{console.error("Failed to load logo:",N.logo),T.currentTarget.style.display="none"}}),a.jsx("button",{type:"button",onClick:()=>d(N.id,"logo",""),className:"absolute top-0 right-0 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:14})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:T=>{const C=T.target.files?.[0];C&&p(N.id,C)},disabled:s===N.id,className:"hidden",id:`logo-upload-${N.id}`}),a.jsxs("label",{htmlFor:`logo-upload-${N.id}`,className:"cursor-pointer flex flex-col items-center gap-2",children:[a.jsx(lt,{size:20,className:"text-gray-400"}),a.jsx("span",{className:"text-xs text-gray-600",children:s===N.id?"Uploading...":"Klik untuk upload logo"})]})]})]})]}),a.jsx("button",{type:"button",onClick:()=>u(N.id),className:"text-red-600 hover:text-red-700 p-2",children:a.jsx(Ae,{size:18})})]})},N.id))})]},b)})})]})}function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function RF(e,t){if(Bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sT(e){var t=RF(e,"string");return Bi(t)=="symbol"?t:t+""}function jc(e,t,n){return(t=sT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(n),!0).forEach(function(r){jc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LF(e){if(Array.isArray(e))return e}function UF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,l,c,u=[],d=!0,m=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=l.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){m=!0,s=p}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw s}}return u}}function Yx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aT(e,t){if(e){if(typeof e=="string")return Yx(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yx(e,t):void 0}}function PF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qs(e,t){return LF(e)||UF(e,t)||aT(e,t)||PF()}function BF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ra(e,t){if(e==null)return{};var n,r,s=BF(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var $F=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function FF(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,s=r===void 0?!1:r,l=e.defaultValue,c=l===void 0?null:l,u=e.inputValue,d=e.menuIsOpen,m=e.onChange,p=e.onInputChange,g=e.onMenuClose,x=e.onMenuOpen,b=e.value,v=ra(e,$F),j=S.useState(u!==void 0?u:n),N=Qs(j,2),k=N[0],T=N[1],C=S.useState(d!==void 0?d:s),A=Qs(C,2),M=A[0],D=A[1],z=S.useState(b!==void 0?b:c),L=Qs(z,2),K=L[0],X=L[1],R=S.useCallback(function(V,ve){typeof m=="function"&&m(V,ve),X(V)},[m]),_=S.useCallback(function(V,ve){var he;typeof p=="function"&&(he=p(V,ve)),T(he!==void 0?he:V)},[p]),U=S.useCallback(function(){typeof x=="function"&&x(),D(!0)},[x]),P=S.useCallback(function(){typeof g=="function"&&g(),D(!1)},[g]),G=u!==void 0?u:k,B=d!==void 0?d:M,Y=b!==void 0?b:K;return Fe(Fe({},v),{},{inputValue:G,menuIsOpen:B,onChange:R,onInputChange:_,onMenuClose:P,onMenuOpen:U,value:Y})}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(null,arguments)}function VF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sT(r.key),r)}}function HF(e,t,n){return t&&x2(e.prototype,t),n&&x2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qx(e,t){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qx(e,t)}function qF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qx(e,t)}function cm(e){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cm(e)}function iT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iT=function(){return!!e})()}function GF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KF(e,t){if(t&&(Bi(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GF(e)}function ZF(e){var t=iT();return function(){var n,r=cm(e);if(t){var s=cm(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return KF(this,n)}}function JF(e){if(Array.isArray(e))return Yx(e)}function WF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kb(e){return JF(e)||WF(e)||aT(e)||YF()}function QF(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function XF(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var eV=(function(){function e(n){var r=this;this._insertTag=function(s){var l;r.tags.length===0?r.insertionPoint?l=r.insertionPoint.nextSibling:r.prepend?l=r.container.firstChild:l=r.before:l=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,l),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XF(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var l=QF(s);try{l.insertRule(r,l.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e})(),Un="-ms-",um="-moz-",ht="-webkit-",lT="comm",Sb="rule",Eb="decl",tV="@import",oT="@keyframes",nV="@layer",rV=Math.abs,Hm=String.fromCharCode,sV=Object.assign;function aV(e,t){return Dn(e,0)^45?(((t<<2^Dn(e,0))<<2^Dn(e,1))<<2^Dn(e,2))<<2^Dn(e,3):0}function cT(e){return e.trim()}function iV(e,t){return(e=t.exec(e))?e[0]:e}function pt(e,t,n){return e.replace(t,n)}function Xx(e,t){return e.indexOf(t)}function Dn(e,t){return e.charCodeAt(t)|0}function Qc(e,t,n){return e.slice(t,n)}function ms(e){return e.length}function Cb(e){return e.length}function Jd(e,t){return t.push(e),e}function lV(e,t){return e.map(t).join("")}var qm=1,to=1,uT=0,ur=0,cn=0,uo="";function Gm(e,t,n,r,s,l,c){return{value:e,root:t,parent:n,type:r,props:s,children:l,line:qm,column:to,length:c,return:""}}function hc(e,t){return sV(Gm("",null,null,"",null,null,0),e,{length:-e.length},t)}function oV(){return cn}function cV(){return cn=ur>0?Dn(uo,--ur):0,to--,cn===10&&(to=1,qm--),cn}function kr(){return cn=ur<uT?Dn(uo,ur++):0,to++,cn===10&&(to=1,qm++),cn}function ps(){return Dn(uo,ur)}function uf(){return ur}function fu(e,t){return Qc(uo,e,t)}function Xc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dT(e){return qm=to=1,uT=ms(uo=e),ur=0,[]}function fT(e){return uo="",e}function df(e){return cT(fu(ur-1,e0(e===91?e+2:e===40?e+1:e)))}function uV(e){for(;(cn=ps())&&cn<33;)kr();return Xc(e)>2||Xc(cn)>3?"":" "}function dV(e,t){for(;--t&&kr()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return fu(e,uf()+(t<6&&ps()==32&&kr()==32))}function e0(e){for(;kr();)switch(cn){case e:return ur;case 34:case 39:e!==34&&e!==39&&e0(cn);break;case 40:e===41&&e0(e);break;case 92:kr();break}return ur}function fV(e,t){for(;kr()&&e+cn!==57;)if(e+cn===84&&ps()===47)break;return"/*"+fu(t,ur-1)+"*"+Hm(e===47?e:kr())}function mV(e){for(;!Xc(ps());)kr();return fu(e,ur)}function hV(e){return fT(ff("",null,null,null,[""],e=dT(e),0,[0],e))}function ff(e,t,n,r,s,l,c,u,d){for(var m=0,p=0,g=c,x=0,b=0,v=0,j=1,N=1,k=1,T=0,C="",A=s,M=l,D=r,z=C;N;)switch(v=T,T=kr()){case 40:if(v!=108&&Dn(z,g-1)==58){Xx(z+=pt(df(T),"&","&\f"),"&\f")!=-1&&(k=-1);break}case 34:case 39:case 91:z+=df(T);break;case 9:case 10:case 13:case 32:z+=uV(v);break;case 92:z+=dV(uf()-1,7);continue;case 47:switch(ps()){case 42:case 47:Jd(pV(fV(kr(),uf()),t,n),d);break;default:z+="/"}break;case 123*j:u[m++]=ms(z)*k;case 125*j:case 59:case 0:switch(T){case 0:case 125:N=0;case 59+p:k==-1&&(z=pt(z,/\f/g,"")),b>0&&ms(z)-g&&Jd(b>32?y2(z+";",r,n,g-1):y2(pt(z," ","")+";",r,n,g-2),d);break;case 59:z+=";";default:if(Jd(D=b2(z,t,n,m,p,s,u,C,A=[],M=[],g),l),T===123)if(p===0)ff(z,t,D,D,A,l,g,u,M);else switch(x===99&&Dn(z,3)===110?100:x){case 100:case 108:case 109:case 115:ff(e,D,D,r&&Jd(b2(e,D,D,0,0,s,u,C,s,A=[],g),M),s,M,g,u,r?A:M);break;default:ff(z,D,D,D,[""],M,0,u,M)}}m=p=b=0,j=k=1,C=z="",g=c;break;case 58:g=1+ms(z),b=v;default:if(j<1){if(T==123)--j;else if(T==125&&j++==0&&cV()==125)continue}switch(z+=Hm(T),T*j){case 38:k=p>0?1:(z+="\f",-1);break;case 44:u[m++]=(ms(z)-1)*k,k=1;break;case 64:ps()===45&&(z+=df(kr())),x=ps(),p=g=ms(C=z+=mV(uf())),T++;break;case 45:v===45&&ms(z)==2&&(j=0)}}return l}function b2(e,t,n,r,s,l,c,u,d,m,p){for(var g=s-1,x=s===0?l:[""],b=Cb(x),v=0,j=0,N=0;v<r;++v)for(var k=0,T=Qc(e,g+1,g=rV(j=c[v])),C=e;k<b;++k)(C=cT(j>0?x[k]+" "+T:pt(T,/&\f/g,x[k])))&&(d[N++]=C);return Gm(e,t,n,s===0?Sb:u,d,m,p)}function pV(e,t,n){return Gm(e,t,n,lT,Hm(oV()),Qc(e,2,-2),0)}function y2(e,t,n,r){return Gm(e,t,n,Eb,Qc(e,0,r),Qc(e,r+1,-1),r)}function Hl(e,t){for(var n="",r=Cb(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function gV(e,t,n,r){switch(e.type){case nV:if(e.children.length)break;case tV:case Eb:return e.return=e.return||e.value;case lT:return"";case oT:return e.return=e.value+"{"+Hl(e.children,r)+"}";case Sb:e.value=e.props.join(",")}return ms(n=Hl(e.children,r))?e.return=e.value+"{"+n+"}":""}function xV(e){var t=Cb(e);return function(n,r,s,l){for(var c="",u=0;u<t;u++)c+=e[u](n,r,s,l)||"";return c}}function bV(e){return function(t){t.root||(t=t.return)&&e(t)}}function yV(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var vV=function(t,n,r){for(var s=0,l=0;s=l,l=ps(),s===38&&l===12&&(n[r]=1),!Xc(l);)kr();return fu(t,ur)},jV=function(t,n){var r=-1,s=44;do switch(Xc(s)){case 0:s===38&&ps()===12&&(n[r]=1),t[r]+=vV(ur-1,n,r);break;case 2:t[r]+=df(s);break;case 4:if(s===44){t[++r]=ps()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Hm(s)}while(s=kr());return t},wV=function(t,n){return fT(jV(dT(t),n))},v2=new WeakMap,NV=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!v2.get(r))&&!s){v2.set(t,!0);for(var l=[],c=wV(n,l),u=r.props,d=0,m=0;d<c.length;d++)for(var p=0;p<u.length;p++,m++)t.props[m]=l[d]?c[d].replace(/&\f/g,u[p]):u[p]+" "+c[d]}}},kV=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function mT(e,t){switch(aV(e,t)){case 5103:return ht+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ht+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ht+e+um+e+Un+e+e;case 6828:case 4268:return ht+e+Un+e+e;case 6165:return ht+e+Un+"flex-"+e+e;case 5187:return ht+e+pt(e,/(\w+).+(:[^]+)/,ht+"box-$1$2"+Un+"flex-$1$2")+e;case 5443:return ht+e+Un+"flex-item-"+pt(e,/flex-|-self/,"")+e;case 4675:return ht+e+Un+"flex-line-pack"+pt(e,/align-content|flex-|-self/,"")+e;case 5548:return ht+e+Un+pt(e,"shrink","negative")+e;case 5292:return ht+e+Un+pt(e,"basis","preferred-size")+e;case 6060:return ht+"box-"+pt(e,"-grow","")+ht+e+Un+pt(e,"grow","positive")+e;case 4554:return ht+pt(e,/([^-])(transform)/g,"$1"+ht+"$2")+e;case 6187:return pt(pt(pt(e,/(zoom-|grab)/,ht+"$1"),/(image-set)/,ht+"$1"),e,"")+e;case 5495:case 3959:return pt(e,/(image-set\([^]*)/,ht+"$1$`$1");case 4968:return pt(pt(e,/(.+:)(flex-)?(.*)/,ht+"box-pack:$3"+Un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ht+e+e;case 4095:case 3583:case 4068:case 2532:return pt(e,/(.+)-inline(.+)/,ht+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ms(e)-1-t>6)switch(Dn(e,t+1)){case 109:if(Dn(e,t+4)!==45)break;case 102:return pt(e,/(.+:)(.+)-([^]+)/,"$1"+ht+"$2-$3$1"+um+(Dn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Xx(e,"stretch")?mT(pt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Dn(e,t+1)!==115)break;case 6444:switch(Dn(e,ms(e)-3-(~Xx(e,"!important")&&10))){case 107:return pt(e,":",":"+ht)+e;case 101:return pt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ht+(Dn(e,14)===45?"inline-":"")+"box$3$1"+ht+"$2$3$1"+Un+"$2box$3")+e}break;case 5936:switch(Dn(e,t+11)){case 114:return ht+e+Un+pt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ht+e+Un+pt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ht+e+Un+pt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ht+e+Un+e+e}return e}var SV=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case Eb:t.return=mT(t.value,t.length);break;case oT:return Hl([hc(t,{value:pt(t.value,"@","@"+ht)})],s);case Sb:if(t.length)return lV(t.props,function(l){switch(iV(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Hl([hc(t,{props:[pt(l,/:(read-\w+)/,":"+um+"$1")]})],s);case"::placeholder":return Hl([hc(t,{props:[pt(l,/:(plac\w+)/,":"+ht+"input-$1")]}),hc(t,{props:[pt(l,/:(plac\w+)/,":"+um+"$1")]}),hc(t,{props:[pt(l,/:(plac\w+)/,Un+"input-$1")]})],s)}return""})}},EV=[SV],CV=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(j){var N=j.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var s=t.stylisPlugins||EV,l={},c,u=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(j){for(var N=j.getAttribute("data-emotion").split(" "),k=1;k<N.length;k++)l[N[k]]=!0;u.push(j)});var d,m=[NV,kV];{var p,g=[gV,bV(function(j){p.insert(j)})],x=xV(m.concat(s,g)),b=function(N){return Hl(hV(N),x)};d=function(N,k,T,C){p=T,b(N?N+"{"+k.styles+"}":k.styles),C&&(v.inserted[k.name]=!0)}}var v={key:n,sheet:new eV({key:n,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:d};return v.sheet.hydrate(u),v},ex={exports:{}},xt={};var j2;function TV(){if(j2)return xt;j2=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,m=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,x=e?Symbol.for("react.suspense_list"):60120,b=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,j=e?Symbol.for("react.block"):60121,N=e?Symbol.for("react.fundamental"):60117,k=e?Symbol.for("react.responder"):60118,T=e?Symbol.for("react.scope"):60119;function C(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case t:switch(M=M.type,M){case d:case m:case r:case l:case s:case g:return M;default:switch(M=M&&M.$$typeof,M){case u:case p:case v:case b:case c:return M;default:return D}}case n:return D}}}function A(M){return C(M)===m}return xt.AsyncMode=d,xt.ConcurrentMode=m,xt.ContextConsumer=u,xt.ContextProvider=c,xt.Element=t,xt.ForwardRef=p,xt.Fragment=r,xt.Lazy=v,xt.Memo=b,xt.Portal=n,xt.Profiler=l,xt.StrictMode=s,xt.Suspense=g,xt.isAsyncMode=function(M){return A(M)||C(M)===d},xt.isConcurrentMode=A,xt.isContextConsumer=function(M){return C(M)===u},xt.isContextProvider=function(M){return C(M)===c},xt.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},xt.isForwardRef=function(M){return C(M)===p},xt.isFragment=function(M){return C(M)===r},xt.isLazy=function(M){return C(M)===v},xt.isMemo=function(M){return C(M)===b},xt.isPortal=function(M){return C(M)===n},xt.isProfiler=function(M){return C(M)===l},xt.isStrictMode=function(M){return C(M)===s},xt.isSuspense=function(M){return C(M)===g},xt.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===m||M===l||M===s||M===g||M===x||typeof M=="object"&&M!==null&&(M.$$typeof===v||M.$$typeof===b||M.$$typeof===c||M.$$typeof===u||M.$$typeof===p||M.$$typeof===N||M.$$typeof===k||M.$$typeof===T||M.$$typeof===j)},xt.typeOf=C,xt}var w2;function AV(){return w2||(w2=1,ex.exports=TV()),ex.exports}var tx,N2;function MV(){if(N2)return tx;N2=1;var e=AV(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[e.ForwardRef]=r,l[e.Memo]=s;function c(v){return e.isMemo(v)?s:l[v.$$typeof]||t}var u=Object.defineProperty,d=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,x=Object.prototype;function b(v,j,N){if(typeof j!="string"){if(x){var k=g(j);k&&k!==x&&b(v,k,N)}var T=d(j);m&&(T=T.concat(m(j)));for(var C=c(v),A=c(j),M=0;M<T.length;++M){var D=T[M];if(!n[D]&&!(N&&N[D])&&!(A&&A[D])&&!(C&&C[D])){var z=p(j,D);try{u(v,D,z)}catch{}}}}return v}return tx=b,tx}MV();var OV=!0;function zV(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var hT=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||OV===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},DV=function(t,n,r){hT(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var l=n;do t.insert(n===l?"."+s:"",l,t.sheet,!0),l=l.next;while(l!==void 0)}};function IV(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var _V={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},RV=/[A-Z]|^ms/g,LV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pT=function(t){return t.charCodeAt(1)===45},k2=function(t){return t!=null&&typeof t!="boolean"},nx=yV(function(e){return pT(e)?e:e.replace(RV,"-$&").toLowerCase()}),S2=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(LV,function(r,s,l){return hs={name:s,styles:l,next:hs},s})}return _V[t]!==1&&!pT(t)&&typeof n=="number"&&n!==0?n+"px":n};function eu(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return hs={name:s.name,styles:s.styles,next:hs},s.name;var l=n;if(l.styles!==void 0){var c=l.next;if(c!==void 0)for(;c!==void 0;)hs={name:c.name,styles:c.styles,next:hs},c=c.next;var u=l.styles+";";return u}return UV(e,t,n)}case"function":{if(e!==void 0){var d=hs,m=n(e);return hs=d,eu(e,t,m)}break}}var p=n;return p}function UV(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=eu(e,t,n[s])+";";else for(var l in n){var c=n[l];if(typeof c!="object"){var u=c;k2(u)&&(r+=nx(l)+":"+S2(l,u)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&t==null)for(var d=0;d<c.length;d++)k2(c[d])&&(r+=nx(l)+":"+S2(l,c[d])+";");else{var m=eu(e,t,c);switch(l){case"animation":case"animationName":{r+=nx(l)+":"+m+";";break}default:r+=l+"{"+m+"}"}}}return r}var E2=/label:\s*([^\s;{]+)\s*(;|$)/g,hs;function gT(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";hs=void 0;var l=e[0];if(l==null||l.raw===void 0)r=!1,s+=eu(n,t,l);else{var c=l;s+=c[0]}for(var u=1;u<e.length;u++)if(s+=eu(n,t,e[u]),r){var d=l;s+=d[u]}E2.lastIndex=0;for(var m="",p;(p=E2.exec(s))!==null;)m+="-"+p[1];var g=IV(s)+m;return{name:g,styles:s,next:hs}}var PV=function(t){return t()},BV=_j.useInsertionEffect?_j.useInsertionEffect:!1,$V=BV||PV,xT=S.createContext(typeof HTMLElement<"u"?CV({key:"css"}):null);xT.Provider;var FV=function(t){return S.forwardRef(function(n,r){var s=S.useContext(xT);return t(n,s,r)})},VV=S.createContext({}),Tb={}.hasOwnProperty,t0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",HV=function(t,n){var r={};for(var s in n)Tb.call(n,s)&&(r[s]=n[s]);return r[t0]=t,r},qV=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return hT(n,r,s),$V(function(){return DV(n,r,s)}),null},GV=FV(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[t0],l=[r],c="";typeof e.className=="string"?c=zV(t.registered,l,e.className):e.className!=null&&(c=e.className+" ");var u=gT(l,void 0,S.useContext(VV));c+=t.key+"-"+u.name;var d={};for(var m in e)Tb.call(e,m)&&m!=="css"&&m!==t0&&(d[m]=e[m]);return d.className=c,n&&(d.ref=n),S.createElement(S.Fragment,null,S.createElement(qV,{cache:t,serialized:u,isStringTag:typeof s=="string"}),S.createElement(s,d))}),KV=GV,Ue=function(t,n){var r=arguments;if(n==null||!Tb.call(n,"css"))return S.createElement.apply(void 0,r);var s=r.length,l=new Array(s);l[0]=KV,l[1]=HV(t,n);for(var c=2;c<s;c++)l[c]=r[c];return S.createElement.apply(null,l)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Ue||(Ue={}));function Ab(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gT(t)}function ZV(){var e=Ab.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function JV(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const WV=Math.min,YV=Math.max,dm=Math.round,Wd=Math.floor,fm=e=>({x:e,y:e});function QV(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Km(){return typeof window<"u"}function bT(e){return vT(e)?(e.nodeName||"").toLowerCase():"#document"}function ea(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yT(e){var t;return(t=(vT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vT(e){return Km()?e instanceof Node||e instanceof ea(e).Node:!1}function XV(e){return Km()?e instanceof Element||e instanceof ea(e).Element:!1}function Mb(e){return Km()?e instanceof HTMLElement||e instanceof ea(e).HTMLElement:!1}function C2(e){return!Km()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ea(e).ShadowRoot}const e9=new Set(["inline","contents"]);function jT(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ob(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!e9.has(s)}function t9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const n9=new Set(["html","body","#document"]);function r9(e){return n9.has(bT(e))}function Ob(e){return ea(e).getComputedStyle(e)}function s9(e){if(bT(e)==="html")return e;const t=e.assignedSlot||e.parentNode||C2(e)&&e.host||yT(e);return C2(t)?t.host:t}function wT(e){const t=s9(e);return r9(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mb(t)&&jT(t)?t:wT(t)}function mm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=wT(e),l=s===((r=e.ownerDocument)==null?void 0:r.body),c=ea(s);if(l){const u=n0(c);return t.concat(c,c.visualViewport||[],jT(s)?s:[],u&&n?mm(u):[])}return t.concat(s,mm(s,[],n))}function n0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function a9(e){const t=Ob(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Mb(e),l=s?e.offsetWidth:n,c=s?e.offsetHeight:r,u=dm(n)!==l||dm(r)!==c;return u&&(n=l,r=c),{width:n,height:r,$:u}}function zb(e){return XV(e)?e:e.contextElement}function T2(e){const t=zb(e);if(!Mb(t))return fm(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:l}=a9(t);let c=(l?dm(n.width):n.width)/r,u=(l?dm(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const i9=fm(0);function l9(e){const t=ea(e);return!t9()||!t.visualViewport?i9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function o9(e,t,n){return!1}function A2(e,t,n,r){t===void 0&&(t=!1);const s=e.getBoundingClientRect(),l=zb(e);let c=fm(1);t&&(c=T2(e));const u=o9()?l9(l):fm(0);let d=(s.left+u.x)/c.x,m=(s.top+u.y)/c.y,p=s.width/c.x,g=s.height/c.y;if(l){const x=ea(l),b=r;let v=x,j=n0(v);for(;j&&r&&b!==v;){const N=T2(j),k=j.getBoundingClientRect(),T=Ob(j),C=k.left+(j.clientLeft+parseFloat(T.paddingLeft))*N.x,A=k.top+(j.clientTop+parseFloat(T.paddingTop))*N.y;d*=N.x,m*=N.y,p*=N.x,g*=N.y,d+=C,m+=A,v=ea(j),j=n0(v)}}return QV({width:p,height:g,x:d,y:m})}function NT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c9(e,t){let n=null,r;const s=yT(e);function l(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),l();const m=e.getBoundingClientRect(),{left:p,top:g,width:x,height:b}=m;if(u||t(),!x||!b)return;const v=Wd(g),j=Wd(s.clientWidth-(p+x)),N=Wd(s.clientHeight-(g+b)),k=Wd(p),C={rootMargin:-v+"px "+-j+"px "+-N+"px "+-k+"px",threshold:YV(0,WV(1,d))||1};let A=!0;function M(D){const z=D[0].intersectionRatio;if(z!==d){if(!A)return c();z?c(!1,z):r=setTimeout(()=>{c(!1,1e-7)},1e3)}z===1&&!NT(m,e.getBoundingClientRect())&&c(),A=!1}try{n=new IntersectionObserver(M,{...C,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,C)}n.observe(e)}return c(!0),l}function u9(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,m=zb(e),p=s||l?[...m?mm(m):[],...mm(t)]:[];p.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),l&&k.addEventListener("resize",n)});const g=m&&u?c9(m,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(k=>{let[T]=k;T&&T.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(t)})),n()}),m&&!d&&b.observe(m),b.observe(t));let v,j=d?A2(e):null;d&&N();function N(){const k=A2(e);j&&!NT(j,k)&&n(),j=k,v=requestAnimationFrame(N)}return n(),()=>{var k;p.forEach(T=>{s&&T.removeEventListener("scroll",n),l&&T.removeEventListener("resize",n)}),g?.(),(k=b)==null||k.disconnect(),b=null,d&&cancelAnimationFrame(v)}}var r0=S.useLayoutEffect,d9=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],hm=function(){};function f9(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function m9(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var l=[].concat(r);if(t&&e)for(var c in t)t.hasOwnProperty(c)&&t[c]&&l.push("".concat(f9(e,c)));return l.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var M2=function(t){return w9(t)?t.filter(Boolean):Bi(t)==="object"&&t!==null?[t]:[]},kT=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=ra(t,d9);return Fe({},n)},Kt=function(t,n,r){var s=t.cx,l=t.getStyles,c=t.getClassNames,u=t.className;return{css:l(n,t),className:s(r??{},c(n,t),u)}};function Zm(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function h9(e){return Zm(e)?window.innerHeight:e.clientHeight}function ST(e){return Zm(e)?window.pageYOffset:e.scrollTop}function pm(e,t){if(Zm(e)){window.scrollTo(0,t);return}e.scrollTop=t}function p9(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function g9(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Yd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hm,s=ST(e),l=t-s,c=10,u=0;function d(){u+=c;var m=g9(u,s,l,n);pm(e,m),u<n?window.requestAnimationFrame(d):r(e)}d()}function O2(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=t.offsetHeight/3;r.bottom+s>n.bottom?pm(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):r.top-s<n.top&&pm(e,Math.max(t.offsetTop-s,0))}function x9(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function z2(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function b9(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ET=!1,y9={get passive(){return ET=!0}},Qd=typeof window<"u"?window:{};Qd.addEventListener&&Qd.removeEventListener&&(Qd.addEventListener("p",hm,y9),Qd.removeEventListener("p",hm,!1));var v9=ET;function j9(e){return e!=null}function w9(e){return Array.isArray(e)}function Xd(e,t,n){return e?t:n}var N9=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var l=Object.entries(t).filter(function(c){var u=Qs(c,1),d=u[0];return!r.includes(d)});return l.reduce(function(c,u){var d=Qs(u,2),m=d[0],p=d[1];return c[m]=p,c},{})},k9=["children","innerProps"],S9=["children","innerProps"];function E9(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,s=e.placement,l=e.shouldScroll,c=e.isFixedPosition,u=e.controlHeight,d=p9(n),m={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return m;var p=d.getBoundingClientRect(),g=p.height,x=n.getBoundingClientRect(),b=x.bottom,v=x.height,j=x.top,N=n.offsetParent.getBoundingClientRect(),k=N.top,T=c?window.innerHeight:h9(d),C=ST(d),A=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),D=k-M,z=T-j,L=D+C,K=g-C-j,X=b-T+C+A,R=C+j-M,_=160;switch(s){case"auto":case"bottom":if(z>=v)return{placement:"bottom",maxHeight:t};if(K>=v&&!c)return l&&Yd(d,X,_),{placement:"bottom",maxHeight:t};if(!c&&K>=r||c&&z>=r){l&&Yd(d,X,_);var U=c?z-A:K-A;return{placement:"bottom",maxHeight:U}}if(s==="auto"||c){var P=t,G=c?D:L;return G>=r&&(P=Math.min(G-A-u,t)),{placement:"top",maxHeight:P}}if(s==="bottom")return l&&pm(d,X),{placement:"bottom",maxHeight:t};break;case"top":if(D>=v)return{placement:"top",maxHeight:t};if(L>=v&&!c)return l&&Yd(d,R,_),{placement:"top",maxHeight:t};if(!c&&L>=r||c&&D>=r){var B=t;return(!c&&L>=r||c&&D>=r)&&(B=c?D-M:L-M),l&&Yd(d,R,_),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return m}function C9(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var CT=function(t){return t==="auto"?"bottom":t},T9=function(t,n){var r,s=t.placement,l=t.theme,c=l.borderRadius,u=l.spacing,d=l.colors;return Fe((r={label:"menu"},jc(r,C9(s),"100%"),jc(r,"position","absolute"),jc(r,"width","100%"),jc(r,"zIndex",1),r),n?{}:{backgroundColor:d.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},TT=S.createContext(null),A9=function(t){var n=t.children,r=t.minMenuHeight,s=t.maxMenuHeight,l=t.menuPlacement,c=t.menuPosition,u=t.menuShouldScrollIntoView,d=t.theme,m=S.useContext(TT)||{},p=m.setPortalPlacement,g=S.useRef(null),x=S.useState(s),b=Qs(x,2),v=b[0],j=b[1],N=S.useState(null),k=Qs(N,2),T=k[0],C=k[1],A=d.spacing.controlHeight;return r0(function(){var M=g.current;if(M){var D=c==="fixed",z=u&&!D,L=E9({maxHeight:s,menuEl:M,minHeight:r,placement:l,shouldScroll:z,isFixedPosition:D,controlHeight:A});j(L.maxHeight),C(L.placement),p?.(L.placement)}},[s,l,c,u,r,p,A]),n({ref:g,placerProps:Fe(Fe({},t),{},{placement:T||CT(l),maxHeight:v})})},M9=function(t){var n=t.children,r=t.innerRef,s=t.innerProps;return Ue("div",qe({},Kt(t,"menu",{menu:!0}),{ref:r},s),n)},O9=M9,z9=function(t,n){var r=t.maxHeight,s=t.theme.spacing.baseUnit;return Fe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:s,paddingTop:s})},D9=function(t){var n=t.children,r=t.innerProps,s=t.innerRef,l=t.isMulti;return Ue("div",qe({},Kt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:s},r),n)},AT=function(t,n){var r=t.theme,s=r.spacing.baseUnit,l=r.colors;return Fe({textAlign:"center"},n?{}:{color:l.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},I9=AT,_9=AT,R9=function(t){var n=t.children,r=n===void 0?"No options":n,s=t.innerProps,l=ra(t,k9);return Ue("div",qe({},Kt(Fe(Fe({},l),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},L9=function(t){var n=t.children,r=n===void 0?"Loading...":n,s=t.innerProps,l=ra(t,S9);return Ue("div",qe({},Kt(Fe(Fe({},l),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},U9=function(t){var n=t.rect,r=t.offset,s=t.position;return{left:n.left,position:s,top:r,width:n.width,zIndex:1}},P9=function(t){var n=t.appendTo,r=t.children,s=t.controlElement,l=t.innerProps,c=t.menuPlacement,u=t.menuPosition,d=S.useRef(null),m=S.useRef(null),p=S.useState(CT(c)),g=Qs(p,2),x=g[0],b=g[1],v=S.useMemo(function(){return{setPortalPlacement:b}},[]),j=S.useState(null),N=Qs(j,2),k=N[0],T=N[1],C=S.useCallback(function(){if(s){var z=x9(s),L=u==="fixed"?0:window.pageYOffset,K=z[x]+L;(K!==k?.offset||z.left!==k?.rect.left||z.width!==k?.rect.width)&&T({offset:K,rect:z})}},[s,u,x,k?.offset,k?.rect.left,k?.rect.width]);r0(function(){C()},[C]);var A=S.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),s&&d.current&&(m.current=u9(s,d.current,C,{elementResize:"ResizeObserver"in window}))},[s,C]);r0(function(){A()},[A]);var M=S.useCallback(function(z){d.current=z,A()},[A]);if(!n&&u!=="fixed"||!k)return null;var D=Ue("div",qe({ref:M},Kt(Fe(Fe({},t),{},{offset:k.offset,position:u,rect:k.rect}),"menuPortal",{"menu-portal":!0}),l),r);return Ue(TT.Provider,{value:v},n?ck.createPortal(D,n):D)},B9=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},$9=function(t){var n=t.children,r=t.innerProps,s=t.isDisabled,l=t.isRtl;return Ue("div",qe({},Kt(t,"container",{"--is-disabled":s,"--is-rtl":l}),r),n)},F9=function(t,n){var r=t.theme.spacing,s=t.isMulti,l=t.hasValue,c=t.selectProps.controlShouldRenderValue;return Fe({alignItems:"center",display:s&&l&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},V9=function(t){var n=t.children,r=t.innerProps,s=t.isMulti,l=t.hasValue;return Ue("div",qe({},Kt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l}),r),n)},H9=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},q9=function(t){var n=t.children,r=t.innerProps;return Ue("div",qe({},Kt(t,"indicatorsContainer",{indicators:!0}),r),n)},D2,G9=["size"],K9=["innerProps","isRtl","size"],Z9={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},MT=function(t){var n=t.size,r=ra(t,G9);return Ue("svg",qe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Z9},r))},Db=function(t){return Ue(MT,qe({size:20},t),Ue("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},OT=function(t){return Ue(MT,qe({size:20},t),Ue("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zT=function(t,n){var r=t.isFocused,s=t.theme,l=s.spacing.baseUnit,c=s.colors;return Fe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?c.neutral60:c.neutral20,padding:l*2,":hover":{color:r?c.neutral80:c.neutral40}})},J9=zT,W9=function(t){var n=t.children,r=t.innerProps;return Ue("div",qe({},Kt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Ue(OT,null))},Y9=zT,Q9=function(t){var n=t.children,r=t.innerProps;return Ue("div",qe({},Kt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Ue(Db,null))},X9=function(t,n){var r=t.isDisabled,s=t.theme,l=s.spacing.baseUnit,c=s.colors;return Fe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?c.neutral10:c.neutral20,marginBottom:l*2,marginTop:l*2})},eH=function(t){var n=t.innerProps;return Ue("span",qe({},n,Kt(t,"indicatorSeparator",{"indicator-separator":!0})))},tH=ZV(D2||(D2=JV([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),nH=function(t,n){var r=t.isFocused,s=t.size,l=t.theme,c=l.colors,u=l.spacing.baseUnit;return Fe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?c.neutral60:c.neutral20,padding:u*2})},rx=function(t){var n=t.delay,r=t.offset;return Ue("span",{css:Ab({animation:"".concat(tH," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},rH=function(t){var n=t.innerProps,r=t.isRtl,s=t.size,l=s===void 0?4:s,c=ra(t,K9);return Ue("div",qe({},Kt(Fe(Fe({},c),{},{innerProps:n,isRtl:r,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Ue(rx,{delay:0,offset:r}),Ue(rx,{delay:160,offset:!0}),Ue(rx,{delay:320,offset:!r}))},sH=function(t,n){var r=t.isDisabled,s=t.isFocused,l=t.theme,c=l.colors,u=l.borderRadius,d=l.spacing;return Fe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?c.neutral5:c.neutral0,borderColor:r?c.neutral10:s?c.primary:c.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:s?c.primary:c.neutral30}})},aH=function(t){var n=t.children,r=t.isDisabled,s=t.isFocused,l=t.innerRef,c=t.innerProps,u=t.menuIsOpen;return Ue("div",qe({ref:l},Kt(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":u}),c,{"aria-disabled":r||void 0}),n)},iH=aH,lH=["data"],oH=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},cH=function(t){var n=t.children,r=t.cx,s=t.getStyles,l=t.getClassNames,c=t.Heading,u=t.headingProps,d=t.innerProps,m=t.label,p=t.theme,g=t.selectProps;return Ue("div",qe({},Kt(t,"group",{group:!0}),d),Ue(c,qe({},u,{selectProps:g,theme:p,getStyles:s,getClassNames:l,cx:r}),m),Ue("div",null,n))},uH=function(t,n){var r=t.theme,s=r.colors,l=r.spacing;return Fe({label:"group",cursor:"default",display:"block"},n?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},dH=function(t){var n=kT(t);n.data;var r=ra(n,lH);return Ue("div",qe({},Kt(t,"groupHeading",{"group-heading":!0}),r))},fH=cH,mH=["innerRef","isDisabled","isHidden","inputClassName"],hH=function(t,n){var r=t.isDisabled,s=t.value,l=t.theme,c=l.spacing,u=l.colors;return Fe(Fe({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},pH),n?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:u.neutral80})},DT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},pH={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Fe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},DT)},gH=function(t){return Fe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},DT)},xH=function(t){var n=t.cx,r=t.value,s=kT(t),l=s.innerRef,c=s.isDisabled,u=s.isHidden,d=s.inputClassName,m=ra(s,mH);return Ue("div",qe({},Kt(t,"input",{"input-container":!0}),{"data-value":r||""}),Ue("input",qe({className:n({input:!0},d),ref:l,style:gH(u),disabled:c},m)))},bH=xH,yH=function(t,n){var r=t.theme,s=r.spacing,l=r.borderRadius,c=r.colors;return Fe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:c.neutral10,borderRadius:l/2,margin:s.baseUnit/2})},vH=function(t,n){var r=t.theme,s=r.borderRadius,l=r.colors,c=t.cropWithEllipsis;return Fe({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:s/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},jH=function(t,n){var r=t.theme,s=r.spacing,l=r.borderRadius,c=r.colors,u=t.isFocused;return Fe({alignItems:"center",display:"flex"},n?{}:{borderRadius:l/2,backgroundColor:u?c.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},IT=function(t){var n=t.children,r=t.innerProps;return Ue("div",r,n)},wH=IT,NH=IT;function kH(e){var t=e.children,n=e.innerProps;return Ue("div",qe({role:"button"},n),t||Ue(Db,{size:14}))}var SH=function(t){var n=t.children,r=t.components,s=t.data,l=t.innerProps,c=t.isDisabled,u=t.removeProps,d=t.selectProps,m=r.Container,p=r.Label,g=r.Remove;return Ue(m,{data:s,innerProps:Fe(Fe({},Kt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),l),selectProps:d},Ue(p,{data:s,innerProps:Fe({},Kt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),Ue(g,{data:s,innerProps:Fe(Fe({},Kt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:d}))},EH=SH,CH=function(t,n){var r=t.isDisabled,s=t.isFocused,l=t.isSelected,c=t.theme,u=c.spacing,d=c.colors;return Fe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:l?d.primary:s?d.primary25:"transparent",color:r?d.neutral20:l?d.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:l?d.primary:d.primary50}})},TH=function(t){var n=t.children,r=t.isDisabled,s=t.isFocused,l=t.isSelected,c=t.innerRef,u=t.innerProps;return Ue("div",qe({},Kt(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":l}),{ref:c,"aria-disabled":r},u),n)},AH=TH,MH=function(t,n){var r=t.theme,s=r.spacing,l=r.colors;return Fe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:l.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},OH=function(t){var n=t.children,r=t.innerProps;return Ue("div",qe({},Kt(t,"placeholder",{placeholder:!0}),r),n)},zH=OH,DH=function(t,n){var r=t.isDisabled,s=t.theme,l=s.spacing,c=s.colors;return Fe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?c.neutral40:c.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},IH=function(t){var n=t.children,r=t.isDisabled,s=t.innerProps;return Ue("div",qe({},Kt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),n)},_H=IH,RH={ClearIndicator:Q9,Control:iH,DropdownIndicator:W9,DownChevron:OT,CrossIcon:Db,Group:fH,GroupHeading:dH,IndicatorsContainer:q9,IndicatorSeparator:eH,Input:bH,LoadingIndicator:rH,Menu:O9,MenuList:D9,MenuPortal:P9,LoadingMessage:L9,NoOptionsMessage:R9,MultiValue:EH,MultiValueContainer:wH,MultiValueLabel:NH,MultiValueRemove:kH,Option:AH,Placeholder:zH,SelectContainer:$9,SingleValue:_H,ValueContainer:V9},LH=function(t){return Fe(Fe({},RH),t.components)},I2=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function UH(e,t){return!!(e===t||I2(e)&&I2(t))}function PH(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!UH(e[n],t[n]))return!1;return!0}function BH(e,t){t===void 0&&(t=PH);var n=null;function r(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var c=e.apply(this,s);return n={lastResult:c,lastArgs:s,lastThis:this},c}return r.clear=function(){n=null},r}var $H={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},FH=function(t){return Ue("span",qe({css:$H},t))},_2=FH,VH={guidance:function(t){var n=t.isSearchable,r=t.isMulti,s=t.tabSelectsValue,l=t.context,c=t.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,s=r===void 0?"":r,l=t.labels,c=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return c?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,s=t.options,l=t.label,c=l===void 0?"":l,u=t.selectValue,d=t.isDisabled,m=t.isSelected,p=t.isAppleDevice,g=function(j,N){return j&&j.length?"".concat(j.indexOf(N)+1," of ").concat(j.length):""};if(n==="value"&&u)return"value ".concat(c," focused, ").concat(g(u,r),".");if(n==="menu"&&p){var x=d?" disabled":"",b="".concat(m?" selected":"").concat(x);return"".concat(c).concat(b,", ").concat(g(s,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},HH=function(t){var n=t.ariaSelection,r=t.focusedOption,s=t.focusedValue,l=t.focusableOptions,c=t.isFocused,u=t.selectValue,d=t.selectProps,m=t.id,p=t.isAppleDevice,g=d.ariaLiveMessages,x=d.getOptionLabel,b=d.inputValue,v=d.isMulti,j=d.isOptionDisabled,N=d.isSearchable,k=d.menuIsOpen,T=d.options,C=d.screenReaderStatus,A=d.tabSelectsValue,M=d.isLoading,D=d["aria-label"],z=d["aria-live"],L=S.useMemo(function(){return Fe(Fe({},VH),g||{})},[g]),K=S.useMemo(function(){var G="";if(n&&L.onChange){var B=n.option,Y=n.options,V=n.removedValue,ve=n.removedValues,he=n.value,I=function($e){return Array.isArray($e)?null:$e},q=V||B||I(he),ee=q?x(q):"",fe=Y||ve||void 0,we=fe?fe.map(x):[],pe=Fe({isDisabled:q&&j(q,u),label:ee,labels:we},n);G=L.onChange(pe)}return G},[n,L,j,u,x]),X=S.useMemo(function(){var G="",B=r||s,Y=!!(r&&u&&u.includes(r));if(B&&L.onFocus){var V={focused:B,label:x(B),isDisabled:j(B,u),isSelected:Y,options:l,context:B===r?"menu":"value",selectValue:u,isAppleDevice:p};G=L.onFocus(V)}return G},[r,s,x,j,L,l,u,p]),R=S.useMemo(function(){var G="";if(k&&T.length&&!M&&L.onFilter){var B=C({count:l.length});G=L.onFilter({inputValue:b,resultsMessage:B})}return G},[l,b,k,L,T,C,M]),_=n?.action==="initial-input-focus",U=S.useMemo(function(){var G="";if(L.guidance){var B=s?"value":k?"menu":"input";G=L.guidance({"aria-label":D,context:B,isDisabled:r&&j(r,u),isMulti:v,isSearchable:N,tabSelectsValue:A,isInitialFocus:_})}return G},[D,r,s,v,j,N,k,L,u,A,_]),P=Ue(S.Fragment,null,Ue("span",{id:"aria-selection"},K),Ue("span",{id:"aria-focused"},X),Ue("span",{id:"aria-results"},R),Ue("span",{id:"aria-guidance"},U));return Ue(S.Fragment,null,Ue(_2,{id:m},_&&P),Ue(_2,{"aria-live":z,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!_&&P))},qH=HH,s0=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],GH=new RegExp("["+s0.map(function(e){return e.letters}).join("")+"]","g"),_T={};for(var sx=0;sx<s0.length;sx++)for(var ax=s0[sx],ix=0;ix<ax.letters.length;ix++)_T[ax.letters[ix]]=ax.base;var RT=function(t){return t.replace(GH,function(n){return _T[n]})},KH=BH(RT),R2=function(t){return t.replace(/^\s+|\s+$/g,"")},ZH=function(t){return"".concat(t.label," ").concat(t.value)},JH=function(t){return function(n,r){if(n.data.__isNew__)return!0;var s=Fe({ignoreCase:!0,ignoreAccents:!0,stringify:ZH,trim:!0,matchFrom:"any"},t),l=s.ignoreCase,c=s.ignoreAccents,u=s.stringify,d=s.trim,m=s.matchFrom,p=d?R2(r):r,g=d?R2(u(n)):u(n);return l&&(p=p.toLowerCase(),g=g.toLowerCase()),c&&(p=KH(p),g=RT(g)),m==="start"?g.substr(0,p.length)===p:g.indexOf(p)>-1}},WH=["innerRef"];function YH(e){var t=e.innerRef,n=ra(e,WH),r=N9(n,"onExited","in","enter","exit","appear");return Ue("input",qe({ref:t},r,{css:Ab({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var QH=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function XH(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,c=S.useRef(!1),u=S.useRef(!1),d=S.useRef(0),m=S.useRef(null),p=S.useCallback(function(N,k){if(m.current!==null){var T=m.current,C=T.scrollTop,A=T.scrollHeight,M=T.clientHeight,D=m.current,z=k>0,L=A-M-C,K=!1;L>k&&c.current&&(r&&r(N),c.current=!1),z&&u.current&&(l&&l(N),u.current=!1),z&&k>L?(n&&!c.current&&n(N),D.scrollTop=A,K=!0,c.current=!0):!z&&-k>C&&(s&&!u.current&&s(N),D.scrollTop=0,K=!0,u.current=!0),K&&QH(N)}},[n,r,s,l]),g=S.useCallback(function(N){p(N,N.deltaY)},[p]),x=S.useCallback(function(N){d.current=N.changedTouches[0].clientY},[]),b=S.useCallback(function(N){var k=d.current-N.changedTouches[0].clientY;p(N,k)},[p]),v=S.useCallback(function(N){if(N){var k=v9?{passive:!1}:!1;N.addEventListener("wheel",g,k),N.addEventListener("touchstart",x,k),N.addEventListener("touchmove",b,k)}},[b,x,g]),j=S.useCallback(function(N){N&&(N.removeEventListener("wheel",g,!1),N.removeEventListener("touchstart",x,!1),N.removeEventListener("touchmove",b,!1))},[b,x,g]);return S.useEffect(function(){if(t){var N=m.current;return v(N),function(){j(N)}}},[t,v,j]),function(N){m.current=N}}var L2=["boxSizing","height","overflow","paddingRight","position"],U2={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function P2(e){e.cancelable&&e.preventDefault()}function B2(e){e.stopPropagation()}function $2(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function F2(){return"ontouchstart"in window||navigator.maxTouchPoints}var V2=!!(typeof window<"u"&&window.document&&window.document.createElement),pc=0,Dl={capture:!1,passive:!1};function eq(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,s=S.useRef({}),l=S.useRef(null),c=S.useCallback(function(d){if(V2){var m=document.body,p=m&&m.style;if(r&&L2.forEach(function(v){var j=p&&p[v];s.current[v]=j}),r&&pc<1){var g=parseInt(s.current.paddingRight,10)||0,x=document.body?document.body.clientWidth:0,b=window.innerWidth-x+g||0;Object.keys(U2).forEach(function(v){var j=U2[v];p&&(p[v]=j)}),p&&(p.paddingRight="".concat(b,"px"))}m&&F2()&&(m.addEventListener("touchmove",P2,Dl),d&&(d.addEventListener("touchstart",$2,Dl),d.addEventListener("touchmove",B2,Dl))),pc+=1}},[r]),u=S.useCallback(function(d){if(V2){var m=document.body,p=m&&m.style;pc=Math.max(pc-1,0),r&&pc<1&&L2.forEach(function(g){var x=s.current[g];p&&(p[g]=x)}),m&&F2()&&(m.removeEventListener("touchmove",P2,Dl),d&&(d.removeEventListener("touchstart",$2,Dl),d.removeEventListener("touchmove",B2,Dl)))}},[r]);return S.useEffect(function(){if(t){var d=l.current;return c(d),function(){u(d)}}},[t,c,u]),function(d){l.current=d}}var tq=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},nq={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function rq(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,s=r===void 0?!0:r,l=e.onBottomArrive,c=e.onBottomLeave,u=e.onTopArrive,d=e.onTopLeave,m=XH({isEnabled:s,onBottomArrive:l,onBottomLeave:c,onTopArrive:u,onTopLeave:d}),p=eq({isEnabled:n}),g=function(b){m(b),p(b)};return Ue(S.Fragment,null,n&&Ue("div",{onClick:tq,css:nq}),t(g))}var sq={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},aq=function(t){var n=t.name,r=t.onFocus;return Ue("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:sq,value:"",onChange:function(){}})},iq=aq;function Ib(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function lq(){return Ib(/^iPhone/i)}function LT(){return Ib(/^Mac/i)}function oq(){return Ib(/^iPad/i)||LT()&&navigator.maxTouchPoints>1}function cq(){return lq()||oq()}function uq(){return LT()||cq()}var dq=function(t){return t.label},fq=function(t){return t.label},mq=function(t){return t.value},hq=function(t){return!!t.isDisabled},pq={clearIndicator:Y9,container:B9,control:sH,dropdownIndicator:J9,group:oH,groupHeading:uH,indicatorsContainer:H9,indicatorSeparator:X9,input:hH,loadingIndicator:nH,loadingMessage:_9,menu:T9,menuList:z9,menuPortal:U9,multiValue:yH,multiValueLabel:vH,multiValueRemove:jH,noOptionsMessage:I9,option:CH,placeholder:MH,singleValue:DH,valueContainer:F9},gq={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},xq=4,UT=4,bq=38,yq=UT*2,vq={baseUnit:UT,controlHeight:bq,menuGutter:yq},lx={borderRadius:xq,colors:gq,spacing:vq},jq={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:z2(),captureMenuScroll:!z2(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:JH(),formatGroupLabel:dq,getOptionLabel:fq,getOptionValue:mq,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:hq,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!b9(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function H2(e,t,n,r){var s=$T(e,t,n),l=FT(e,t,n),c=BT(e,t),u=gm(e,t);return{type:"option",data:t,isDisabled:s,isSelected:l,label:c,value:u,index:r}}function mf(e,t){return e.options.map(function(n,r){if("options"in n){var s=n.options.map(function(c,u){return H2(e,c,t,u)}).filter(function(c){return G2(e,c)});return s.length>0?{type:"group",data:n,options:s,index:r}:void 0}var l=H2(e,n,t,r);return G2(e,l)?l:void 0}).filter(j9)}function PT(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,kb(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function q2(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,kb(r.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(r.index,"-").concat(s.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function wq(e,t){return PT(mf(e,t))}function G2(e,t){var n=e.inputValue,r=n===void 0?"":n,s=t.data,l=t.isSelected,c=t.label,u=t.value;return(!HT(e)||!l)&&VT(e,{label:c,value:u,data:s},r)}function Nq(e,t){var n=e.focusedValue,r=e.selectValue,s=r.indexOf(n);if(s>-1){var l=t.indexOf(n);if(l>-1)return n;if(s<t.length)return t[s]}return null}function kq(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var ox=function(t,n){var r,s=(r=t.find(function(l){return l.data===n}))===null||r===void 0?void 0:r.id;return s||null},BT=function(t,n){return t.getOptionLabel(n)},gm=function(t,n){return t.getOptionValue(n)};function $T(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function FT(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=gm(e,t);return n.some(function(s){return gm(e,s)===r})}function VT(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var HT=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},Sq=1,qT=(function(e){qF(n,e);var t=ZF(n);function n(r){var s;if(VF(this,n),s=t.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,m){var p=s.props,g=p.onChange,x=p.name;m.name=x,s.ariaOnChange(d,m),g(d,m)},s.setValue=function(d,m,p){var g=s.props,x=g.closeMenuOnSelect,b=g.isMulti,v=g.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:v}),x&&(s.setState({inputIsHiddenAfterUpdate:!b}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:m,option:p})},s.selectOption=function(d){var m=s.props,p=m.blurInputOnSelect,g=m.isMulti,x=m.name,b=s.state.selectValue,v=g&&s.isOptionSelected(d,b),j=s.isOptionDisabled(d,b);if(v){var N=s.getOptionValue(d);s.setValue(b.filter(function(k){return s.getOptionValue(k)!==N}),"deselect-option",d)}else if(!j)g?s.setValue([].concat(kb(b),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:x});return}p&&s.blurInput()},s.removeValue=function(d){var m=s.props.isMulti,p=s.state.selectValue,g=s.getOptionValue(d),x=p.filter(function(v){return s.getOptionValue(v)!==g}),b=Xd(m,x,x[0]||null);s.onChange(b,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(Xd(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,m=s.state.selectValue,p=m[m.length-1],g=m.slice(0,m.length-1),x=Xd(d,g,g[0]||null);p&&s.onChange(x,{action:"pop-value",removedValue:p})},s.getFocusedOptionId=function(d){return ox(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return q2(mf(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return m9.apply(void 0,[s.props.classNamePrefix].concat(m))},s.getOptionLabel=function(d){return BT(s.props,d)},s.getOptionValue=function(d){return gm(s.props,d)},s.getStyles=function(d,m){var p=s.props.unstyled,g=pq[d](m,p);g.boxSizing="border-box";var x=s.props.styles[d];return x?x(g,m):g},s.getClassNames=function(d,m){var p,g;return(p=(g=s.props.classNames)[d])===null||p===void 0?void 0:p.call(g,m)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return LH(s.props)},s.buildCategorizedOptions=function(){return mf(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return PT(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,m){s.setState({ariaSelection:Fe({value:d},m)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var m=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():m&&s.openMenu("first"):(m&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var m=s.props,p=m.isMulti,g=m.menuIsOpen;s.focusInput(),g?(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Zm(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var m=d.touches,p=m&&m.item(0);p&&(s.initialTouchX=p.clientX,s.initialTouchY=p.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var m=d.touches,p=m&&m.item(0);if(p){var g=Math.abs(p.clientX-s.initialTouchX),x=Math.abs(p.clientY-s.initialTouchY),b=5;s.userIsDragging=g>b||x>b}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var m=s.props.inputValue,p=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(p,{action:"input-change",prevInputValue:m}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var m=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:m}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var m=s.getFocusableOptions(),p=m.indexOf(d);s.setState({focusedOption:d,focusedOptionId:p>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return HT(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var m=s.props,p=m.isMulti,g=m.backspaceRemovesValue,x=m.escapeClearsValue,b=m.inputValue,v=m.isClearable,j=m.isDisabled,N=m.menuIsOpen,k=m.onKeyDown,T=m.tabSelectsValue,C=m.openMenuOnFocus,A=s.state,M=A.focusedOption,D=A.focusedValue,z=A.selectValue;if(!j&&!(typeof k=="function"&&(k(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!p||b)return;s.focusValue("previous");break;case"ArrowRight":if(!p||b)return;s.focusValue("next");break;case"Delete":case"Backspace":if(b)return;if(D)s.removeValue(D);else{if(!g)return;p?s.popValue():v&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!N||!T||!M||C&&s.isOptionSelected(M,z))return;s.selectOption(M);break;case"Enter":if(d.keyCode===229)break;if(N){if(!M||s.isComposing)return;s.selectOption(M);break}return;case"Escape":N?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:b}),s.onMenuClose()):v&&x&&s.clearValue();break;case" ":if(b)return;if(!N){s.openMenu("first");break}if(!M)return;s.selectOption(M);break;case"ArrowUp":N?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":N?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!N)return;s.focusOption("pageup");break;case"PageDown":if(!N)return;s.focusOption("pagedown");break;case"Home":if(!N)return;s.focusOption("first");break;case"End":if(!N)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Sq),s.state.selectValue=M2(r.value),r.menuIsOpen&&s.state.selectValue.length){var l=s.getFocusableOptionsWithIds(),c=s.buildFocusableOptions(),u=c.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=l,s.state.focusedOption=c[u],s.state.focusedOptionId=ox(l,c[u])}return s}return HF(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&O2(this.menuListRef,this.focusedOptionRef),uq()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var l=this.props,c=l.isDisabled,u=l.menuIsOpen,d=this.state.isFocused;(d&&!c&&s.isDisabled||d&&u&&!s.menuIsOpen)&&this.focusInput(),d&&c&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!c&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(O2(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,l){this.props.onInputChange(s,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var l=this,c=this.state,u=c.selectValue,d=c.isFocused,m=this.buildFocusableOptions(),p=s==="first"?0:m.length-1;if(!this.props.isMulti){var g=m.indexOf(u[0]);g>-1&&(p=g)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[p],focusedOptionId:this.getFocusedOptionId(m[p])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(s){var l=this.state,c=l.selectValue,u=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=c.indexOf(u);u||(d=-1);var m=c.length-1,p=-1;if(c.length){switch(s){case"previous":d===0?p=0:d===-1?p=m:p=d-1;break;case"next":d>-1&&d<m&&(p=d+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:c[p]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,c=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,m=u.indexOf(c);c||(m=-1),s==="up"?d=m>0?m-1:u.length-1:s==="down"?d=(m+1)%u.length:s==="pageup"?(d=m-l,d<0&&(d=0)):s==="pagedown"?(d=m+l,d>u.length-1&&(d=u.length-1)):s==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(lx):Fe(Fe({},lx),this.props.theme):lx})},{key:"getCommonProps",value:function(){var s=this.clearValue,l=this.cx,c=this.getStyles,u=this.getClassNames,d=this.getValue,m=this.selectOption,p=this.setValue,g=this.props,x=g.isMulti,b=g.isRtl,v=g.options,j=this.hasValue();return{clearValue:s,cx:l,getStyles:c,getClassNames:u,getValue:d,hasValue:j,isMulti:x,isRtl:b,options:v,selectOption:m,selectProps:g,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,l=s.isClearable,c=s.isMulti;return l===void 0?c:l}},{key:"isOptionDisabled",value:function(s,l){return $T(this.props,s,l)}},{key:"isOptionSelected",value:function(s,l){return FT(this.props,s,l)}},{key:"filterOption",value:function(s,l){return VT(this.props,s,l)}},{key:"formatOptionLabel",value:function(s,l){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(s,{context:l,inputValue:c,selectValue:u})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,l=s.isDisabled,c=s.isSearchable,u=s.inputId,d=s.inputValue,m=s.tabIndex,p=s.form,g=s.menuIsOpen,x=s.required,b=this.getComponents(),v=b.Input,j=this.state,N=j.inputIsHidden,k=j.ariaSelection,T=this.commonProps,C=u||this.getElementId("input"),A=Fe(Fe(Fe({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":x,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?k?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?S.createElement(v,qe({},T,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:l,isHidden:N,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:p,type:"text",value:d},A)):S.createElement(YH,qe({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:hm,onFocus:this.onInputFocus,disabled:l,tabIndex:m,inputMode:"none",form:p,value:""},A))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,l=this.getComponents(),c=l.MultiValue,u=l.MultiValueContainer,d=l.MultiValueLabel,m=l.MultiValueRemove,p=l.SingleValue,g=l.Placeholder,x=this.commonProps,b=this.props,v=b.controlShouldRenderValue,j=b.isDisabled,N=b.isMulti,k=b.inputValue,T=b.placeholder,C=this.state,A=C.selectValue,M=C.focusedValue,D=C.isFocused;if(!this.hasValue()||!v)return k?null:S.createElement(g,qe({},x,{key:"placeholder",isDisabled:j,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),T);if(N)return A.map(function(L,K){var X=L===M,R="".concat(s.getOptionLabel(L),"-").concat(s.getOptionValue(L));return S.createElement(c,qe({},x,{components:{Container:u,Label:d,Remove:m},isFocused:X,isDisabled:j,key:R,index:K,removeProps:{onClick:function(){return s.removeValue(L)},onTouchEnd:function(){return s.removeValue(L)},onMouseDown:function(U){U.preventDefault()}},data:L}),s.formatOptionLabel(L,"value"))});if(k)return null;var z=A[0];return S.createElement(p,qe({},x,{data:z,isDisabled:j}),this.formatOptionLabel(z,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),l=s.ClearIndicator,c=this.commonProps,u=this.props,d=u.isDisabled,m=u.isLoading,p=this.state.isFocused;if(!this.isClearable()||!l||d||!this.hasValue()||m)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(l,qe({},c,{innerProps:g,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),l=s.LoadingIndicator,c=this.commonProps,u=this.props,d=u.isDisabled,m=u.isLoading,p=this.state.isFocused;if(!l||!m)return null;var g={"aria-hidden":"true"};return S.createElement(l,qe({},c,{innerProps:g,isDisabled:d,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator,c=s.IndicatorSeparator;if(!l||!c)return null;var u=this.commonProps,d=this.props.isDisabled,m=this.state.isFocused;return S.createElement(c,qe({},u,{isDisabled:d,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator;if(!l)return null;var c=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return S.createElement(l,qe({},c,{innerProps:m,isDisabled:u,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,l=this.getComponents(),c=l.Group,u=l.GroupHeading,d=l.Menu,m=l.MenuList,p=l.MenuPortal,g=l.LoadingMessage,x=l.NoOptionsMessage,b=l.Option,v=this.commonProps,j=this.state.focusedOption,N=this.props,k=N.captureMenuScroll,T=N.inputValue,C=N.isLoading,A=N.loadingMessage,M=N.minMenuHeight,D=N.maxMenuHeight,z=N.menuIsOpen,L=N.menuPlacement,K=N.menuPosition,X=N.menuPortalTarget,R=N.menuShouldBlockScroll,_=N.menuShouldScrollIntoView,U=N.noOptionsMessage,P=N.onMenuScrollToTop,G=N.onMenuScrollToBottom;if(!z)return null;var B=function(ee,fe){var we=ee.type,pe=ee.data,te=ee.isDisabled,$e=ee.isSelected,me=ee.label,_e=ee.value,Ke=j===pe,ot=te?void 0:function(){return s.onOptionHover(pe)},mr=te?void 0:function(){return s.selectOption(pe)},mn="".concat(s.getElementId("option"),"-").concat(fe),ge={id:mn,onClick:mr,onMouseMove:ot,onMouseOver:ot,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:$e};return S.createElement(b,qe({},v,{innerProps:ge,data:pe,isDisabled:te,isSelected:$e,key:mn,label:me,type:we,value:_e,isFocused:Ke,innerRef:Ke?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ee.data,"menu"))},Y;if(this.hasOptions())Y=this.getCategorizedOptions().map(function(q){if(q.type==="group"){var ee=q.data,fe=q.options,we=q.index,pe="".concat(s.getElementId("group"),"-").concat(we),te="".concat(pe,"-heading");return S.createElement(c,qe({},v,{key:pe,data:ee,options:fe,Heading:u,headingProps:{id:te,data:q.data},label:s.formatGroupLabel(q.data)}),q.options.map(function($e){return B($e,"".concat(we,"-").concat($e.index))}))}else if(q.type==="option")return B(q,"".concat(q.index))});else if(C){var V=A({inputValue:T});if(V===null)return null;Y=S.createElement(g,v,V)}else{var ve=U({inputValue:T});if(ve===null)return null;Y=S.createElement(x,v,ve)}var he={minMenuHeight:M,maxMenuHeight:D,menuPlacement:L,menuPosition:K,menuShouldScrollIntoView:_},I=S.createElement(A9,qe({},v,he),function(q){var ee=q.ref,fe=q.placerProps,we=fe.placement,pe=fe.maxHeight;return S.createElement(d,qe({},v,he,{innerRef:ee,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:C,placement:we}),S.createElement(rq,{captureEnabled:k,onTopArrive:P,onBottomArrive:G,lockEnabled:R},function(te){return S.createElement(m,qe({},v,{innerRef:function(me){s.getMenuListRef(me),te(me)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:s.getElementId("listbox")},isLoading:C,maxHeight:pe,focusedOption:j}),Y)}))});return X||K==="fixed"?S.createElement(p,qe({},v,{appendTo:X,controlElement:this.controlRef,menuPlacement:L,menuPosition:K}),I):I}},{key:"renderFormField",value:function(){var s=this,l=this.props,c=l.delimiter,u=l.isDisabled,d=l.isMulti,m=l.name,p=l.required,g=this.state.selectValue;if(p&&!this.hasValue()&&!u)return S.createElement(iq,{name:m,onFocus:this.onValueInputFocus});if(!(!m||u))if(d)if(c){var x=g.map(function(j){return s.getOptionValue(j)}).join(c);return S.createElement("input",{name:m,type:"hidden",value:x})}else{var b=g.length>0?g.map(function(j,N){return S.createElement("input",{key:"i-".concat(N),name:m,type:"hidden",value:s.getOptionValue(j)})}):S.createElement("input",{name:m,type:"hidden",value:""});return S.createElement("div",null,b)}else{var v=g[0]?this.getOptionValue(g[0]):"";return S.createElement("input",{name:m,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,l=this.state,c=l.ariaSelection,u=l.focusedOption,d=l.focusedValue,m=l.isFocused,p=l.selectValue,g=this.getFocusableOptions();return S.createElement(qH,qe({},s,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:u,focusedValue:d,isFocused:m,selectValue:p,focusableOptions:g,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),l=s.Control,c=s.IndicatorsContainer,u=s.SelectContainer,d=s.ValueContainer,m=this.props,p=m.className,g=m.id,x=m.isDisabled,b=m.menuIsOpen,v=this.state.isFocused,j=this.commonProps=this.getCommonProps();return S.createElement(u,qe({},j,{className:p,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:x,isFocused:v}),this.renderLiveRegion(),S.createElement(l,qe({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:x,isFocused:v,menuIsOpen:b}),S.createElement(d,qe({},j,{isDisabled:x}),this.renderPlaceholderOrValue(),this.renderInput()),S.createElement(c,qe({},j,{isDisabled:x}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=l.prevProps,u=l.clearFocusValueOnUpdate,d=l.inputIsHiddenAfterUpdate,m=l.ariaSelection,p=l.isFocused,g=l.prevWasFocused,x=l.instancePrefix,b=s.options,v=s.value,j=s.menuIsOpen,N=s.inputValue,k=s.isMulti,T=M2(v),C={};if(c&&(v!==c.value||b!==c.options||j!==c.menuIsOpen||N!==c.inputValue)){var A=j?wq(s,T):[],M=j?q2(mf(s,T),"".concat(x,"-option")):[],D=u?Nq(l,T):null,z=kq(l,A),L=ox(M,z);C={selectValue:T,focusedOption:z,focusedOptionId:L,focusableOptionsWithIds:M,focusedValue:D,clearFocusValueOnUpdate:!1}}var K=d!=null&&s!==c?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},X=m,R=p&&g;return p&&!R&&(X={value:Xd(k,T,T[0]||null),options:T,action:"initial-input-focus"},R=!g),m?.action==="initial-input-focus"&&(X=null),Fe(Fe(Fe({},C),K),{},{prevProps:s,ariaSelection:X,prevWasFocused:R})}}]),n})(S.Component);qT.defaultProps=jq;var Eq=S.forwardRef(function(e,t){var n=FF(e);return S.createElement(qT,qe({ref:t},n))}),Cq=Eq;const Tq={control:(e,t)=>({...e,minHeight:"42px",borderColor:t.isFocused?"#3b82f6":"#d1d5db",borderWidth:"1px",borderRadius:"0.5rem",boxShadow:t.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.1)":"none","&:hover":{borderColor:t.isFocused?"#3b82f6":"#9ca3af"}}),placeholder:e=>({...e,color:"#9ca3af"}),singleValue:e=>({...e,color:"#111827"}),input:e=>({...e,color:"#111827"}),menu:e=>({...e,borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",zIndex:9999}),option:(e,t)=>({...e,backgroundColor:t.isSelected?"#3b82f6":t.isFocused?"#eff6ff":"white",color:t.isSelected?"white":"#111827",cursor:"pointer","&:active":{backgroundColor:t.isSelected?"#3b82f6":"#dbeafe"}}),menuPortal:e=>({...e,zIndex:9999})};function Sr({value:e,onChange:t,options:n,placeholder:r="Pilih...",isSearchable:s=!0,isDisabled:l=!1,className:c="",error:u,name:d}){const m=n.find(g=>g.value===e)||null,p=g=>{t&&t(g?.value||"")};return a.jsxs("div",{className:c,children:[a.jsx(Cq,{name:d,value:m,onChange:p,options:n,placeholder:r,isSearchable:s,isDisabled:l,styles:Tq,menuPortalTarget:typeof document<"u"?document.body:null,menuPosition:"fixed",classNamePrefix:"select2"}),u&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]})}const Aq=en({type:Bc(["motto","video-profile","admission","feature","split-screen","masjid-al-fatih","university-map","global-stage","faq","figures","partnerships","news-section","maps"]),title:re().optional(),titleEn:re().optional(),subtitle:re().optional(),subtitleEn:re().optional(),content:re().optional(),contentEn:re().optional(),image:re().optional(),images:On(re()).optional(),imageLeft:re().optional(),imageRight:re().optional(),videoUrl:re().optional(),buttonText:re().optional(),buttonTextEn:re().optional(),buttonUrl:re().refine(e=>!e||e.startsWith("/")||e.startsWith("http://")||e.startsWith("https://"),{message:"URL harus dimulai dengan / untuk path relatif atau http:///https:// untuk URL lengkap"}).optional().or($c("")),faqItems:On(en({id:re(),question:re(),questionEn:re().optional(),answer:re(),answerEn:re().optional(),order:vn()})).optional(),figures:On(en({id:re(),name:re(),nameEn:re().optional(),position:re(),positionEn:re().optional(),image:re()})).optional(),partnerships:On(en({id:re(),name:re(),nameEn:re().optional(),logo:re().optional(),location:re().optional(),locationEn:re().optional(),category:Bc(["international","health","student-escort"]),order:vn()})).optional(),mapEmbedUrl:re().optional(),order:vn().int().min(0).default(0),isActive:D0([au(),vn()]).transform(e=>typeof e=="number"?e===1:e===!0).default(!0)});function GT({section:e,defaultType:t}){const n=_t(),{flashMessage:r,showSuccess:s}=Wn(),[l,c]=S.useState(!1),[u,d]=S.useState(""),[m,p]=S.useState(!1),[g,x]=S.useState(e?.image?oe(e.image):null),[b,v]=S.useState(e?.images||[]),[j,N]=S.useState(e?.imageLeft?oe(e.imageLeft):null),[k,T]=S.useState(e?.imageRight?oe(e.imageRight):null),C=()=>{if(!e?.faqItems)return[];if(Array.isArray(e.faqItems))return e.faqItems;try{const me=JSON.parse(e.faqItems);return Array.isArray(me)?me:[]}catch{return[]}},A=()=>{if(!e?.figures)return[];if(Array.isArray(e.figures))return e.figures;try{const me=JSON.parse(e.figures);return Array.isArray(me)?me:[]}catch{return[]}},M=()=>{if(!e?.partnerships)return[];if(Array.isArray(e.partnerships))return e.partnerships;try{const me=JSON.parse(e.partnerships);return Array.isArray(me)?me:[]}catch{return[]}},[D,z]=S.useState(C()),[L,K]=S.useState(A()),[X,R]=S.useState(M()),{register:_,handleSubmit:U,setValue:P,watch:G,trigger:B,formState:{errors:Y}}=Vr({resolver:Vi(Aq),mode:"onChange",defaultValues:e?{type:e.type,title:e.title||void 0,titleEn:e.titleEn||void 0,subtitle:e.subtitle||void 0,subtitleEn:e.subtitleEn||void 0,content:e.content||void 0,contentEn:e.contentEn||void 0,image:e.image||void 0,images:e.images||void 0,imageLeft:e.imageLeft||void 0,imageRight:e.imageRight||void 0,videoUrl:e.videoUrl||void 0,buttonText:e.buttonText||void 0,buttonTextEn:e.buttonTextEn||void 0,buttonUrl:e.buttonUrl||void 0,faqItems:C(),figures:A(),mapEmbedUrl:e.mapEmbedUrl||void 0,order:e.order??0,isActive:typeof e.isActive=="number"?e.isActive===1:e.isActive??!0}:{type:t||"feature",order:0,isActive:!0,images:void 0,title:void 0,titleEn:void 0,subtitle:void 0,subtitleEn:void 0,content:void 0,contentEn:void 0,image:void 0,imageLeft:void 0,imageRight:void 0,videoUrl:void 0,buttonText:void 0,buttonTextEn:void 0,buttonUrl:void 0,faqItems:void 0,mapEmbedUrl:void 0}}),V=G("type"),ve=G("images"),he=async me=>{const _e=me.target.files?.[0];if(_e){if(!_e.type.startsWith("image/")){d("File harus berupa gambar");return}if(_e.size>5*1024*1024){d("Ukuran file maksimal 5MB");return}p(!0),d("");try{const Ke=await ae.upload("/admin/upload",_e,"home-sections"),ot=Ke.url||Ke.path||"";if(!ot)throw new Error("Upload gagal: URL tidak ditemukan dalam response");P("image",ot,{shouldValidate:!0}),x(oe(ot))}catch(Ke){console.error("Upload error:",Ke),d(Ke.message||"Gagal mengupload gambar")}finally{p(!1)}}},I=async me=>{const _e=me.target.files;if(!(!_e||_e.length===0)){p(!0),d("");try{const Ke=[];for(let mn=0;mn<_e.length;mn++){const ge=_e[mn];if(ge.type.startsWith("image/")&&!(ge.size>5*1024*1024))try{const He=await ae.upload("/admin/upload",ge,"home-sections"),gt=He.url||He.path||"";gt&&Ke.push(gt)}catch(He){console.error("Error uploading file:",He)}}const mr=[...ve||[],...Ke];P("images",mr,{shouldValidate:!0}),v(mr)}catch(Ke){d(Ke.message||"Gagal mengupload gambar")}finally{p(!1)}}},q=()=>{P("image",""),x(null)},ee=async me=>{const _e=me.target.files?.[0];if(_e){if(!_e.type.startsWith("image/")){d("File harus berupa gambar");return}if(_e.size>5*1024*1024){d("Ukuran file maksimal 5MB");return}p(!0),d("");try{const Ke=await ae.upload("/admin/upload",_e,"home-sections"),ot=Ke.url||Ke.path||"";if(!ot)throw new Error("Upload gagal: URL tidak ditemukan dalam response");P("imageLeft",ot,{shouldValidate:!0}),N(oe(ot))}catch(Ke){console.error("Upload error:",Ke),d(Ke.message||"Gagal mengupload gambar")}finally{p(!1)}}},fe=async me=>{const _e=me.target.files?.[0];if(_e){if(!_e.type.startsWith("image/")){d("File harus berupa gambar");return}if(_e.size>5*1024*1024){d("Ukuran file maksimal 5MB");return}p(!0),d("");try{const Ke=await ae.upload("/admin/upload",_e,"home-sections"),ot=Ke.url||Ke.path||"";if(!ot)throw new Error("Upload gagal: URL tidak ditemukan dalam response");P("imageRight",ot,{shouldValidate:!0}),T(oe(ot))}catch(Ke){console.error("Upload error:",Ke),d(Ke.message||"Gagal mengupload gambar")}finally{p(!1)}}},we=()=>{P("imageLeft",""),N(null)},pe=()=>{P("imageRight",""),T(null)},te=me=>{const Ke=(ve||[]).filter((ot,mr)=>mr!==me);P("images",Ke,{shouldValidate:!0}),v(Ke)},$e=async me=>{c(!0),d("");try{const _e=Array.isArray(me.images)?me.images:ve||[],Ke={type:me.type,title:me.title||null,titleEn:me.titleEn||null,subtitle:me.subtitle||null,subtitleEn:me.subtitleEn||null,content:me.content||null,contentEn:me.contentEn||null,image:me.image||null,images:_e.length>0?_e:null,imageLeft:me.imageLeft||null,imageRight:me.imageRight||null,videoUrl:me.videoUrl||null,buttonText:me.buttonText||null,buttonTextEn:me.buttonTextEn||null,buttonUrl:me.buttonUrl||null,faqItems:V==="faq"&&D.length>0?JSON.stringify(D):null,figures:V==="figures"&&L.length>0?JSON.stringify(L):null,partnerships:V==="partnerships"&&X.length>0?JSON.stringify(X):null,mapEmbedUrl:V==="maps"&&me.mapEmbedUrl||null,order:me.order||0,isActive:me.isActive!==void 0?!!me.isActive:!0};e?(await ae.put(`/admin/home-sections/${e.id}`,Ke),s("Section berhasil diperbarui!",3e3,!0)):(await ae.post("/admin/home-sections/create",Ke),s("Section berhasil ditambahkan!",3e3,!0)),n("/admin/home-sections")}catch(_e){console.error("Submit error:",_e),d(_e.message||"Terjadi kesalahan saat menyimpan")}finally{c(!1)}};return a.jsxs("form",{onSubmit:U($e,me=>{console.error("Form validation errors:",me),d("Mohon lengkapi semua field yang wajib diisi")}),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[r.show&&a.jsx(Ja,{message:r.message,type:r.type,onClose:()=>{}}),u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),Object.keys(Y).length>0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded",children:[a.jsx("p",{className:"font-semibold mb-2",children:"Terdapat kesalahan pada form:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(Y).map(([me,_e])=>a.jsx("li",{children:_e?.message||`${me}: ${JSON.stringify(_e)}`},me))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Section *"}),a.jsx(Sr,{name:"type",value:V,onChange:me=>{P("type",me,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0}),B("type")},options:[{value:"motto",label:"Motto"},{value:"video-profile",label:"Video Profile"},{value:"admission",label:"Admission (Penerimaan)"},{value:"split-screen",label:"Split Screen (Yellow Background)"},{value:"masjid-al-fatih",label:"Masjid AL FATIH"},{value:"university-map",label:"University Map (Peta Universitas)"},{value:"global-stage",label:"Global Stage (International Program)"},{value:"feature",label:"Feature"},{value:"faq",label:"FAQ Section"},{value:"figures",label:"Figures / Tokoh-Tokoh"},{value:"partnerships",label:"Partnerships / Kerjasama"},{value:"news-section",label:"News Section (Berita)"},{value:"maps",label:"Maps (Peta)"}],placeholder:"Pilih tipe section...",isSearchable:!0,error:Y.type?.message}),a.jsx("input",{..._("type"),type:"hidden"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (ID) ",V==="masjid-al-fatih"&&"*"]}),a.jsx("input",{..._("title"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:V==="masjid-al-fatih"?"Masjid AL FATIH":""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{..._("titleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:V==="masjid-al-fatih"?"Al-Fatih Mosque":""})]})]}),V!=="university-map"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subtitle / Quote (ID) ",V==="masjid-al-fatih"&&"*"]}),a.jsx("input",{..._("subtitle"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle / Quote (EN)"}),a.jsx("input",{..._("subtitleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(V==="admission"||V==="feature"||V==="split-screen"||V==="masjid-al-fatih"||V==="global-stage")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content / Deskripsi (ID) ",V==="masjid-al-fatih"&&"*"]}),a.jsx("textarea",{..._("content"),rows:V==="masjid-al-fatih"?8:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content / Deskripsi (EN)"}),a.jsx("textarea",{..._("contentEn"),rows:V==="masjid-al-fatih"?8:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),V==="faq"&&a.jsx(rT,{value:D,onChange:me=>{z(me),P("faqItems",me,{shouldValidate:!0})}}),V==="figures"&&a.jsx(DF,{value:L,onChange:me=>{K(me),P("figures",me,{shouldValidate:!0})}}),V==="partnerships"&&a.jsx(_F,{value:X,onChange:me=>{R(me),P("partnerships",me,{shouldValidate:!0})}}),V==="video-profile"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL"}),a.jsx("input",{..._("videoUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://youtube.com/watch?v=..."})]}),(V==="motto"||V==="video-profile"||V==="admission"||V==="split-screen"||V==="masjid-al-fatih"||V==="university-map"||V==="global-stage"||V==="faq"||V==="figures")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Utama"}),g?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:g,alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:q,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:he,disabled:m,className:"hidden",id:"image-upload"}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center justify-center ${m?"opacity-50 cursor-not-allowed":""}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]}),a.jsx("input",{..._("image"),type:"hidden"})]}),V==="masjid-al-fatih"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Kiri"}),j?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:j,alt:"Preview Left",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:we,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:ee,disabled:m,className:"hidden",id:"image-left-upload"}),a.jsx("label",{htmlFor:"image-left-upload",className:`cursor-pointer flex flex-col items-center justify-center ${m?"opacity-50 cursor-not-allowed":""}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar kiri"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]}),a.jsx("input",{..._("imageLeft"),type:"hidden"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Kanan"}),k?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:k,alt:"Preview Right",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:pe,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:fe,disabled:m,className:"hidden",id:"image-right-upload"}),a.jsx("label",{htmlFor:"image-right-upload",className:`cursor-pointer flex flex-col items-center justify-center ${m?"opacity-50 cursor-not-allowed":""}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar kanan"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]}),a.jsx("input",{..._("imageRight"),type:"hidden"})]})]}),V==="admission"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Collage (Multiple)"}),b.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:b.map((me,_e)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:oe(me),alt:`Preview ${_e+1}`,className:"h-32 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>te(_e),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:14})})]},_e))}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:I,disabled:m,className:"hidden",id:"images-upload"}),a.jsx("label",{htmlFor:"images-upload",className:`cursor-pointer flex flex-col items-center justify-center ${m?"opacity-50 cursor-not-allowed":""}`,children:m?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload multiple gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB per gambar"})]})})]}),a.jsx("input",{type:"hidden",..._("images",{value:ve||[]})})]}),V!=="university-map"&&V!=="masjid-al-fatih"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (ID)"}),a.jsx("input",{..._("buttonText"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Daftar Sekarang"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (EN)"}),a.jsx("input",{..._("buttonTextEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Register Now"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),a.jsx("input",{..._("buttonUrl"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"/pendaftaran atau https://example.com"}),Y.buttonUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.buttonUrl.message})]})]}),V==="maps"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps Embed URL / Iframe *"}),a.jsx("textarea",{..._("mapEmbedUrl"),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm",placeholder:'Paste iframe code atau embed URL dari Google Maps. Contoh: <iframe src="https://www.google.com/maps/embed?pb=..." width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Paste seluruh iframe code atau hanya URL src dari Google Maps embed"}),Y.mapEmbedUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:Y.mapEmbedUrl.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),a.jsx("input",{..._("order",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center pt-8",children:[a.jsx("input",{..._("isActive"),type:"checkbox",id:"isActive",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Aktif"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>n("/admin/home-sections"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Batal"}),a.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Menyimpan...":"Simpan"})]})]})}function Mq(){return a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Tambah Home Section"}),a.jsx(GT,{})]})})})}function Oq(){const{id:e}=ys(),t=_t(),[n,r]=S.useState(null),[s,l]=S.useState(!0);S.useEffect(()=>{e&&c()},[e]);async function c(){try{const u=await ae.get(`/admin/home-sections/${e}`);if(u.images&&typeof u.images=="string")try{u.images=JSON.parse(u.images)}catch{u.images=[]}r(u)}catch(u){console.error("Error loading section:",u),t("/admin/home-sections")}finally{l(!1)}}return s?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):n?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Edit Home Section"}),a.jsx(GT,{section:n})]})})}):a.jsx(Oe,{children:a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"Section tidak ditemukan"})})})}function zq(){const{flashMessage:e}=Wn(),[t,n]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{l()},[]);async function l(){try{const c=await ae.get("/admin/faqs");n(Array.isArray(c)?c:[])}catch(c){console.error("Error loading FAQs:",c)}finally{s(!1)}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.show&&a.jsx(Ja,{message:e.message,type:e.type,onClose:()=>{}}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola FAQ"}),a.jsxs(Me,{to:"/admin/faqs/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah FAQ"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:'Belum ada FAQ. Klik "Tambah FAQ" untuk membuat baru.'}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pertanyaan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(c=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.question})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.order}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${c.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.isActive?"Aktif":"Nonaktif"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Me,{to:`/admin/faqs/${c.id}`,className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:c.id,apiEndpoint:"/admin/faqs",confirmMessage:"Yakin ingin menghapus FAQ ini?",onDeleted:l})]})})]},c.id))})]})})]})})})}const Dq=en({question:re().min(1,"Pertanyaan wajib diisi"),questionEn:re().optional(),answer:re().min(1,"Jawaban wajib diisi"),answerEn:re().optional(),image:re().optional(),sectionTitle:re().optional(),sectionTitleEn:re().optional(),order:vn().int().min(0).default(0),isActive:au().default(!0)});function KT({faq:e}){const t=_t(),{showSuccess:n}=Wn(),[r,s]=S.useState(!1),[l,c]=S.useState(""),[u,d]=S.useState(!1),[m,p]=S.useState(e?.image?oe(e.image):null),{register:g,handleSubmit:x,setValue:b,watch:v,formState:{errors:j}}=Vr({resolver:Vi(Dq),defaultValues:e?{question:e.question||"",questionEn:e.questionEn||void 0,answer:e.answer||"",answerEn:e.answerEn||void 0,image:e.image||void 0,sectionTitle:e.sectionTitle||void 0,sectionTitleEn:e.sectionTitleEn||void 0,order:e.order??0,isActive:e.isActive??!0}:{order:0,isActive:!0,answer:"",answerEn:void 0,image:void 0,sectionTitle:void 0,sectionTitleEn:void 0}}),N=v("answer"),k=v("answerEn"),T=async M=>{const D=M.target.files?.[0];if(D){if(!D.type.startsWith("image/")){c("File harus berupa gambar");return}if(D.size>5*1024*1024){c("Ukuran file maksimal 5MB");return}d(!0),c("");try{const z=await ae.upload("/admin/upload",D,"faqs"),L=z.url||z.path||"";if(!L)throw new Error("Upload gagal: URL tidak ditemukan dalam response");b("image",L,{shouldValidate:!0}),p(oe(L))}catch(z){c(z.message||"Gagal mengupload gambar")}finally{d(!1)}}},C=()=>{b("image","",{shouldValidate:!0}),p(null)},A=async M=>{s(!0),c("");try{e?(await ae.put(`/admin/faqs/${e.id}`,M),n("FAQ berhasil diperbarui!",3e3,!0)):(await ae.post("/admin/faqs/create",M),n("FAQ berhasil ditambahkan!",3e3,!0)),t("/admin/faqs")}catch(D){console.error("Submit error:",D),c(D.message||"Terjadi kesalahan saat menyimpan")}finally{s(!1)}};return a.jsxs("form",{onSubmit:x(A),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[l&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:l}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pertanyaan (ID) *"}),a.jsx("input",{...g("question"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Apa Program Unggulan SMA AL AZHAR INSAN CENDEKIA JATIBENING?"}),j.question&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.question.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pertanyaan (EN)"}),a.jsx("input",{...g("questionEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What are SMA AL AZHAR INSAN CENDEKIA JATIBENING's Flagship Programs?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jawaban (ID) *"}),a.jsx(bs,{value:N||"",onChange:M=>b("answer",M,{shouldValidate:!0}),placeholder:"Masukkan jawaban..."}),j.answer&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.answer.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jawaban (EN)"}),a.jsx(bs,{value:k||"",onChange:M=>b("answerEn",M,{shouldValidate:!0}),placeholder:"Enter answer..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title / Motto (ID)"}),a.jsx("input",{...g("sectionTitle"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Excellence in Education, Harmony in Faith"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Judul/motto yang ditampilkan di atas FAQ section"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title / Motto (EN)"}),a.jsx("input",{...g("sectionTitleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Excellence in Education, Harmony in Faith"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Samping (Right Side Image)"}),m?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:m,alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:T,disabled:u,className:"hidden",id:"image-upload"}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center justify-center ${u?"opacity-50 cursor-not-allowed":""}`,children:u?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]}),a.jsx("input",{...g("image"),type:"hidden"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Gambar yang ditampilkan di sebelah kanan FAQ section"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),a.jsx("input",{...g("order",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center pt-8",children:[a.jsx("input",{...g("isActive"),type:"checkbox",id:"isActive",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Aktif"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>t("/admin/faqs"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Batal"}),a.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Menyimpan...":"Simpan"})]})]})}function Iq(){return a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Tambah FAQ"}),a.jsx(KT,{})]})})})}function _q(){const{id:e}=ys(),t=_t(),[n,r]=S.useState(null),[s,l]=S.useState(!0);S.useEffect(()=>{e&&c()},[e]);async function c(){try{const u=await ae.get(`/admin/faqs/${e}`);r(u)}catch(u){console.error("Error loading FAQ:",u),t("/admin/faqs")}finally{l(!1)}}return s?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):n?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Edit FAQ"}),a.jsx(KT,{faq:n})]})})}):a.jsx(Oe,{children:a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"FAQ tidak ditemukan"})})})}function Rq(){const[e,t]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{s()},[]);async function s(){try{const l=await ae.get("/admin/home-sections"),c=Array.isArray(l)?l.filter(u=>u.type==="split-screen"):[];t(c)}catch(l){console.error("Error loading split screens:",l)}finally{r(!1)}}return n?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Split Screen Sections"}),a.jsxs(Me,{to:"/admin/home-sections/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Section"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:['Belum ada split screen section. Klik "Tambah Section" untuk membuat baru.',a.jsx("p",{className:"mt-2 text-sm",children:'Pastikan memilih tipe "Split Screen (Yellow Background)" saat membuat section.'})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(l=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.title||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.order}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Aktif":"Nonaktif"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Me,{to:`/admin/home-sections/${l.id}`,className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:l.id,apiEndpoint:"/admin/home-sections",confirmMessage:"Yakin ingin menghapus section ini?",onDeleted:s})]})})]},l.id))})]})})]})})})}function Lq(){const[e,t]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{s()},[]);async function s(){try{const l=await ae.get("/admin/figures");t(Array.isArray(l)?l:[])}catch(l){console.error("Error loading figures:",l)}finally{r(!1)}}return n?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Tokoh-Tokoh SMA AL AZHAR INSAN CENDEKIA JATIBENING"}),a.jsxs(Me,{to:"/admin/figures/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Tokoh"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:'Belum ada tokoh. Klik "Tambah Tokoh" untuk membuat baru.'}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Foto"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posisi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(l=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.image?a.jsx("img",{src:oe(l.image),alt:l.name,className:"h-16 w-16 object-cover rounded-full",onError:c=>{console.error("Failed to load image:",l.image),c.currentTarget.src="/placeholder-image.png"}}):a.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-full flex items-center justify-center text-xs text-gray-500",children:"No Image"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500",children:l.position})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.order}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Aktif":"Nonaktif"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Me,{to:`/admin/figures/${l.id}`,className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:l.id,apiEndpoint:"/admin/figures",confirmMessage:"Yakin ingin menghapus tokoh ini?",onDeleted:s})]})})]},l.id))})]})})]})})})}const Uq={international:"Kerjasama Internasional",health:"Kerjasama Kesehatan","student-escort":"Kerjasama Pengawalan Siswa"};function Pq(){const[e,t]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{s()},[]);async function s(){try{const c=await ae.get("/admin/partnerships");t(Array.isArray(c)?c:[])}catch(c){console.error("Error loading partnerships:",c)}finally{r(!1)}}const l=e.reduce((c,u)=>(c[u.category]||(c[u.category]=[]),c[u.category].push(u),c),{});return n?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Kerjasama"}),a.jsxs(Me,{to:"/admin/partnerships/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Kerjasama"})]})]}),e.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow p-12 text-center text-gray-500",children:'Belum ada kerjasama. Klik "Tambah Kerjasama" untuk membuat baru.'}):Object.keys(l).map(c=>a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden mb-6",children:[a.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:Uq[c]||c})}),a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Logo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l[c].map(u=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.logo?a.jsx("img",{src:oe(u.logo),alt:u.name,className:"h-16 w-32 object-contain bg-gray-50 p-2 rounded",onError:d=>{console.error("Failed to load image:",u.logo),d.currentTarget.src="/placeholder-image.png"}}):a.jsx("div",{className:"h-16 w-32 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:"No Logo"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.order}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${u.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.isActive?"Aktif":"Nonaktif"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Me,{to:`/admin/partnerships/${u.id}`,className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:u.id,apiEndpoint:"/admin/partnerships",confirmMessage:"Yakin ingin menghapus kerjasama ini?",onDeleted:s})]})})]},u.id))})]})]},c))]})})})}function Bq(){const{flashMessage:e}=Wn(),[t]=ta(),n=t.get("slug"),[r,s]=S.useState([]),[l,c]=S.useState(!0),[u,d]=S.useState(""),[m,p]=S.useState(1),g=10;S.useEffect(()=>{x()},[n]),S.useEffect(()=>{p(1)},[u]);async function x(){try{const A=await ae.get("/admin/pages");let M=Array.isArray(A)?A:[];n&&(M=M.filter(D=>D.slug===n||D.slug?.includes(`-${n}`)||D.slug?.startsWith(`${n}-`))),s(M)}catch(A){console.error("Error loading pages:",A)}finally{c(!1)}}const b=S.useMemo(()=>{if(!u.trim())return r;const A=u.toLowerCase();return r.filter(M=>M.title?.toLowerCase().includes(A)||M.slug?.toLowerCase().includes(A)||M.authorName?.toLowerCase().includes(A))},[r,u]),v=Math.ceil(b.length/g),j=(m-1)*g,N=j+g,k=b.slice(j,N),T=A=>{A>=1&&A<=v&&(p(A),window.scrollTo({top:0,behavior:"smooth"}))},C=n==="smp"?"Kelola Halaman SMP":n==="sma"?"Kelola Halaman SMA":"Kelola Halaman";return l?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.show&&a.jsx(Ja,{message:e.message,type:e.type,onClose:()=>{}}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:C}),n&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Menampilkan halaman untuk ",n.toUpperCase()]})]}),a.jsxs("div",{className:"flex space-x-2",children:[n&&a.jsx(Me,{to:"/admin/pages",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:a.jsx("span",{children:"Semua Halaman"})}),a.jsxs(Me,{to:"/admin/pages/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Halaman"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(jm,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Cari berdasarkan judul, slug, atau penulis...",value:u,onChange:A=>d(A.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),u&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Menampilkan ",b.length," dari ",r.length," halaman"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Judul"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Slug"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Penulis"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:u?`Tidak ada halaman ditemukan untuk "${u}"`:n?`Tidak ada halaman ditemukan untuk ${n.toUpperCase()}`:"Tidak ada halaman ditemukan"})}):k.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-4 sm:px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.title}),a.jsx("div",{className:"text-sm text-gray-500 sm:hidden mt-1",children:A.slug==="/"||A.slug==="beranda"?"/":`/${A.slug}`})]}),a.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap hidden sm:table-cell",children:a.jsx("div",{className:"text-sm text-gray-500",children:A.slug==="/"||A.slug==="beranda"?"/":`/${A.slug}`})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.isPublished?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.isPublished?"Published":"Draft"})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap hidden md:table-cell",children:a.jsx("div",{className:"text-sm text-gray-500",children:A.authorName||"Admin"})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("a",{href:A.slug==="/"||A.slug==="beranda"?"/":`/${A.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",title:"Lihat Halaman",children:a.jsx(m0,{size:18})}),A.slug!=="/"&&A.slug!=="beranda"&&a.jsx(Me,{to:`/admin/pages/${A.id}/hero`,className:"text-green-600 hover:text-green-900",title:"Kelola Hero",children:a.jsx("span",{className:"text-xs",children:"Hero"})}),a.jsx(Me,{to:`/admin/pages/${A.id}/sections`,className:"text-purple-600 hover:text-purple-900",title:"Kelola Sections",children:a.jsx("span",{className:"text-xs",children:"Section"})}),a.jsx(Me,{to:`/admin/pages/${A.id}`,className:"text-primary-600 hover:text-primary-900",title:"Edit Halaman",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:A.id,apiEndpoint:"/admin/pages",confirmMessage:"Yakin ingin menghapus halaman ini?",onDeleted:x})]})})]},A.id))})]})}),b.length>g&&a.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>T(m-1),disabled:m===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${m===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sebelumnya"}),a.jsx("button",{onClick:()=>T(m+1),disabled:m===v,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${m===v?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Selanjutnya"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Menampilkan ",a.jsx("span",{className:"font-medium",children:j+1})," sampai"," ",a.jsx("span",{className:"font-medium",children:N>b.length?b.length:N})," ","dari ",a.jsx("span",{className:"font-medium",children:b.length})," hasil"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsx("button",{onClick:()=>T(m-1),disabled:m===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${m===1?"text-gray-400 cursor-not-allowed bg-gray-50":"text-gray-500 hover:bg-gray-50"}`,children:a.jsx(ym,{className:"h-5 w-5"})}),Array.from({length:v},(A,M)=>M+1).map(A=>A===1||A===v||A>=m-1&&A<=m+1?a.jsx("button",{onClick:()=>T(A),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${A===m?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:A},A):A===m-2||A===m+2?a.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},A):null),a.jsx("button",{onClick:()=>T(m+1),disabled:m===v,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${m===v?"text-gray-400 cursor-not-allowed bg-gray-50":"text-gray-500 hover:bg-gray-50"}`,children:a.jsx(ao,{className:"h-5 w-5"})})]})})]})]})]})]})})})}const K2=[{value:"hero-slider",label:"Hero Slider"},{value:"home-section",label:"Home Section"},{value:"faq-section",label:"FAQ Section"},{value:"figures-section",label:"Figures Section"},{value:"partnership-section",label:"Partnership Section"},{value:"split-screen",label:"Split Screen"},{value:"gallery-carousel",label:"Gallery Carousel"},{value:"video-section",label:"Video Section"},{value:"text",label:"Text"},{value:"image",label:"Image"},{value:"two-column",label:"Two Column"},{value:"accordion",label:"Accordion"},{value:"cards",label:"Cards"}];function $q({pageId:e,initialBlocks:t=[]}){const[n,r]=S.useState(t),[s,l]=S.useState(null),[c,u]=S.useState(!1),[d,m]=S.useState("text"),[p,g]=S.useState(!1),[x,b]=S.useState("");S.useEffect(()=>{v()},[e]);const v=async()=>{try{console.log("Fetching blocks for pageId:",e);const C=await ae.get(`/admin/pages/${e}/blocks`),A=Array.isArray(C)?C:[],M=A.filter(D=>D.id?D.id===e?(console.error("Block ID sama dengan Page ID (invalid):",D.id),!1):!0:(console.error("Block without ID found:",D),!1));console.log("Fetched blocks:",{pageId:e,total:A.length,valid:M.length,blockIds:M.map(D=>D.id),invalidBlocks:A.filter(D=>!D.id||D.id===e).map(D=>({id:D.id,type:D.type}))}),r(M)}catch(C){console.error("Error fetching blocks:",C),r([])}},j=async C=>{if(C&&(C.preventDefault(),C.stopPropagation()),!d){b("Pilih tipe block terlebih dahulu");return}if(!e){b("Page ID tidak ditemukan");return}g(!0),b("");try{let A={};switch(d){case"hero-slider":A={sliders:[]};break;case"home-section":A={sections:[]};break;case"faq-section":A={faqs:[]};break;case"figures-section":A={figures:[]};break;case"partnership-section":A={partnerships:[]};break;case"split-screen":A={sections:[]};break;case"gallery-carousel":A={title:"",subtitle:"",items:[]};break;case"video-section":A={title:"",videos:[]};break;case"text":A={content:""};break;case"image":A={image:"",alt:""};break;case"two-column":A={leftContent:"",rightContent:""};break;case"accordion":A={items:[]};break;case"cards":A={cards:[],columns:3};break}console.log("Adding block:",{pageId:e,type:d,data:A});let M;try{M=await ae.post(`/admin/pages/${e}/blocks/create`,{type:d,data:A})}catch(D){console.log("Trying fallback endpoint...",D);try{M=await ae.post(`/admin/pages/${e}/blocks`,{type:d,data:A})}catch(z){throw console.error("Both create endpoints failed:",{createError:D,fallbackError:z}),D}}if(console.log("Block added successfully:",M),M&&M.id){if(console.log("New block ID:",M.id,"Length:",M.id.length),M.id.length<20&&console.warn("Warning: Block ID seems too short:",M.id),M.id===e){console.error("ERROR: Created block ID sama dengan Page ID!",{blockId:M.id,pageId:e}),b("Error: Block ID yang dibuat sama dengan Page ID. Silakan refresh halaman.");return}}else{console.error("Block created but no ID in response:",M),b("Error: Block dibuat tapi tidak ada ID dalam response. Silakan refresh halaman.");return}await v(),u(!1),m("text"),b("")}catch(A){console.error("Error adding block:",A);const M=A instanceof Error?A.message:"Gagal menambahkan block. Silakan coba lagi.";b(M),alert(`Error: ${M}`)}finally{g(!1)}},N=async(C,A)=>{if(A&&(A.preventDefault(),A.stopPropagation()),!!confirm("Apakah Anda yakin ingin menghapus block ini?")){if(!C){alert("Block ID tidak ditemukan");return}if(!e){alert("Page ID tidak ditemukan");return}try{console.log("Deleting block:",{pageId:e,blockId:C});let M=!1;try{await ae.delete(`/admin/pages/${e}/blocks/${C}`),M=!0,console.log("Block deleted successfully via /pages/{pageId}/blocks/{blockId}")}catch(D){console.log("First delete attempt failed, trying fallback...",D);try{await ae.delete(`/admin/page-blocks/${C}`),M=!0,console.log("Block deleted successfully via /page-blocks/{blockId}")}catch(z){throw console.error("Fallback delete also failed:",z),z}}M&&await v()}catch(M){console.error("Error deleting block:",M);const D=M instanceof Error?M.message:"Gagal menghapus block. Silakan coba lagi.";alert(`Error: ${D}`)}}},k=async(C,A)=>{const M=n.findIndex(K=>K.id===C);if(M===-1)return;const D=A==="up"?M-1:M+1;if(D<0||D>=n.length)return;const z=[...n],L=z[M].order;z[M].order=z[D].order,z[D].order=L,r(z);try{await ae.put(`/admin/pages/${e}/blocks/${C}`,{order:z[M].order}),await ae.put(`/admin/pages/${e}/blocks/${z[D].id}`,{order:z[D].order}),await v()}catch(K){console.error("Error moving block:",K),await v()}},T=async(C,A)=>{try{await ae.put(`/admin/pages/${e}/blocks/${C}`,{isActive:!A}),await v()}catch(M){console.error("Error toggling block:",M)}};return a.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Page Blocks"}),a.jsxs("button",{type:"button",onClick:()=>u(!c),className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Block"})]})]}),c&&a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[x&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Sr,{value:d,onChange:C=>m(C),options:K2.map(C=>({value:C.value,label:C.label})),placeholder:"Pilih tipe block...",isSearchable:!0})}),a.jsx("button",{type:"button",onClick:C=>{C.preventDefault(),C.stopPropagation(),j(C)},disabled:p||!d,className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Menambah...":"Tambah"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Batal"})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Block akan dibuat dengan data default. Anda dapat mengeditnya setelah dibuat."})]}),a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Belum ada blocks. Tambahkan block untuk mulai membangun halaman."}):n.sort((C,A)=>C.order-A.order).map((C,A)=>{const M=K2.find(z=>z.value===C.type)?.label||C.type;let D={};try{D=JSON.parse(C.data||"{}")}catch(z){console.error("Error parsing block data:",z)}return C.id?a.jsx("div",{className:`border rounded-lg p-4 ${C.isActive?"bg-white border-gray-200":"bg-gray-50 border-gray-300 opacity-60"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-3 flex-1",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:M}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(Order: ",C.order,")"]}),!C.isActive&&a.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded",children:"Inactive"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[C.type==="hero-slider"&&`${D.sliders?.length||0} slider(s)`,C.type==="home-section"&&`${D.sections?.length||0} section(s)`,C.type==="faq-section"&&`${D.faqs?.length||0} FAQ(s)`,C.type==="text"&&`${(D.content||"").substring(0,50)}...`,C.type==="image"&&D.image?"Image: "+D.image.substring(0,30)+"...":"No image"]})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>k(C.id,"up"),disabled:A===0,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>k(C.id,"down"),disabled:A===n.length-1,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>T(C.id,C.isActive),className:`p-2 ${C.isActive?"text-green-600 hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,title:C.isActive?"Deactivate":"Activate",children:C.isActive?"":""}),a.jsx("button",{type:"button",onClick:()=>{if(console.log("Editing block:",{id:C.id,type:C.type,pageId:e}),!C.id){alert("Block ID tidak valid. Silakan refresh halaman.");return}if(C.id===e){console.error("ERROR: Block ID sama dengan Page ID!",{blockId:C.id,pageId:e}),alert("Error: Block ID tidak valid (sama dengan Page ID). Silakan refresh halaman dan coba lagi."),v();return}l(C)},className:"p-2 text-blue-600 hover:text-blue-700",title:"Edit",children:a.jsx(rO,{size:18})}),a.jsx("button",{type:"button",onClick:z=>{z.preventDefault(),z.stopPropagation(),N(C.id,z)},className:"p-2 text-red-600 hover:text-red-700",title:"Delete",children:a.jsx(OO,{size:18})})]})]})},C.id):(console.error("Block without ID found:",C),null)})}),s&&a.jsx(Fq,{pageId:e,block:s,onClose:()=>l(null),onSave:async()=>{await v(),l(null)}})]})}function Fq({pageId:e,block:t,onClose:n,onSave:r}){S.useEffect(()=>{t.id?console.log("BlockEditor initialized:",{pageId:e,blockId:t.id,blockType:t.type}):(console.error("BlockEditor: Block ID is missing!",t),alert("Block ID tidak valid. Silakan tutup dan coba lagi."),n())},[t.id,t.type,e,n]),S.useEffect(()=>{if(!t||!t.id){console.error("BlockEditor: Block or Block ID is missing!",t),alert("Block ID tidak valid. Silakan tutup dan coba lagi."),n();return}console.log("BlockEditor initialized:",{pageId:e,blockId:t.id,blockType:t.type,blockIdLength:t.id.length})},[t,e,n]);const[s,l]=S.useState(()=>{try{return typeof t.data=="object"?t.data:JSON.parse(t.data||"{}")}catch{return{}}}),[c,u]=S.useState(!1),[d,m]=S.useState(!1),[p,g]=S.useState(""),[x,b]=S.useState(!1),[v,j]=S.useState(0),[N,k]=S.useState(!1),T=async D=>{if(D&&(D.preventDefault(),D.stopPropagation()),!t.id){g("Block ID tidak ditemukan"),alert("Error: Block ID tidak ditemukan");return}if(!e){g("Page ID tidak ditemukan"),alert("Error: Page ID tidak ditemukan");return}u(!0),g("");try{console.log("Saving block:",{pageId:e,blockId:t.id,blockType:t.type,blockOrder:t.order,blockIsActive:t.isActive,dataSize:JSON.stringify(s).length,dataPreview:JSON.stringify(s).substring(0,100)});const z=`/admin/pages/${e}/blocks/${t.id}`;if(console.log("Update URL:",z),console.log("Page ID:",e,"Length:",e.length),console.log("Block ID:",t.id,"Length:",t.id.length),console.log("Block ID characters:",t.id.split("").join(" ")),t.id===e){const K="Error: Block ID sama dengan Page ID. Ini tidak valid. Silakan refresh halaman dan coba lagi.";g(K),alert(K);return}const L=await ae.put(`/admin/pages/${e}/blocks/${t.id}`,{type:t.type,data:s,isActive:t.isActive!==!1,order:t.order});console.log("Block saved successfully:",L),r()}catch(z){console.error("Error saving block:",z);const L=z instanceof Error?z.message:"Gagal menyimpan block. Silakan coba lagi.";g(L),alert(`Error: ${L}`)}finally{u(!1)}},C=async(D,z)=>{const L=D.target.files?.[0];if(L){m(!0);try{const K=await ae.upload("/admin/upload",L,"general"),X=K.url||K.path||"";if(!X)throw new Error("Upload gagal: URL tidak ditemukan dalam response");if(t.type==="hero-slider"&&z!==void 0){const R=[...s.sliders||[]];R[z]&&(R[z]={...R[z],image:X},l({...s,sliders:R}))}else if(t.type==="gallery-carousel"){const R=s.items||(s.images||[]).map((_,U)=>({image:_,label:s.labels?.[U]||`Item ${U+1}`}));l({...s,items:[...R,{image:X,label:""}]})}else t.type==="image"&&l({...s,image:X})}catch(K){console.error("Error uploading image:",K)}finally{m(!1)}}},A=async(D,z)=>{const L=D.target.files?.[0];if(!L)return;if(!L.type.startsWith("video/")){alert("File harus berupa video (mp4, webm, ogg, mov)");return}if(L.size>50*1024*1024){alert("Ukuran file maksimal 50MB");return}m(!0);let K=L,X=x,R=!1;try{if(x&&await R0(L,5))try{k(!0),j(0);const G=or(L.size);console.log(` Video lebih dari 5 detik. Memotong video di browser... (Ukuran asli: ${G})`);const B=await _0(L,5,V=>{j(V)});K=new File([B],L.name.replace(/\.[^/.]+$/,"")+"-trimmed.mp4",{type:"video/mp4"});const Y=or(K.size);console.log(` Video berhasil dipotong menjadi 5 detik (Ukuran baru: ${Y})`),k(!1),j(0),R=!1}catch(G){console.warn(" Client-side trimming gagal:",G.message),console.log(" Fallback: Upload ke server untuk di-trim..."),k(!1),K=L,R=!0}const _=await ae.upload("/admin/upload",K,"sliders",!0,!0,!1,R,5),U=_.url||_.path||"";if(!U)throw new Error("Upload gagal: URL tidak ditemukan dalam response");if(console.log(R?" Video berhasil diupload dan dipotong di server":X&&K!==L?" Video berhasil diupload (sudah dipotong di browser)":" Video berhasil diupload"),t.type==="hero-slider"&&z!==void 0){const P=[...s.sliders||[]];P[z]&&(P[z]={...P[z],videoFile:U},l({...s,sliders:P}))}}catch(_){console.error(" Error uploading video:",_),alert(_.message||"Gagal mengupload video"),k(!1)}finally{m(!1),j(0)}},M=()=>{switch(t.type){case"hero-slider":const D=s.sliders||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hero Sliders"}),a.jsxs("button",{type:"button",onClick:()=>{const R={id:`slider-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:"",titleEn:"",subtitle:"",subtitleEn:"",image:"",videoUrl:"",buttonText:"",buttonTextEn:"",buttonUrl:"",isActive:!0};l({...s,sliders:[...D,R]})},className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Slider"})]})]}),D.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:a.jsx("p",{children:'Belum ada slider. Klik "Tambah Slider" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-6",children:D.map((R,_)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"font-semibold text-gray-800",children:["Slider ",_+1]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>{const U=[...D];U[_]={...U[_],isActive:!U[_].isActive},l({...s,sliders:U})},className:`px-3 py-1 rounded text-sm ${R.isActive!==!1?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:R.isActive!==!1?"Aktif":"Nonaktif"}),_>0&&a.jsx("button",{type:"button",onClick:()=>{const U=[...D],P=U[_];U[_]=U[_-1],U[_-1]=P,l({...s,sliders:U})},className:"p-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700",title:"Move up",children:a.jsx(Zt,{size:16})}),_<D.length-1&&a.jsx("button",{type:"button",onClick:()=>{const U=[...D],P=U[_];U[_]=U[_+1],U[_+1]=P,l({...s,sliders:U})},className:"p-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700",title:"Move down",children:a.jsx(It,{size:16})}),a.jsx("button",{type:"button",onClick:()=>{const U=D.filter((P,G)=>G!==_);l({...s,sliders:U})},className:"p-2 bg-red-100 hover:bg-red-200 rounded text-red-700",title:"Delete",children:a.jsx(Ae,{size:16})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Image *"}),R.image?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:oe(R.image),alt:`Slider ${_+1}`,className:"w-full h-48 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{const U=[...D];U[_]={...U[_],image:""},l({...s,sliders:U})},className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:a.jsx(Ae,{size:16})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:U=>C(U,_),disabled:d,className:"hidden",id:`slider-image-${_}`}),a.jsx("label",{htmlFor:`slider-image-${_}`,className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-green-500 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (ID) *"}),a.jsx("input",{type:"text",value:R.title||"",onChange:U=>{const P=[...D];P[_]={...P[_],title:U.target.value},l({...s,sliders:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Al Azhar International Islamic Boarding School"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{type:"text",value:R.titleEn||"",onChange:U=>{const P=[...D];P[_]={...P[_],titleEn:U.target.value},l({...s,sliders:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Al Azhar International Islamic Boarding School"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (ID)"}),a.jsx("textarea",{value:R.subtitle||"",onChange:U=>{const P=[...D];P[_]={...P[_],subtitle:U.target.value},l({...s,sliders:P})},rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Qur'anic Learning, Courtesy Oriented and World Class Education"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (EN)"}),a.jsx("textarea",{value:R.subtitleEn||"",onChange:U=>{const P=[...D];P[_]={...P[_],subtitleEn:U.target.value},l({...s,sliders:P})},rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Qur'anic Learning, Courtesy Oriented and World Class Education"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (ID)"}),a.jsx("input",{type:"text",value:R.buttonText||"",onChange:U=>{const P=[...D];P[_]={...P[_],buttonText:U.target.value},l({...s,sliders:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Pendaftaran Murid Baru"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (EN)"}),a.jsx("input",{type:"text",value:R.buttonTextEn||"",onChange:U=>{const P=[...D];P[_]={...P[_],buttonTextEn:U.target.value},l({...s,sliders:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"New Student Registration"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),a.jsx("input",{type:"text",value:R.buttonUrl||"",onChange:U=>{const P=[...D];P[_]={...P[_],buttonUrl:U.target.value},l({...s,sliders:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"/pendaftaran atau https://example.com"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video YouTube URL (opsional)"}),a.jsx("input",{type:"text",value:R.videoUrl||"",onChange:U=>{const P=[...D];P[_]={...P[_],videoUrl:U.target.value},l({...s,sliders:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://www.youtube.com/watch?v=xxxx"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Jika diisi, slider menampilkan tombol play yang membuka video."})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video File untuk Autoplay Background (opsional)"}),a.jsxs("div",{className:"mb-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`auto-trim-${_}`,checked:x,onChange:U=>b(U.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:`auto-trim-${_}`,className:"flex items-center text-sm text-gray-700 cursor-pointer",children:[a.jsx(Gl,{className:"w-4 h-4 mr-1 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Auto-trim video menjadi 5 detik (Eksperimental)"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 ml-6",children:" Fitur ini butuh koneksi internet stabil. Jika gagal, upload video pendek (5 detik) atau disable fitur ini."})]}),R.videoFile?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("video",{src:oe(R.videoFile),controls:!0,className:"w-full h-48 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{const U=[...D];U[_]={...U[_],videoFile:""},l({...s,sliders:U})},className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:a.jsx(Ae,{size:16})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"video/*",onChange:U=>A(U,_),disabled:d||N,className:"hidden",id:`slider-video-${_}`}),a.jsx("label",{htmlFor:`slider-video-${_}`,className:"cursor-pointer flex flex-col items-center",children:N?a.jsxs(a.Fragment,{children:[a.jsx(Gl,{className:"w-8 h-8 text-blue-600 animate-pulse mb-2"}),a.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Memotong video menjadi 5 detik..."}),a.jsx("div",{className:"w-full max-w-xs bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[v,"%"]})]}):d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"w-8 h-8 text-primary-600 animate-spin mb-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Mengupload video..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Klik untuk upload video (mp4, webm, max 50MB)"})]})})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Video akan autoplay sebagai background (seperti website referensi). Video akan otomatis muted dan loop.",x?a.jsx("span",{className:"block mt-1 text-blue-600 font-medium",children:" Video yang lebih dari 5 detik akan otomatis dipotong menjadi 5 detik pertama."}):a.jsx("span",{className:"block mt-1 text-green-600 font-medium",children:" Tip: Upload video yang sudah pendek (5 detik) untuk performa terbaik."})]})]})]})]},R.id||_))})]});case"gallery-carousel":const z=s.items||(s.images||[]).map((R,_)=>({image:R,label:s.labels?.[_]||`Item ${_+1}`}));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",value:s.title||"",onChange:R=>l({...s,title:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Gedung & Fasilitas"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (opsional)"}),a.jsx("textarea",{value:s.subtitle||"",onChange:R=>l({...s,subtitle:R.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Jelajahi Fasilitas Bertaraf International..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Items"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:d,className:"hidden",id:"gallery-upload"}),a.jsx("label",{htmlFor:"gallery-upload",className:`inline-flex items-center space-x-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors cursor-pointer ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin",size:18}),a.jsx("span",{children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18}),a.jsx("span",{children:"Tambah Gambar"})]})})]}),a.jsx("div",{className:"space-y-4",children:z.map((R,_)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("img",{src:oe(R.image||R),alt:`Gallery ${_+1}`,className:"w-32 h-32 object-cover rounded-lg border border-gray-300"}),a.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:a.jsx("button",{type:"button",onClick:()=>{const U=[...z];U.splice(_,1),l({...s,items:U})},className:"p-2 bg-red-600 hover:bg-red-700 rounded text-white",title:"Remove",children:a.jsx(Ae,{size:16})})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label"}),a.jsx("input",{type:"text",value:R.label||"",onChange:U=>{const P=[...z];P[_]={...P[_],label:U.target.value},l({...s,items:P})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"Ruang Kelas"})]}),a.jsxs("div",{className:"flex flex-col justify-center space-y-2",children:[a.jsx("button",{type:"button",onClick:()=>{if(_>0){const U=[...z],P=U[_];U[_]=U[_-1],U[_-1]=P,l({...s,items:U})}},disabled:_===0,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-gray-800 disabled:opacity-30",title:"Move up",children:a.jsx(Zt,{size:16})}),a.jsx("button",{type:"button",onClick:()=>{if(_<z.length-1){const U=[...z],P=U[_];U[_]=U[_+1],U[_+1]=P,l({...s,items:U})}},disabled:_===z.length-1,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-gray-800 disabled:opacity-30",title:"Move down",children:a.jsx(It,{size:16})})]})]})},_))}),z.length===0&&a.jsx("p",{className:"text-gray-500 text-sm text-center py-8",children:'Belum ada gambar. Klik "Tambah Gambar" untuk menambahkan.'})]})]});case"image":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),s.image?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:oe(s.image),alt:"Preview",className:"w-full h-64 object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>l({...s,image:""}),className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:C,disabled:d,className:"hidden",id:"image-upload"}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-green-500 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Klik untuk upload gambar"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Text"}),a.jsx("input",{type:"text",value:s.alt||"",onChange:R=>l({...s,alt:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Image description"})]})]});case"text":return a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),a.jsx("textarea",{value:s.content||"",onChange:R=>l({...s,content:R.target.value}),rows:10,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter text content..."})]});case"video-section":const L=s.videos||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),a.jsx("input",{type:"text",value:s.title||"",onChange:R=>l({...s,title:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Videos"}),a.jsxs("button",{type:"button",onClick:()=>{l({...s,videos:[...L,{title:"",titleEn:"",description:"",descriptionEn:"",url:"",thumbnail:""}]})},className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 flex items-center space-x-2",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Video"})]})]}),L.map((R,_)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"font-semibold",children:["Video ",_+1]}),a.jsx("button",{type:"button",onClick:()=>{const U=L.filter((P,G)=>G!==_);l({...s,videos:U})},className:"p-2 bg-red-100 hover:bg-red-200 rounded text-red-700",children:a.jsx(Ae,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (ID)"}),a.jsx("input",{type:"text",value:R.title||"",onChange:U=>{const P=[...L];P[_]={...P[_],title:U.target.value},l({...s,videos:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{type:"text",value:R.titleEn||"",onChange:U=>{const P=[...L];P[_]={...P[_],titleEn:U.target.value},l({...s,videos:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL"}),a.jsx("input",{type:"text",value:R.url||"",onChange:U=>{const P=[...L];P[_]={...P[_],url:U.target.value},l({...s,videos:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"https://youtube.com/watch?v=..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thumbnail URL"}),a.jsx("input",{type:"text",value:R.thumbnail||"",onChange:U=>{const P=[...L];P[_]={...P[_],thumbnail:U.target.value},l({...s,videos:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (ID)"}),a.jsx("textarea",{value:R.description||"",onChange:U=>{const P=[...L];P[_]={...P[_],description:U.target.value},l({...s,videos:P})},rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (EN)"}),a.jsx("textarea",{value:R.descriptionEn||"",onChange:U=>{const P=[...L];P[_]={...P[_],descriptionEn:U.target.value},l({...s,videos:P})},rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]},_))]});case"two-column":return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Left Content"}),a.jsx("textarea",{value:s.leftContent||"",onChange:R=>l({...s,leftContent:R.target.value}),rows:10,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Left column content (HTML allowed)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Right Content"}),a.jsx("textarea",{value:s.rightContent||"",onChange:R=>l({...s,rightContent:R.target.value}),rows:10,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Right column content (HTML allowed)"})]})]});case"accordion":const K=s.items||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Accordion Items"}),a.jsxs("button",{type:"button",onClick:()=>{l({...s,items:[...K,{title:"",titleEn:"",content:"",contentEn:""}]})},className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Item"})]})]}),K.map((R,_)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"font-semibold",children:["Item ",_+1]}),a.jsx("button",{type:"button",onClick:()=>{const U=K.filter((P,G)=>G!==_);l({...s,items:U})},className:"p-2 bg-red-100 hover:bg-red-200 rounded text-red-700",children:a.jsx(Ae,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (ID)"}),a.jsx("input",{type:"text",value:R.title||"",onChange:U=>{const P=[...K];P[_]={...P[_],title:U.target.value},l({...s,items:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{type:"text",value:R.titleEn||"",onChange:U=>{const P=[...K];P[_]={...P[_],titleEn:U.target.value},l({...s,items:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (ID)"}),a.jsx("textarea",{value:R.content||"",onChange:U=>{const P=[...K];P[_]={...P[_],content:U.target.value},l({...s,items:P})},rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (EN)"}),a.jsx("textarea",{value:R.contentEn||"",onChange:U=>{const P=[...K];P[_]={...P[_],contentEn:U.target.value},l({...s,items:P})},rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]},_))]});case"cards":const X=s.cards||[];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cards"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm text-gray-700",children:"Columns:"}),a.jsx("div",{className:"w-24",children:a.jsx(Sr,{value:String(s.columns||3),onChange:R=>l({...s,columns:parseInt(R)}),options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"}],placeholder:"Columns...",isSearchable:!1})}),a.jsxs("button",{type:"button",onClick:()=>{l({...s,cards:[...X,{title:"",titleEn:"",content:"",contentEn:"",image:"",buttonText:"",buttonTextEn:"",buttonUrl:""}]})},className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 flex items-center space-x-2",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Card"})]})]})]}),X.map((R,_)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"font-semibold",children:["Card ",_+1]}),a.jsx("button",{type:"button",onClick:()=>{const U=X.filter((P,G)=>G!==_);l({...s,cards:U})},className:"p-2 bg-red-100 hover:bg-red-200 rounded text-red-700",children:a.jsx(Ae,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),R.image?a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:oe(R.image),alt:"Preview",className:"w-full h-32 object-cover rounded border"}),a.jsx("button",{type:"button",onClick:()=>{const U=[...X];U[_]={...U[_],image:""},l({...s,cards:U})},className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full",children:a.jsx(Ae,{size:14})})]}):a.jsx("input",{type:"file",accept:"image/*",onChange:async U=>{const P=U.target.files?.[0];if(P){m(!0);try{const G=await ae.upload("/admin/upload",P,"general"),B=[...X];B[_]={...B[_],image:G.url||G.path||""},l({...s,cards:B})}finally{m(!1)}}},className:"w-full text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (ID)"}),a.jsx("input",{type:"text",value:R.title||"",onChange:U=>{const P=[...X];P[_]={...P[_],title:U.target.value},l({...s,cards:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{type:"text",value:R.titleEn||"",onChange:U=>{const P=[...X];P[_]={...P[_],titleEn:U.target.value},l({...s,cards:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (ID)"}),a.jsx("textarea",{value:R.content||"",onChange:U=>{const P=[...X];P[_]={...P[_],content:U.target.value},l({...s,cards:P})},rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (EN)"}),a.jsx("textarea",{value:R.contentEn||"",onChange:U=>{const P=[...X];P[_]={...P[_],contentEn:U.target.value},l({...s,cards:P})},rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (ID)"}),a.jsx("input",{type:"text",value:R.buttonText||"",onChange:U=>{const P=[...X];P[_]={...P[_],buttonText:U.target.value},l({...s,cards:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),a.jsx("input",{type:"text",value:R.buttonUrl||"",onChange:U=>{const P=[...X];P[_]={...P[_],buttonUrl:U.target.value},l({...s,cards:P})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]})]},_))]});default:return a.jsxs("div",{children:[a.jsxs("p",{className:"text-gray-600 mb-4",children:['Editor untuk block type "',t.type,'". Untuk mengedit data block, silakan gunakan form yang sesuai dengan tipe block.']}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:a.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(s,null,2)})})]})}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:n,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-bold",children:["Edit Block: ",t.type]}),a.jsx("button",{type:"button",onClick:n,className:"text-gray-500 hover:text-gray-700",children:a.jsx(Ae,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[p&&a.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:p}),M(),a.jsxs("div",{className:"flex justify-end space-x-4 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Batal"}),a.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),T(D)},disabled:c,className:"px-6 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50",children:c?"Menyimpan...":"Simpan"})]})]})]})})}function ZT({page:e,menus:t=[]}){const n=_t(),{showSuccess:r}=Wn(),[s,l]=S.useState(!1),[c,u]=S.useState(""),[d,m]=S.useState(!1),[p,g]=S.useState(e?.featuredImage?oe(e.featuredImage):null),{register:x,handleSubmit:b,watch:v,setValue:j,formState:{errors:N}}=Vr({defaultValues:e?{title:e.title,titleEn:e.titleEn||"",slug:e.slug,content:e.content,contentEn:e.contentEn||"",excerpt:e.excerpt||"",excerptEn:e.excerptEn||"",featuredImage:e.featuredImage||"",menuId:e.menuId||"",pageType:e.pageType||"standard",template:e.template||"",seoTitle:e.seoTitle||"",seoDescription:e.seoDescription||"",seoKeywords:e.seoKeywords||"",isPublished:e.isPublished}:{pageType:"standard",isPublished:!1}}),k=v("content"),T=v("contentEn"),C=v("title");S.useEffect(()=>{if(!e&&C){const z=x0(C);j("slug",z,{shouldValidate:!0})}},[C,e,j]);const A=async z=>{const L=z.target.files?.[0];if(L){if(!L.type.startsWith("image/")){u("File harus berupa gambar");return}if(L.size>5*1024*1024){u("Ukuran file maksimal 5MB");return}m(!0),u("");try{const K=await ae.upload("/admin/upload",L,"general"),X=K.url||K.path||"";if(!X)throw new Error("Upload gagal: URL tidak ditemukan dalam response");j("featuredImage",X,{shouldValidate:!0}),g(oe(X))}catch(K){u(K instanceof Error?K.message:"Gagal mengupload gambar")}finally{m(!1)}}},M=()=>{j("featuredImage","",{shouldValidate:!0}),g(null)},D=async z=>{l(!0),u("");try{e?(await ae.put(`/admin/pages/${e.id}`,{...z,menuId:z.menuId||null,featuredImage:z.featuredImage||null,template:z.template||null,seoTitle:z.seoTitle||null,seoDescription:z.seoDescription||null,seoKeywords:z.seoKeywords||null}),r("Halaman berhasil diperbarui!",3e3,!0)):(await ae.post("/admin/pages/create",{...z,menuId:z.menuId||null,featuredImage:z.featuredImage||null,template:z.template||null,seoTitle:z.seoTitle||null,seoDescription:z.seoDescription||null,seoKeywords:z.seoKeywords||null}),r("Halaman berhasil ditambahkan!",3e3,!0)),n("/admin/pages")}catch(L){u(L instanceof Error?L.message:"Terjadi kesalahan saat menyimpan")}finally{l(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:b(D),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[c&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul (ID) *"}),a.jsx("input",{...x("title",{required:"Judul wajib diisi"}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),N.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul (EN)"}),a.jsx("input",{...x("titleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug *"}),a.jsx("input",{...x("slug",{required:"Slug wajib diisi"}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",readOnly:!!e}),N.slug&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.slug.message}),!e&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Slug akan otomatis dibuat dari judul"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Halaman"}),a.jsx(Sr,{name:"pageType",value:v("pageType"),onChange:z=>j("pageType",z),options:[{value:"standard",label:"Standard"},{value:"program",label:"Program"},{value:"facility",label:"Fasilitas"},{value:"academic",label:"Akademik"}],placeholder:"Pilih tipe halaman...",isSearchable:!1})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Menu (opsional)"}),a.jsx(Sr,{name:"menuId",value:v("menuId")||"",onChange:z=>j("menuId",z||void 0),options:[{value:"",label:"Tidak ada menu"},...t.map(z=>({value:z.id,label:z.title}))],placeholder:"Pilih menu...",isSearchable:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),p?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:p,alt:"Preview",className:"h-64 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:M,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:A,disabled:d,className:"hidden",id:"page-image-upload"}),a.jsx("label",{htmlFor:"page-image-upload",className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-green-500 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]}),a.jsx("input",{...x("featuredImage"),type:"hidden"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konten (ID) *"}),a.jsx(bs,{value:k||"",onChange:z=>{j("content",z,{shouldValidate:!0})},placeholder:"Masukkan konten halaman..."}),N.content&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:N.content.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konten (EN)"}),a.jsx(bs,{value:T||"",onChange:z=>{j("contentEn",z)},placeholder:"Enter page content..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt (ID)"}),a.jsx("textarea",{...x("excerpt"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt (EN)"}),a.jsx("textarea",{...x("excerptEn"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"SEO Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Title"}),a.jsx("input",{...x("seoTitle"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Description"}),a.jsx("textarea",{...x("seoDescription"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Keywords"}),a.jsx("input",{...x("seoKeywords"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"keyword1, keyword2, keyword3"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template"}),a.jsx("input",{...x("template"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"with-header (untuk header hijau)"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...x("isPublished"),type:"checkbox",id:"isPublished",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPublished",className:"ml-2 block text-sm text-gray-700",children:"Published"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>n("/admin/pages"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Batal"}),a.jsx("button",{type:"submit",disabled:s||d,className:"px-6 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Menyimpan...":"Simpan"})]})]}),e&&a.jsx("div",{className:"mt-8",children:a.jsx($q,{pageId:e.id,initialBlocks:e.blocks||[]})})]})}function Vq(){const e=ys(),t=_t(),n=e.id,[r,s]=S.useState(null),[l,c]=S.useState([]),[u,d]=S.useState(!0);S.useEffect(()=>{n&&m()},[n]);async function m(){try{const[p,g]=await Promise.all([ae.get(`/admin/pages/${n}`),ae.get("/admin/menus")]);s(p),c(g)}catch(p){console.error("Error loading data:",p)}finally{d(!1)}}return u?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ge,{className:"animate-spin h-12 w-12 text-green-500"})})}):r?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>t("/admin/pages"),className:"text-green-600 hover:text-green-700 mb-4",children:" Kembali ke Daftar Halaman"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Edit Halaman"})]}),a.jsx(ZT,{page:r,menus:l})]})})}):a.jsx(Oe,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500",children:"Halaman tidak ditemukan"}),a.jsx("button",{onClick:()=>t("/admin/pages"),className:"mt-4 text-green-600 hover:text-green-700",children:"Kembali ke Daftar Halaman"})]})})}function Hq(){const e=_t(),[t,n]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{l()},[]);async function l(){try{const c=await ae.get("/admin/menus");n(c)}catch(c){console.error("Error loading menus:",c)}finally{s(!1)}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ge,{className:"animate-spin h-12 w-12 text-green-500"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>e("/admin/pages"),className:"text-green-600 hover:text-green-700 mb-4",children:" Kembali ke Daftar Halaman"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Tambah Halaman Baru"})]}),a.jsx(ZT,{menus:t})]})})})}const qq=en({title:re().optional(),titleEn:re().optional(),subtitle:re().optional(),subtitleEn:re().optional(),image:re().optional(),videoUrl:re().optional(),videoFile:re().optional(),buttonText:re().optional(),buttonTextEn:re().optional(),buttonUrl:re().refine(e=>!e||e.startsWith("/")||e.startsWith("http://")||e.startsWith("https://"),{message:"URL harus dimulai dengan / untuk path relatif atau http:///https:// untuk URL lengkap"}).optional().or($c("")),order:vn().int().min(0).default(0),isActive:au().default(!0)});function Gq({pageId:e,hero:t,onSuccess:n,onCancel:r}){const{showSuccess:s}=Wn(),[l,c]=S.useState(!1),[u,d]=S.useState(""),[m,p]=S.useState(!1),[g,x]=S.useState(!1),[b,v]=S.useState(t?.image?oe(t.image):null),[j,N]=S.useState(t?.videoFile?oe(t.videoFile):null),[k,T]=S.useState(t?.videoDuration??null),[C,A]=S.useState(!1),[M,D]=S.useState(0),[z,L]=S.useState(!1),[K,X]=S.useState(!1),[R,_]=S.useState(0),{register:U,handleSubmit:P,setValue:G,formState:{errors:B}}=Vr({resolver:Vi(qq),defaultValues:t?{title:t.title||void 0,titleEn:t.titleEn||void 0,subtitle:t.subtitle||void 0,subtitleEn:t.subtitleEn||void 0,image:t.image||void 0,videoUrl:t.videoUrl||void 0,videoFile:t.videoFile||void 0,buttonText:t.buttonText||void 0,buttonTextEn:t.buttonTextEn||void 0,buttonUrl:t.buttonUrl||void 0,order:t.order??0,isActive:t.isActive??!0}:{order:0,isActive:!0}}),Y=async I=>{const q=I.target.files?.[0];if(q){if(!q.type.startsWith("image/")){d("File harus berupa gambar");return}if(q.size>5*1024*1024){d("Ukuran file maksimal 5MB");return}p(!0),d("");try{const ee=await ae.upload("/admin/upload",q,"page-heroes"),fe=ee.url||ee.path||"";if(!fe)throw new Error("Upload gagal: URL tidak ditemukan dalam response");G("image",fe,{shouldValidate:!0}),v(oe(fe))}catch(ee){console.error("Upload error:",ee),d(ee.message||"Gagal mengupload gambar")}finally{p(!1)}}},V=async I=>{const q=I.target.files?.[0];if(!q)return;if(!q.type.startsWith("video/")){d("File harus berupa video (mp4, webm, ogg, mov)");return}if(q.size>50*1024*1024){d("Ukuran file maksimal 50MB");return}x(!0),d("");let ee=q,fe=!1;try{const we=q.size/1048576;if(we>5)try{X(!0),_(0),console.log(` Video ${or(q.size)} > 5MB, compressing...`),ee=await bS(q,5,$e=>{_($e)}),console.log(` Compressed: ${or(q.size)}  ${or(ee.size)}`),X(!1),_(0)}catch($e){if(console.warn(" Compression failed:",$e.message),X(!1),we>50)throw new Error("Video terlalu besar. Maksimal 50MB. Silakan compress video terlebih dahulu.");ee=q}if(C&&await R0(ee,5))try{L(!0),D(0),console.log(" Video lebih dari 5 detik. Memotong video...");const me=await _0(ee,5,_e=>{D(_e)});ee=new File([me],ee.name.replace(/\.[^/.]+$/,"")+"-trimmed.mp4",{type:"video/mp4"}),console.log(" Video berhasil dipotong menjadi 5 detik"),L(!1),D(0),fe=!1}catch(me){console.warn(" Client-side trimming gagal:",me.message),L(!1),fe=!0}const pe=await ae.upload("/admin/upload",ee,"page-heroes",!0,!0,!1,fe,5),te=pe.url||pe.path||"";if(!te)throw new Error("Upload gagal: URL tidak ditemukan dalam response");G("videoFile",te,{shouldValidate:!0}),N(oe(te)),pe.videoDuration&&pe.videoDuration>0&&T(pe.videoDuration),console.log(" Video berhasil diupload"),d("")}catch(we){console.error(" Upload error:",we),d(we.message||"Gagal mengupload video"),L(!1)}finally{x(!1),D(0)}},ve=()=>{G("videoFile",""),N(null),T(null)},he=async I=>{c(!0),d("");try{const q={pageId:e,title:I.title||null,titleEn:I.titleEn||null,subtitle:I.subtitle||null,subtitleEn:I.subtitleEn||null,image:I.image||null,videoUrl:I.videoUrl||null,videoFile:I.videoFile||null,videoDuration:k||null,buttonText:I.buttonText||null,buttonTextEn:I.buttonTextEn||null,buttonUrl:I.buttonUrl||null,order:I.order??0,isActive:I.isActive!==void 0?I.isActive:!0};t?.id?(await ae.put(`/admin/page-heroes/${t.id}`,q),s("Hero berhasil diperbarui!")):(await ae.post(`/admin/pages/${e}/hero/create`,q),s("Hero berhasil ditambahkan!")),n&&n()}catch(q){console.error("Submit error:",q),d(q.message||"Terjadi kesalahan saat menyimpan")}finally{c(!1)}};return a.jsxs("form",{onSubmit:P(he),className:"space-y-6",children:[u&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul (ID) *"}),a.jsx("input",{type:"text",...U("title"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Judul Hero"}),B.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul (EN)"}),a.jsx("input",{type:"text",...U("titleEn"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Title (EN)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (ID)"}),a.jsx("input",{type:"text",...U("subtitle"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Subtitle"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (EN)"}),a.jsx("input",{type:"text",...U("subtitleEn"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Subtitle (EN)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Hero"}),b?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:b,alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{G("image",""),v(null)},className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:""})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsxs("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[a.jsx(lt,{size:18,className:"mr-2"}),m?"Mengupload...":"Upload Gambar",a.jsx("input",{type:"file",accept:"image/*",onChange:Y,className:"hidden",disabled:m})]}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video File untuk Autoplay Background (opsional)"}),a.jsxs("div",{className:"mb-3 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"auto-trim",checked:C,onChange:I=>A(I.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:"auto-trim",className:"flex items-center text-sm text-gray-700 cursor-pointer",children:[a.jsx(Gl,{className:"w-4 h-4 mr-1 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Auto-trim video menjadi 5 detik (Eksperimental)"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1 ml-6",children:" Fitur ini butuh koneksi internet stabil. Jika gagal, upload video pendek (5 detik) atau disable fitur ini."})]}),j?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("video",{src:j,controls:!0,className:"w-full max-w-md rounded-lg border border-gray-300"}),k&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Durasi: ",Math.floor(k/60),":",(k%60).toString().padStart(2,"0")," (",k," detik)"]}),a.jsx("button",{type:"button",onClick:ve,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Ae,{size:16})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx("input",{type:"file",accept:"video/mp4,video/webm,video/ogg,video/quicktime",onChange:V,disabled:g||z||K,className:"hidden",id:"video-upload"}),a.jsx("label",{htmlFor:"video-upload",className:"cursor-pointer flex flex-col items-center",children:K?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"w-8 h-8 text-orange-600 animate-spin mb-2"}),a.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Mengompress video..."}),a.jsx("div",{className:"w-full max-w-xs bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${R}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[R,"%"]})]}):z?a.jsxs(a.Fragment,{children:[a.jsx(Gl,{className:"w-8 h-8 text-blue-600 animate-pulse mb-2"}),a.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Memotong video menjadi 5 detik..."}),a.jsx("div",{className:"w-full max-w-xs bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[M,"%"]})]}):g?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"w-8 h-8 text-primary-600 animate-spin mb-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Mengupload video..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"w-8 h-8 text-gray-400 mb-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Klik untuk upload video (mp4, webm, max 50MB)"})]})})]}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Video ini akan ditampilkan sebagai background autoplay di hero. Jika tidak diisi, akan menggunakan gambar.",a.jsxs("span",{className:"block mt-1 text-orange-600 font-medium",children:[" Auto-compress: Video ",">","5MB akan otomatis di-compress sebelum upload."]}),C?a.jsx("span",{className:"block mt-1 text-blue-600 font-medium",children:" Video yang lebih dari 5 detik akan otomatis dipotong menjadi 5 detik pertama."}):a.jsx("span",{className:"block mt-1 text-green-600 font-medium",children:" Tip: Upload video yang sudah pendek (5 detik) untuk performa terbaik."})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video YouTube URL (opsional)"}),a.jsx("input",{type:"url",...U("videoUrl"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://youtube.com/watch?v=..."}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Jika diisi, hero akan menampilkan tombol play untuk video YouTube ini (untuk modal popup)."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (ID)"}),a.jsx("input",{type:"text",...U("buttonText"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Daftar Sekarang"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (EN)"}),a.jsx("input",{type:"text",...U("buttonTextEn"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Register Now"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),a.jsx("input",{type:"text",...U("buttonUrl"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"/pendaftaran atau https://example.com"}),B.buttonUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:B.buttonUrl.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),a.jsx("input",{type:"number",...U("order",{valueAsNumber:!0}),min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",...U("isActive"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Aktif"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[r&&a.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Batal"}),a.jsxs("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[l&&a.jsx(Ge,{size:18,className:"animate-spin"}),a.jsx("span",{children:l?"Menyimpan...":"Simpan"})]})]})]})}function Kq(){const{pageId:e}=ys(),[t,n]=S.useState(null),[r,s]=S.useState([]),[l,c]=S.useState(!0),[u,d]=S.useState(null);S.useEffect(()=>{m()},[e]);async function m(){try{const[g,x]=await Promise.all([ae.get(`/admin/pages/${e}`),ae.get(`/admin/pages/${e}/hero`).catch(()=>[])]);n(g),s(Array.isArray(x)?x:[])}catch(g){console.error("Error loading data:",g)}finally{c(!1)}}const p=async()=>{await m()};return l?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):u!==null?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("button",{onClick:()=>d(null),className:"text-gray-600 hover:text-gray-900",children:a.jsx(ql,{size:20})}),a.jsxs("h1",{className:"text-3xl font-bold",children:[u.id?"Edit Hero":"Tambah Hero"," - ",t?.title]})]}),a.jsx(Gq,{pageId:e,hero:u,onSuccess:()=>{d(null),m()},onCancel:()=>{d(null)}})]})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Me,{to:"/admin/pages",className:"text-gray-600 hover:text-gray-900",children:a.jsx(ql,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold",children:["Hero - ",t?.title]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Kelola hero section untuk halaman ini"})]})]}),a.jsxs("button",{onClick:()=>d({}),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Hero"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.length===0?a.jsx("div",{className:"p-12 text-center text-gray-500",children:a.jsx("p",{children:"Belum ada hero. Tambah hero baru untuk memulai."})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subtitle"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Video"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(g=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.image?a.jsx("img",{src:oe(g.image),alt:g.title,className:"h-16 w-32 object-cover rounded"}):a.jsx("div",{className:"h-16 w-32 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:"No Image"})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.title||"-"}),g.titleEn&&a.jsx("div",{className:"text-sm text-gray-500",children:g.titleEn})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:g.subtitle||"-"})}),a.jsx("td",{className:"px-6 py-4",children:g.videoUrl?a.jsxs("a",{href:g.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-primary-600 hover:text-primary-800 space-x-1 text-sm",children:[a.jsx(dk,{size:16}),a.jsx("span",{children:"YouTube"})]}):a.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:g.order??0})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>d(g),className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:g.id,apiEndpoint:"/admin/page-heroes",confirmMessage:"Yakin ingin menghapus hero ini?",onDeleted:p})]})})]},g.id))})]})})]})})})}function Zq({value:e,onChange:t}){const[n,r]=S.useState(new Set),[s,l]=S.useState(null),c=()=>{const x={id:`nav-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,label:"",url:"",icon:""};t([...e,x]),r(new Set([...n,x.id]))},u=x=>{t(e.filter(v=>v.id!==x));const b=new Set(n);b.delete(x),r(b)},d=(x,b,v)=>{t(e.map(j=>j.id===x?{...j,[b]:v}:j))},m=x=>{const b=new Set(n);b.has(x)?b.delete(x):b.add(x),r(b)},p=(x,b)=>{if(b==="up"&&x===0||b==="down"&&x===e.length-1)return;const v=[...e],j=b==="up"?x-1:x+1;[v[x],v[j]]=[v[j],v[x]],t(v)},g=async(x,b)=>{const v=x.target.files?.[0];if(v){if(!v.type.startsWith("image/")){alert("File harus berupa gambar");return}l(b);try{const j=await ae.upload("/admin/upload",v,"general"),N=j.url||j.path||"";N&&d(b,"icon",N)}catch{alert("Gagal mengupload gambar")}finally{l(null)}}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Navigation Items *"}),a.jsxs("button",{type:"button",onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Item"})]})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada navigation item. Klik "Tambah Item" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.map((x,b)=>{const v=n.has(x.id);return a.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx(ts,{className:"text-gray-400",size:20}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.label||`Item ${b+1}`})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>p(b,"up"),disabled:b===0,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>p(b,"down"),disabled:b===e.length-1,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(x.id),className:"px-3 py-1 text-sm text-primary-600 hover:text-primary-700",children:v?"Sembunyikan":"Edit"}),a.jsx("button",{type:"button",onClick:()=>u(x.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(Ae,{size:18})})]})]}),v&&a.jsxs("div",{className:"p-4 space-y-4 bg-white",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label *"}),a.jsx("input",{type:"text",value:x.label,onChange:j=>d(x.id,"label",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Struktur Organisasi Sekolah"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL *"}),a.jsx("input",{type:"text",value:x.url,onChange:j=>d(x.id,"url",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"/sma/struktur-organisasi-sekolah"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon (Opsional)"}),x.icon?a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:oe(x.icon),alt:"Icon",className:"h-16 w-16 object-contain border border-gray-300 rounded"}),a.jsx("button",{type:"button",onClick:()=>d(x.id,"icon",""),className:"absolute top-0 right-0 bg-red-600 text-white p-1 rounded-full",children:a.jsx(Ae,{size:14})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:j=>g(j,x.id),disabled:s===x.id,className:"hidden",id:`nav-icon-${x.id}`}),a.jsx("label",{htmlFor:`nav-icon-${x.id}`,className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${s===x.id?"opacity-50 cursor-not-allowed":""}`,children:s===x.id?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin mr-2",size:18}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18,className:"mr-2"}),"Upload Icon"]})})]})]})]},x.id)})})]})}function Jq({value:e,onChange:t}){const[n,r]=S.useState(new Set),[s,l]=S.useState(null),c=()=>{const x={id:`program-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,icon:"",title:"",description:"",url:""};t([...e,x]),r(new Set([...n,x.id]))},u=x=>{t(e.filter(v=>v.id!==x));const b=new Set(n);b.delete(x),r(b)},d=(x,b,v)=>{t(e.map(j=>j.id===x?{...j,[b]:v}:j))},m=x=>{const b=new Set(n);b.has(x)?b.delete(x):b.add(x),r(b)},p=(x,b)=>{if(b==="up"&&x===0||b==="down"&&x===e.length-1)return;const v=[...e],j=b==="up"?x-1:x+1;[v[x],v[j]]=[v[j],v[x]],t(v)},g=async(x,b)=>{const v=x.target.files?.[0];if(v){if(!v.type.startsWith("image/")){alert("File harus berupa gambar");return}l(b);try{const j=await ae.upload("/admin/upload",v,"general"),N=j.url||j.path||"";N&&d(b,"icon",N)}catch{alert("Gagal mengupload gambar")}finally{l(null)}}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Program Items *"}),a.jsxs("button",{type:"button",onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Program"})]})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada program item. Klik "Tambah Program" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.map((x,b)=>{const v=n.has(x.id);return a.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx(ts,{className:"text-gray-400",size:20}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.title||`Program ${b+1}`})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>p(b,"up"),disabled:b===0,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>p(b,"down"),disabled:b===e.length-1,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(x.id),className:"px-3 py-1 text-sm text-primary-600 hover:text-primary-700",children:v?"Sembunyikan":"Edit"}),a.jsx("button",{type:"button",onClick:()=>u(x.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(Ae,{size:18})})]})]}),v&&a.jsxs("div",{className:"p-4 space-y-4 bg-white",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon * (Square icon dengan warna)"}),x.icon?a.jsxs("div",{className:"relative mb-2 inline-block",children:[a.jsx("img",{src:oe(x.icon),alt:"Icon",className:"h-20 w-20 object-contain border border-gray-300 rounded"}),a.jsx("button",{type:"button",onClick:()=>d(x.id,"icon",""),className:"absolute top-0 right-0 bg-red-600 text-white p-1 rounded-full",children:a.jsx(Ae,{size:14})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:j=>g(j,x.id),disabled:s===x.id,className:"hidden",id:`program-icon-${x.id}`}),a.jsx("label",{htmlFor:`program-icon-${x.id}`,className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${s===x.id?"opacity-50 cursor-not-allowed":""}`,children:s===x.id?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin mr-2",size:18}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18,className:"mr-2"}),"Upload Icon"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),a.jsx("input",{type:"text",value:x.title,onChange:j=>d(x.id,"title",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Super QC"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:x.description,onChange:j=>d(x.id,"description",j.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Deskripsi program..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL (Opsional)"}),a.jsx("input",{type:"text",value:x.url||"",onChange:j=>d(x.id,"url",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"/program/super-qc"})]})]})]},x.id)})})]})}function Wq({value:e,onChange:t}){const[n,r]=S.useState(new Set),[s,l]=S.useState(null),c=()=>{const x={id:`facility-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,image:"",caption:"",url:""};t([...e,x]),r(new Set([...n,x.id]))},u=x=>{t(e.filter(v=>v.id!==x));const b=new Set(n);b.delete(x),r(b)},d=(x,b,v)=>{t(e.map(j=>j.id===x?{...j,[b]:v}:j))},m=x=>{const b=new Set(n);b.has(x)?b.delete(x):b.add(x),r(b)},p=(x,b)=>{if(b==="up"&&x===0||b==="down"&&x===e.length-1)return;const v=[...e],j=b==="up"?x-1:x+1;[v[x],v[j]]=[v[j],v[x]],t(v)},g=async(x,b)=>{const v=x.target.files?.[0];if(v){if(!v.type.startsWith("image/")){alert("File harus berupa gambar");return}l(b);try{const j=await ae.upload("/admin/upload",v,"general"),N=j.url||j.path||"";N&&d(b,"image",N)}catch{alert("Gagal mengupload gambar")}finally{l(null)}}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Facility Items *"}),a.jsxs("button",{type:"button",onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Fasilitas"})]})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada facility item. Klik "Tambah Fasilitas" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.map((x,b)=>{const v=n.has(x.id);return a.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx(ts,{className:"text-gray-400",size:20}),x.image&&a.jsx("img",{src:oe(x.image),alt:"Preview",className:"h-10 w-10 object-cover rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.caption||`Fasilitas ${b+1}`})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>p(b,"up"),disabled:b===0,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>p(b,"down"),disabled:b===e.length-1,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(x.id),className:"px-3 py-1 text-sm text-primary-600 hover:text-primary-700",children:v?"Sembunyikan":"Edit"}),a.jsx("button",{type:"button",onClick:()=>u(x.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(Ae,{size:18})})]})]}),v&&a.jsxs("div",{className:"p-4 space-y-4 bg-white",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar *"}),x.image?a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:oe(x.image),alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>d(x.id,"image",""),className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full",children:a.jsx(Ae,{size:18})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:j=>g(j,x.id),disabled:s===x.id,className:"hidden",id:`facility-image-${x.id}`}),a.jsx("label",{htmlFor:`facility-image-${x.id}`,className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${s===x.id?"opacity-50 cursor-not-allowed":""}`,children:s===x.id?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin mr-2",size:18}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18,className:"mr-2"}),"Upload Gambar"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption (Opsional)"}),a.jsx("input",{type:"text",value:x.caption||"",onChange:j=>d(x.id,"caption",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Masjid Al Fatih"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL (Opsional)"}),a.jsx("input",{type:"text",value:x.url||"",onChange:j=>d(x.id,"url",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"/fasilitas/masjid"})]})]})]},x.id)})})]})}function Yq({value:e,onChange:t}){const[n,r]=S.useState(new Set),[s,l]=S.useState(null),c=()=>{const x={id:`extracurricular-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,image:"",title:"",description:""};t([...e,x]),r(new Set([...n,x.id]))},u=x=>{t(e.filter(v=>v.id!==x));const b=new Set(n);b.delete(x),r(b)},d=(x,b,v)=>{t(e.map(j=>j.id===x?{...j,[b]:v}:j))},m=x=>{const b=new Set(n);b.has(x)?b.delete(x):b.add(x),r(b)},p=(x,b)=>{if(b==="up"&&x===0||b==="down"&&x===e.length-1)return;const v=[...e],j=b==="up"?x-1:x+1;[v[x],v[j]]=[v[j],v[x]],t(v)},g=async(x,b)=>{const v=x.target.files?.[0];if(v){if(!v.type.startsWith("image/")){alert("File harus berupa gambar");return}l(b);try{const j=await ae.upload("/admin/upload",v,"general"),N=j.url||j.path||"";N&&d(b,"image",N)}catch{alert("Gagal mengupload gambar")}finally{l(null)}}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Extracurricular Items *"}),a.jsxs("button",{type:"button",onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Ekstrakurikuler"})]})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada extracurricular item. Klik "Tambah Ekstrakurikuler" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.map((x,b)=>{const v=n.has(x.id);return a.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx(ts,{className:"text-gray-400",size:20}),x.image&&a.jsx("img",{src:oe(x.image),alt:"Preview",className:"h-10 w-10 object-cover rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:x.title||`Ekstrakurikuler ${b+1}`})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>p(b,"up"),disabled:b===0,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>p(b,"down"),disabled:b===e.length-1,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(x.id),className:"px-3 py-1 text-sm text-primary-600 hover:text-primary-700",children:v?"Sembunyikan":"Edit"}),a.jsx("button",{type:"button",onClick:()=>u(x.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(Ae,{size:18})})]})]}),v&&a.jsxs("div",{className:"p-4 space-y-4 bg-white",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar *"}),x.image?a.jsxs("div",{className:"relative mb-2",children:[a.jsx("img",{src:oe(x.image),alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>d(x.id,"image",""),className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full",children:a.jsx(Ae,{size:18})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:j=>g(j,x.id),disabled:s===x.id,className:"hidden",id:`extracurricular-image-${x.id}`}),a.jsx("label",{htmlFor:`extracurricular-image-${x.id}`,className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${s===x.id?"opacity-50 cursor-not-allowed":""}`,children:s===x.id?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin mr-2",size:18}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18,className:"mr-2"}),"Upload Gambar"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),a.jsx("input",{type:"text",value:x.title,onChange:j=>d(x.id,"title",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Coding"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),a.jsx("textarea",{value:x.description,onChange:j=>d(x.id,"description",j.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Deskripsi ekstrakurikuler..."})]})]})]},x.id)})})]})}function Qq({value:e,onChange:t}){const[n,r]=S.useState(new Set),[s,l]=S.useState(null),c=(k=0)=>{const T={id:`org-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:"",position:"",positionEn:"",image:"",parentId:null,level:k,order:e.filter(C=>C.level===k).length};t([...e,T]),r(new Set([...n,T.id]))},u=k=>{if(e.find(C=>C.id===k)){const A=e.filter(z=>z.parentId===k).map(z=>z.id),M=[k,...A];t(e.filter(z=>!M.includes(z.id)));const D=new Set(n);M.forEach(z=>D.delete(z)),r(D)}},d=(k,T,C)=>{t(e.map(A=>A.id===k?{...A,[T]:C}:A))},m=k=>{const T=new Set(n);T.has(k)?T.delete(k):T.add(k),r(T)},p=(k,T)=>{const C=e[k],A=e.map((X,R)=>({item:X,idx:R})).filter(({item:X})=>X.level===C.level&&X.parentId===C.parentId).sort((X,R)=>X.item.order-R.item.order),M=A.findIndex(({idx:X})=>X===k);if(M===-1||T==="up"&&M===0||T==="down"&&M===A.length-1)return;const D=T==="up"?M-1:M+1,z=A[D].item,L=C.order,K=e.map(X=>X.id===C.id?{...X,order:z.order}:X.id===z.id?{...X,order:L}:X);t(K)},g=async(k,T)=>{const C=k.target.files?.[0];if(C){if(!C.type.startsWith("image/")){alert("File harus berupa gambar");return}if(C.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}l(T);try{const A=await ae.upload("/admin/upload",C,"page-sections"),M=A.url||A.path||"";M&&d(T,"image",M)}catch{alert("Gagal mengupload gambar")}finally{l(null)}}},x=(k,T)=>{if(!e.find(D=>D.id===k))return;if(T){let D=T;for(;D;){if(D===k){alert("Tidak dapat membuat referensi circular");return}D=e.find(L=>L.id===D)?.parentId||null}}const A=T?e.find(D=>D.id===T):null,M=A?A.level+1:0;d(k,"parentId",T),d(k,"level",M)},b=e.reduce((k,T)=>{const C=`${T.level}-${T.parentId||"root"}`;return k[C]||(k[C]=[]),k[C].push(T),k},{});Object.keys(b).forEach(k=>{b[k].sort((T,C)=>T.order-C.order)});const v=k=>k.name&&k.position?`${k.name} - ${k.position}`:k.name?k.name:k.position?k.position:"Item Baru",j=(k,T)=>{const C=n.has(k.id),A=e.filter(D=>D.parentId===k.id),M=e.filter(D=>D.id!==k.id&&D.level<k.level);return a.jsxs("div",{className:"border border-gray-300 rounded-lg bg-white shadow-sm mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-gray-50 rounded-t-lg",children:[a.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",title:"Drag to reorder",children:a.jsx(ts,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:v(k)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Level ",k.level]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[T>0&&a.jsx("button",{type:"button",onClick:()=>p(e.indexOf(k),"up"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move up",children:a.jsx(Zt,{size:18})}),T<e.length-1&&a.jsx("button",{type:"button",onClick:()=>p(e.indexOf(k),"down"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move down",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(k.id),className:"px-3 py-1 text-sm text-primary-600 hover:text-primary-700",children:C?"Sembunyikan":"Edit"}),a.jsx("button",{type:"button",onClick:()=>u(k.id),className:"p-1 text-red-500 hover:text-red-700",title:"Hapus",children:a.jsx(Ae,{size:18})})]})]}),C&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama *"}),a.jsx("input",{type:"text",value:k.name,onChange:D=>d(k.id,"name",D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Apriyanto Nugroho, S.Pd."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jabatan (ID) *"}),a.jsx("input",{type:"text",value:k.position,onChange:D=>d(k.id,"position",D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Principal Of SMAIA 28"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jabatan (EN)"}),a.jsx("input",{type:"text",value:k.positionEn||"",onChange:D=>d(k.id,"positionEn",D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Principal Of SMAIA 28"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Foto Profil"}),k.image?a.jsxs("div",{className:"relative mb-2 inline-block",children:[a.jsx("img",{src:oe(k.image),alt:k.name||"Profile",className:"h-24 w-24 object-cover rounded-full border-2 border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>d(k.id,"image",""),className:"absolute top-0 right-0 bg-red-600 text-white p-1 rounded-full",children:a.jsx(Ae,{size:14})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:D=>g(D,k.id),disabled:s===k.id,className:"hidden",id:`org-image-${k.id}`}),a.jsx("label",{htmlFor:`org-image-${k.id}`,className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${s===k.id?"opacity-50 cursor-not-allowed":""}`,children:s===k.id?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin mr-2",size:18}),"Mengupload..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18,className:"mr-2"}),k.image?"Ganti Foto":"Upload Foto"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Atasan (Parent)"}),a.jsx(Sr,{value:k.parentId||"",onChange:D=>x(k.id,D||null),options:[{value:"",label:"Tidak ada (Top Level)"},...M.map(D=>({value:D.id,label:`${v(D)} (Level ${D.level})`}))],placeholder:"Pilih atasan...",isSearchable:!0})]}),A.length>0&&a.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-gray-300",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Anak Bawahan:"}),a.jsx("ul",{className:"space-y-1",children:A.map(D=>a.jsxs("li",{className:"text-sm text-gray-600",children:[" ",v(D)]},D.id))})]})]})]},k.id)},N=(k=null,T=0)=>e.filter(A=>A.parentId===k).sort((A,M)=>A.order-M.order).flatMap(A=>[j(A,e.indexOf(A)),...N(A.id,T+1)]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Struktur Organisasi *"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{type:"button",onClick:()=>c(0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Level Atas"})]})})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada item struktur organisasi. Klik "Tambah Level Atas" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:N()}),e.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[a.jsx("strong",{children:"Tips:"}),' Untuk menambahkan anak bawahan, edit item yang ingin dijadikan atasan, lalu pilih item tersebut sebagai "Atasan" untuk item baru.']})})]})}function Xq({value:e,onChange:t}){const[n,r]=S.useState(new Set),[s,l]=S.useState(null),c=()=>{const j={id:`achievement-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,title:"Congratulations & Barakallahu Fiikum",titleEn:"Congratulations & Barakallahu Fiikum",subtitle:"SMA Islam Al Azhar 28 IIBS",description:"",descriptionEn:"",competitionName:"",competitionNameEn:"",students:[],backgroundType:"gradient",order:e.length};t([...e,j]),r(new Set([...n,j.id]))},u=j=>{t(e.filter(k=>k.id!==j));const N=new Set(n);N.delete(j),r(N)},d=(j,N,k)=>{t(e.map(T=>T.id===j?{...T,[N]:k}:T))},m=j=>{const N=new Set(n);N.has(j)?N.delete(j):N.add(j),r(N)},p=(j,N)=>{if(N==="up"&&j===0||N==="down"&&j===e.length-1)return;const k=[...e],T=N==="up"?j-1:j+1;[k[j],k[T]]=[k[T],k[j]],k.forEach((C,A)=>{C.order=A}),t(k)},g=j=>{const N={id:`student-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:"",image:"",position:""},k=e.find(T=>T.id===j);k&&d(j,"students",[...k.students,N])},x=(j,N)=>{const k=e.find(T=>T.id===j);k&&d(j,"students",k.students.filter(T=>T.id!==N))},b=(j,N,k,T)=>{const C=e.find(A=>A.id===j);C&&d(j,"students",C.students.map(A=>A.id===N?{...A,[k]:T}:A))},v=async(j,N,k,T="student")=>{const C=j.target.files?.[0];if(C){if(!C.type.startsWith("image/")){alert("File harus berupa gambar");return}if(C.size>5*1024*1024){alert("Ukuran file maksimal 5MB");return}l({itemId:N,studentId:k,type:T});try{const A=await ae.upload("/admin/upload",C,"page-sections"),M=A.url||A.path||"";M&&(T==="logo"?k==="left"?d(N,"leftLogo",M):k==="right"&&d(N,"rightLogo",M):k&&b(N,k,"image",M))}catch{alert("Gagal mengupload gambar")}finally{l(null)}}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Achievement Items *"}),a.jsxs("button",{type:"button",onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Achievement"})]})]}),e.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500 mb-4",children:'Belum ada achievement item. Klik "Tambah Achievement" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.map((j,N)=>{const k=n.has(j.id);return a.jsxs("div",{className:"border border-gray-300 rounded-lg bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-gray-50 rounded-t-lg",children:[a.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",title:"Drag to reorder",children:a.jsx(ts,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:j.title||`Achievement ${N+1}`}),a.jsxs("p",{className:"text-xs text-gray-500",children:[j.competitionName||"No competition name","  ",j.students.length," siswa"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[N>0&&a.jsx("button",{type:"button",onClick:()=>p(N,"up"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move up",children:a.jsx(Zt,{size:18})}),N<e.length-1&&a.jsx("button",{type:"button",onClick:()=>p(N,"down"),className:"p-1 text-gray-400 hover:text-gray-600",title:"Move down",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(j.id),className:"px-3 py-1 text-sm text-primary-600 hover:text-primary-700",children:k?"Sembunyikan":"Edit"}),a.jsx("button",{type:"button",onClick:()=>u(j.id),className:"p-1 text-red-500 hover:text-red-700",title:"Hapus",children:a.jsx(Ae,{size:18})})]})]}),k&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (ID) *"}),a.jsx("input",{type:"text",value:j.title,onChange:T=>d(j.id,"title",T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Congratulations & Barakallahu Fiikum"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{type:"text",value:j.titleEn||"",onChange:T=>d(j.id,"titleEn",T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Congratulations & Barakallahu Fiikum"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle (ID)"}),a.jsx("input",{type:"text",value:j.subtitle||"",onChange:T=>d(j.id,"subtitle",T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"SMA Islam Al Azhar 28 IIBS"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Name (ID)"}),a.jsx("input",{type:"text",value:j.competitionName||"",onChange:T=>d(j.id,"competitionName",T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Arabic National Olympiad 6 2023"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Competition Name (EN)"}),a.jsx("input",{type:"text",value:j.competitionNameEn||"",onChange:T=>d(j.id,"competitionNameEn",T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Arabic National Olympiad 6 2023"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (ID) *"}),a.jsx("textarea",{value:j.description,onChange:T=>d(j.id,"description",T.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"In recognition of your effort resulting in..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (EN)"}),a.jsx("textarea",{value:j.descriptionEn||"",onChange:T=>d(j.id,"descriptionEn",T.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"In recognition of your effort resulting in..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Type"}),a.jsx(Sr,{value:j.backgroundType||"gradient",onChange:T=>d(j.id,"backgroundType",T),options:[{value:"gradient",label:"Gradient (Blue-Green)"},{value:"gold",label:"Gold"},{value:"blue",label:"Blue"}],placeholder:"Pilih background type...",isSearchable:!1})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Left Logo"}),j.leftLogo?a.jsxs("div",{className:"relative mb-2 inline-block",children:[a.jsx("img",{src:oe(j.leftLogo),alt:"Left Logo",className:"h-16 w-auto object-contain border border-gray-300 rounded"}),a.jsx("button",{type:"button",onClick:()=>d(j.id,"leftLogo",""),className:"absolute top-0 right-0 bg-red-600 text-white p-1 rounded-full",children:a.jsx(Ae,{size:14})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:T=>v(T,j.id,"left","logo"),disabled:s?.itemId===j.id&&s?.studentId==="left",className:"hidden",id:`logo-left-${j.id}`}),a.jsx("label",{htmlFor:`logo-left-${j.id}`,className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${s?.itemId===j.id&&s?.studentId==="left"?"opacity-50 cursor-not-allowed":""}`,children:s?.itemId===j.id&&s?.studentId==="left"?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin mr-2",size:18}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18,className:"mr-2"}),j.leftLogo?"Ganti Logo":"Upload Left Logo"]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Right Logo"}),j.rightLogo?a.jsxs("div",{className:"relative mb-2 inline-block",children:[a.jsx("img",{src:oe(j.rightLogo),alt:"Right Logo",className:"h-16 w-auto object-contain border border-gray-300 rounded"}),a.jsx("button",{type:"button",onClick:()=>d(j.id,"rightLogo",""),className:"absolute top-0 right-0 bg-red-600 text-white p-1 rounded-full",children:a.jsx(Ae,{size:14})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:T=>v(T,j.id,"right","logo"),disabled:s?.itemId===j.id&&s?.studentId==="right",className:"hidden",id:`logo-right-${j.id}`}),a.jsx("label",{htmlFor:`logo-right-${j.id}`,className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${s?.itemId===j.id&&s?.studentId==="right"?"opacity-50 cursor-not-allowed":""}`,children:s?.itemId===j.id&&s?.studentId==="right"?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin mr-2",size:18}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{size:18,className:"mr-2"}),j.rightLogo?"Ganti Logo":"Upload Right Logo"]})})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Students *"}),a.jsxs("button",{type:"button",onClick:()=>g(j.id),className:"flex items-center space-x-2 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[a.jsx(wt,{size:16}),a.jsx("span",{children:"Tambah Siswa"})]})]}),j.students.length===0?a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:a.jsx("p",{className:"text-gray-500 text-sm",children:'Belum ada siswa. Klik "Tambah Siswa" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:j.students.map(T=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nama Siswa"}),a.jsx("input",{type:"text",value:T.name,onChange:C=>b(j.id,T.id,"name",C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nama Siswa"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Posisi (opsional)"}),a.jsx("input",{type:"text",value:T.position||"",onChange:C=>b(j.id,T.id,"position",C.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"1st Winner, 2nd Winner, etc"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Foto Siswa"}),T.image?a.jsxs("div",{className:"relative mb-1",children:[a.jsx("img",{src:oe(T.image),alt:T.name||"Student",className:"h-12 w-12 object-cover rounded-full border-2 border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>b(j.id,T.id,"image",""),className:"absolute -top-1 -right-1 bg-red-600 text-white p-0.5 rounded-full",children:a.jsx(Ae,{size:12})})]}):null,a.jsx("input",{type:"file",accept:"image/*",onChange:C=>v(C,j.id,T.id,"student"),disabled:s?.itemId===j.id&&s?.studentId===T.id,className:"hidden",id:`student-image-${T.id}`}),a.jsxs("label",{htmlFor:`student-image-${T.id}`,className:`cursor-pointer inline-flex items-center px-2 py-1 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 ${s?.itemId===j.id&&s?.studentId===T.id?"opacity-50 cursor-not-allowed":""}`,children:[s?.itemId===j.id&&s?.studentId===T.id?a.jsx(Ge,{className:"animate-spin",size:14}):a.jsx(lt,{size:14,className:"mr-1"}),T.image?"Ganti":"Upload"]})]})]}),a.jsx("button",{type:"button",onClick:()=>x(j.id,T.id),className:"mt-2 text-xs text-red-600 hover:text-red-700",children:"Hapus Siswa"})]},T.id))})]})]})]},j.id)})})]})}function eG({value:e,onChange:t}){const[n,r]=S.useState(new Set(e.map(g=>g.id))),s=()=>{const g={id:`curriculum-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,mataPelajaran:"",jpTM:0,jpProyek:null,order:e.length};t([...e,g]),r(new Set([...n,g.id]))},l=g=>{t(e.filter(b=>b.id!==g));const x=new Set(n);x.delete(g),r(x)},c=(g,x,b)=>{t(e.map(v=>v.id===g?{...v,[x]:b}:v))},u=g=>{const x=new Set(n);x.has(g)?x.delete(g):x.add(g),r(x)},d=(g,x)=>{if(x==="up"&&g===0||x==="down"&&g===e.length-1)return;const b=[...e],v=x==="up"?g-1:g+1;[b[g],b[v]]=[b[v],b[g]],b.forEach((j,N)=>{j.order=N}),t(b)},m=e.reduce((g,x)=>g+(x.jpTM||0),0),p=e.reduce((g,x)=>g+(x.jpProyek||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data Tabel Kurikulum *"}),a.jsxs("button",{type:"button",onClick:s,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Mata Pelajaran"})]})]}),e.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:a.jsx("p",{children:'Belum ada mata pelajaran. Klik "Tambah Mata Pelajaran" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.sort((g,x)=>g.order-x.order).map((g,x)=>a.jsxs("div",{className:"border border-gray-300 rounded-lg bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-300",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx(ts,{className:"text-gray-400 cursor-move",size:20}),a.jsxs("span",{className:"font-medium text-gray-700",children:[x+1,". ",g.mataPelajaran||"Mata Pelajaran Baru"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>d(x,"up"),disabled:x===0,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Pindah ke atas",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>d(x,"down"),disabled:x===e.length-1,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Pindah ke bawah",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u(g.id),className:"p-1 text-gray-600 hover:text-gray-900",title:n.has(g.id)?"Tutup":"Buka",children:n.has(g.id)?a.jsx(Zt,{size:18}):a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>l(g.id),className:"p-1 text-red-600 hover:text-red-800",title:"Hapus",children:a.jsx(Ae,{size:18})})]})]}),n.has(g.id)&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mata Pelajaran *"}),a.jsx("input",{type:"text",value:g.mataPelajaran,onChange:b=>c(g.id,"mataPelajaran",b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Contoh: Pend. Agama Islam & Budi Pekerti"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"JP TM (Jam Pelajaran Tatap Muka) *"}),a.jsx("input",{type:"number",min:"0",step:"0.5",value:g.jpTM,onChange:b=>c(g.id,"jpTM",parseFloat(b.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"JP Proyek (Jam Pelajaran Proyek)"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",min:"0",step:"0.5",value:g.jpProyek??"",onChange:b=>{const v=b.target.value;c(g.id,"jpProyek",v===""?null:parseFloat(v)||0)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Kosongkan jika tidak ada"}),a.jsx("button",{type:"button",onClick:()=>c(g.id,"jpProyek",null),className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50",title:"Hapus nilai",children:a.jsx(Ae,{size:16})})]})]})]})]})]},g.id))}),e.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total JP TM:"}),a.jsx("span",{className:"ml-2 text-lg font-bold text-blue-700",children:m})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total JP Proyek:"}),a.jsx("span",{className:"ml-2 text-lg font-bold text-blue-700",children:p})]})]})})]})}function tG({value:e,onChange:t}){const[n,r]=S.useState(new Set(e.map(m=>m.id))),s=()=>{const m={id:`calendar-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,bulan:"",kegiatan:"",keterangan:"",tanggalMulai:"",tanggalSelesai:"",order:e.length};t([...e,m]),r(new Set([...n,m.id]))},l=m=>{t(e.filter(g=>g.id!==m));const p=new Set(n);p.delete(m),r(p)},c=(m,p,g)=>{t(e.map(x=>x.id===m?{...x,[p]:g}:x))},u=m=>{const p=new Set(n);p.has(m)?p.delete(m):p.add(m),r(p)},d=(m,p)=>{if(p==="up"&&m===0||p==="down"&&m===e.length-1)return;const g=[...e],x=p==="up"?m-1:m+1;[g[m],g[x]]=[g[x],g[m]],g.forEach((b,v)=>{b.order=v}),t(g)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data Kalender Pendidikan *"}),a.jsxs("button",{type:"button",onClick:s,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Kegiatan"})]})]}),e.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:a.jsx("p",{children:'Belum ada kegiatan. Klik "Tambah Kegiatan" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.sort((m,p)=>m.order-p.order).map((m,p)=>a.jsxs("div",{className:"border border-gray-300 rounded-lg bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-300",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx(ts,{className:"text-gray-400 cursor-move",size:20}),a.jsxs("span",{className:"font-medium text-gray-700",children:[p+1,". ",m.bulan||"Bulan Baru"," - ",m.kegiatan||"Kegiatan Baru"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>d(p,"up"),disabled:p===0,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Pindah ke atas",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>d(p,"down"),disabled:p===e.length-1,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Pindah ke bawah",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u(m.id),className:"p-1 text-gray-600 hover:text-gray-900",title:n.has(m.id)?"Tutup":"Buka",children:n.has(m.id)?a.jsx(Zt,{size:18}):a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>l(m.id),className:"p-1 text-red-600 hover:text-red-800",title:"Hapus",children:a.jsx(Ae,{size:18})})]})]}),n.has(m.id)&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulan/Periode *"}),a.jsx("input",{type:"text",value:m.bulan,onChange:g=>c(m.id,"bulan",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Contoh: Juli 2024"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kegiatan *"}),a.jsx("input",{type:"text",value:m.kegiatan,onChange:g=>c(m.id,"kegiatan",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Contoh: Masa Orientasi Siswa Baru"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),a.jsx("textarea",{value:m.keterangan||"",onChange:g=>c(m.id,"keterangan",g.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Keterangan tambahan (opsional)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai"}),a.jsx("input",{type:"date",value:m.tanggalMulai||"",onChange:g=>c(m.id,"tanggalMulai",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Selesai"}),a.jsx("input",{type:"date",value:m.tanggalSelesai||"",onChange:g=>c(m.id,"tanggalSelesai",g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]})]},m.id))})]})}function nG({value:e,onChange:t}){const[n,r]=S.useState(new Set(e.map(b=>b.id))),[s,l]=S.useState(null),c=()=>{const b={id:`document-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,nama:"",fileUrl:"",fileName:"",order:e.length};t([...e,b]),r(new Set([...n,b.id]))},u=b=>{t(e.filter(j=>j.id!==b));const v=new Set(n);v.delete(b),r(v)},d=(b,v,j)=>{console.log("updateItem called:",{id:b,field:v,fieldValue:j}),console.log("Current value before update:",e);const N=e.map(T=>{if(T.id===b){const C={...T,[v]:j};return console.log("Item updated:",{from:T,to:C}),C}return T});console.log("Updated items array:",N),t(N);const k=N.find(T=>T.id===b);console.log("Verification after updateItem:",k)},m=b=>{const v=new Set(n);v.has(b)?v.delete(b):v.add(b),r(v)},p=(b,v)=>{if(v==="up"&&b===0||v==="down"&&b===e.length-1)return;const j=[...e],N=v==="up"?b-1:b+1;[j[b],j[N]]=[j[N],j[b]],j.forEach((k,T)=>{k.order=T}),t(j)},g=async(b,v)=>{const j=v.target.files?.[0];if(j){v.target.value="",console.log("=== FILE UPLOAD START ==="),console.log("Item ID:",b),console.log("File name:",j.name),console.log("File size:",j.size),console.log("File type:",j.type),console.log("Current value before upload:",e),l({itemId:b});try{const N=await ae.upload("/admin/upload",j,"documents",!0,!1,!0);console.log("Upload response (full):",JSON.stringify(N,null,2));const k=N.url||N.path||N.fileUrl||N.location||"";if(console.log("Extracted fileUrl:",k),console.log("Response keys:",Object.keys(N)),!k||k.trim()===""){console.error("fileUrl is empty after upload!"),console.error("Full response data:",N),alert(`Upload berhasil tapi fileUrl tidak ditemukan dalam response. Silakan hubungi administrator.

Response: `+JSON.stringify(N));return}console.log("Updating item with fileUrl:",k),console.log("Updating item with fileName:",j.name);const T=e.map(C=>{if(C.id===b){const A={...C,fileUrl:k,fileName:j.name};return console.log("Item before update:",C),console.log("Item after update:",A),A}return C});console.log("Updated items array:",T),t(T),setTimeout(()=>{const C=T.find(A=>A.id===b);console.log("Verification - Updated item:",C),!C||!C.fileUrl||C.fileUrl.trim()===""?console.error("VERIFICATION FAILED: fileUrl masih kosong setelah update!"):console.log("VERIFICATION SUCCESS: fileUrl berhasil diupdate:",C.fileUrl)},100)}catch(N){console.error("Upload error:",N),alert(N.message||"Gagal mengupload file")}finally{l(null)}}},x=b=>b&&b.split(".").pop()?.toUpperCase()||"";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data Dokumen *"}),a.jsxs("button",{type:"button",onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[a.jsx(wt,{size:18}),a.jsx("span",{children:"Tambah Dokumen"})]})]}),e.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:a.jsx("p",{children:'Belum ada dokumen. Klik "Tambah Dokumen" untuk menambahkan.'})}):a.jsx("div",{className:"space-y-3",children:e.sort((b,v)=>b.order-v.order).map((b,v)=>a.jsxs("div",{className:"border border-gray-300 rounded-lg bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border-b border-gray-300",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsx(ts,{className:"text-gray-400 cursor-move",size:20}),b.fileUrl?a.jsx(La,{className:"text-blue-600",size:20}):a.jsx(La,{className:"text-gray-400",size:20}),a.jsxs("span",{className:"font-medium text-gray-700",children:[v+1,". ",b.nama||"Dokumen Baru",b.fileUrl&&a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",x(b.fileName),")"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>p(v,"up"),disabled:v===0,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Pindah ke atas",children:a.jsx(Zt,{size:18})}),a.jsx("button",{type:"button",onClick:()=>p(v,"down"),disabled:v===e.length-1,className:"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",title:"Pindah ke bawah",children:a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>m(b.id),className:"p-1 text-gray-600 hover:text-gray-900",title:n.has(b.id)?"Tutup":"Buka",children:n.has(b.id)?a.jsx(Zt,{size:18}):a.jsx(It,{size:18})}),a.jsx("button",{type:"button",onClick:()=>u(b.id),className:"p-1 text-red-600 hover:text-red-800",title:"Hapus",children:a.jsx(Ae,{size:18})})]})]}),n.has(b.id)&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Dokumen *"}),a.jsx("input",{type:"text",value:b.nama,onChange:j=>d(b.id,"nama",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Contoh: LRA TAHAP 1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Dokumen *"}),b.fileUrl?a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx(La,{className:"text-green-600",size:24}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:b.fileName||"File terupload"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[x(b.fileName)," file"]})]}),a.jsxs("a",{href:oe(b.fileUrl),target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(rf,{size:16}),a.jsx("span",{children:"Lihat"})]}),a.jsx("button",{type:"button",onClick:()=>{d(b.id,"fileUrl",""),d(b.id,"fileName","")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Hapus"})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx",onChange:j=>g(b.id,j),disabled:s?.itemId===b.id,className:"hidden",id:`document-upload-${b.id}`}),a.jsx("label",{htmlFor:`document-upload-${b.id}`,className:`cursor-pointer flex flex-col items-center justify-center ${s?.itemId===b.id?"opacity-50 cursor-not-allowed":""}`,children:s?.itemId===b.id?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload file"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX (maksimal 10MB)"})]})})]}),a.jsx("input",{type:"hidden",value:b.fileUrl})]})]})]},b.id))})]})}const rG=en({type:Bc(["motto","video-profile","admission","feature","split-screen","masjid-al-fatih","university-map","global-stage","news-section","faq","accreditation","navigation-grid","program-cards","facility-gallery","extracurricular-detail","organization-structure","student-achievements","curriculum-table","academic-calendar","bos-report","contact","maps"]),title:re().optional(),titleEn:re().optional(),subtitle:re().optional(),subtitleEn:re().optional(),content:re().optional(),contentEn:re().optional(),image:re().optional(),images:On(re()).optional(),imageLeft:re().optional(),imageRight:re().optional(),videoUrl:re().optional(),buttonText:re().optional(),buttonTextEn:re().optional(),buttonUrl:re().refine(e=>!e||e.startsWith("/")||e.startsWith("http://")||e.startsWith("https://"),{message:"URL harus dimulai dengan / untuk path relatif atau http:///https:// untuk URL lengkap"}).optional().or($c("")),badgeImage:re().optional(),accreditationNumber:re().optional(),accreditationBody:re().optional(),navigationItems:On(en({id:re(),label:re(),url:re(),icon:re().optional()})).optional(),programItems:On(en({id:re(),icon:re(),title:re(),description:re(),url:re().optional()})).optional(),facilityItems:On(en({id:re(),image:re(),caption:re().optional(),url:re().optional()})).optional(),extracurricularItems:On(en({id:re(),image:re(),title:re(),description:re()})).optional(),organizationItems:On(en({id:re(),name:re(),position:re(),positionEn:re().optional(),image:re().optional(),parentId:re().nullable().optional(),level:vn(),order:vn()})).optional(),achievementItems:On(en({id:re(),title:re(),titleEn:re().optional(),subtitle:re().optional(),description:re(),descriptionEn:re().optional(),competitionName:re().optional(),competitionNameEn:re().optional(),students:On(en({id:re(),name:re(),image:re().optional(),position:re().optional()})),backgroundType:Bc(["gradient","gold","blue"]).optional(),leftLogo:re().optional(),rightLogo:re().optional(),order:vn()})).optional(),faqItems:On(en({id:re(),question:re(),questionEn:re().optional(),answer:re(),answerEn:re().optional(),order:vn()})).optional(),curriculumItems:On(en({id:re(),mataPelajaran:re(),jpTM:vn(),jpProyek:vn().nullable().optional(),order:vn()})).optional(),calendarItems:On(en({id:re(),bulan:re(),kegiatan:re(),keterangan:re().optional(),tanggalMulai:re().optional(),tanggalSelesai:re().optional(),order:vn()})).optional(),documentItems:On(en({id:re(),nama:re(),fileUrl:re(),fileName:re().optional(),order:vn()})).optional(),address:re().optional(),addressEn:re().optional(),email:re().email().optional().or($c("")).nullable(),phone:re().optional(),mapEmbedUrl:re().optional(),order:vn().int().min(0).default(0),isActive:D0([au(),vn()]).transform(e=>typeof e=="number"?e===1:e===!0).default(!0)});function sG({pageId:e,section:t,onSuccess:n,onCancel:r}){const[s,l]=S.useState(!1),[c,u]=S.useState(""),[d,m]=S.useState(!1),[p,g]=S.useState(t?.image?oe(t.image):null),[x,b]=S.useState(t?.images||[]),v=ge=>{if(!ge)return console.log("parseItems: items is null/undefined"),[];if(Array.isArray(ge))return console.log("parseItems: items is already array:",ge),ge;try{const He=JSON.parse(ge);return console.log("parseItems: parsed JSON:",He),Array.isArray(He)?He:[]}catch(He){return console.error("parseItems: JSON parse error:",He,"Items:",ge),[]}},[j,N]=S.useState(v(t?.faqItems)),[k,T]=S.useState(v(t?.navigationItems)),[C,A]=S.useState(v(t?.programItems)),[M,D]=S.useState(v(t?.facilityItems)),[z,L]=S.useState(v(t?.extracurricularItems)),[K,X]=S.useState(v(t?.organizationItems)),[R,_]=S.useState(v(t?.achievementItems)),[U,P]=S.useState(v(t?.curriculumItems)),[G,B]=S.useState(v(t?.calendarItems)),[Y,V]=S.useState(()=>{const ge=v(t?.documentItems);return console.log("=== LOADING DOCUMENT ITEMS ==="),console.log("Raw section.documentItems:",t?.documentItems),console.log("Parsed documentItems:",ge),ge.forEach((He,gt)=>{console.log(`Document Item ${gt}:`,{id:He.id,nama:He.nama,fileUrl:He.fileUrl,fileName:He.fileName,order:He.order})}),ge}),[ve,he]=S.useState(t?.badgeImage?oe(t.badgeImage):null),{register:I,handleSubmit:q,setValue:ee,watch:fe,trigger:we,formState:{errors:pe}}=Vr({resolver:Vi(rG),mode:"onChange",defaultValues:t?{type:t.type,title:t.title||void 0,titleEn:t.titleEn||void 0,subtitle:t.subtitle||void 0,subtitleEn:t.subtitleEn||void 0,content:t.content||void 0,contentEn:t.contentEn||void 0,image:t.image||void 0,images:t.images||void 0,videoUrl:t.videoUrl||void 0,buttonText:t.buttonText||void 0,buttonTextEn:t.buttonTextEn||void 0,buttonUrl:t.buttonUrl||void 0,faqItems:v(t.faqItems),badgeImage:t?.badgeImage||void 0,accreditationNumber:t?.accreditationNumber||void 0,accreditationBody:t?.accreditationBody||void 0,navigationItems:v(t?.navigationItems),programItems:v(t?.programItems),facilityItems:v(t?.facilityItems),extracurricularItems:v(t?.extracurricularItems),organizationItems:v(t?.organizationItems),achievementItems:v(t?.achievementItems),curriculumItems:v(t?.curriculumItems),calendarItems:v(t?.calendarItems),documentItems:v(t?.documentItems),address:t?.address||void 0,addressEn:t?.addressEn||void 0,email:t?.email||void 0,phone:t?.phone||void 0,mapEmbedUrl:t?.mapEmbedUrl||void 0,order:t.order??0,isActive:typeof t.isActive=="number"?t.isActive===1:t.isActive??!0}:{type:"feature",order:0,isActive:!0,images:void 0,title:void 0,titleEn:void 0,subtitle:void 0,subtitleEn:void 0,content:void 0,contentEn:void 0,image:void 0,videoUrl:void 0,buttonText:void 0,buttonTextEn:void 0,buttonUrl:void 0,faqItems:void 0}}),te=fe("type"),$e=fe("images"),me=async ge=>{const He=ge.target.files?.[0];if(He){if(!He.type.startsWith("image/")){u("File harus berupa gambar");return}if(He.size>5*1024*1024){u("Ukuran file maksimal 5MB");return}m(!0),u("");try{const gt=await ae.upload("/admin/upload",He,"page-sections"),kn=gt.url||gt.path||"";if(!kn)throw new Error("Upload gagal: URL tidak ditemukan dalam response");ee("image",kn,{shouldValidate:!0}),g(oe(kn))}catch(gt){console.error("Upload error:",gt),u(gt.message||"Gagal mengupload gambar")}finally{m(!1)}}},_e=async ge=>{const He=ge.target.files;if(!(!He||He.length===0)){m(!0),u("");try{const gt=[];for(let F=0;F<He.length;F++){const J=He[F];if(J.type.startsWith("image/")&&!(J.size>5*1024*1024))try{const ie=await ae.upload("/admin/upload",J,"page-sections"),Ne=ie.url||ie.path||"";Ne&&gt.push(Ne)}catch(ie){console.error("Error uploading file:",ie)}}const Yn=[...$e||[],...gt];ee("images",Yn,{shouldValidate:!0}),b(Yn)}catch(gt){u(gt.message||"Gagal mengupload gambar")}finally{m(!1)}}},Ke=async ge=>{const He=ge.target.files?.[0];if(He){if(!He.type.startsWith("image/")){alert("File harus berupa gambar");return}m(!0);try{const gt=await ae.upload("/admin/upload",He,"general"),kn=gt.url||gt.path||"";kn&&(ee("badgeImage",kn),he(oe(kn)))}catch{alert("Gagal mengupload gambar")}finally{m(!1)}}},ot=()=>{ee("image",""),g(null)},mr=ge=>{const gt=($e||[]).filter((kn,Yn)=>Yn!==ge);ee("images",gt,{shouldValidate:!0}),b(gt)},mn=async ge=>{l(!0),u("");try{const He=Array.isArray(ge.images)?ge.images:$e||[],gt={pageId:e,type:ge.type,title:ge.title||null,titleEn:ge.titleEn||null,subtitle:ge.subtitle||null,subtitleEn:ge.subtitleEn||null,content:ge.content||null,contentEn:ge.contentEn||null,image:ge.image||null,images:He.length>0?He:null,videoUrl:ge.videoUrl||null,buttonText:ge.buttonText||null,buttonTextEn:ge.buttonTextEn||null,buttonUrl:ge.buttonUrl||null,badgeImage:ge.badgeImage||null,accreditationNumber:ge.accreditationNumber||null,accreditationBody:ge.accreditationBody||null,navigationItems:te==="navigation-grid"&&k.length>0?JSON.stringify(k):null,programItems:te==="program-cards"&&C.length>0?JSON.stringify(C):null,facilityItems:te==="facility-gallery"&&M.length>0?JSON.stringify(M):null,extracurricularItems:te==="extracurricular-detail"&&z.length>0?JSON.stringify(z):null,organizationItems:te==="organization-structure"&&K.length>0?JSON.stringify(K):null,achievementItems:te==="student-achievements"&&R.length>0?JSON.stringify(R):null,curriculumItems:te==="curriculum-table"&&U.length>0?JSON.stringify(U):null,calendarItems:te==="academic-calendar"&&G.length>0?JSON.stringify(G):null,documentItems:te==="bos-report"&&Y.length>0?(()=>{console.log("=== SAVING DOCUMENT ITEMS ==="),console.log("documentItems before filter:",Y);const kn=Y.filter(F=>{const J=F.fileUrl&&F.fileUrl.trim()!=="";return J||console.warn("Skipping item without fileUrl:",F),J});if(console.log("documentItems after filter (with fileUrl):",kn),kn.length===0)return console.warn("WARNING: Tidak ada documentItems yang valid (semua tidak punya fileUrl)!"),console.warn("Semua items:",Y),null;const Yn=JSON.stringify(kn);return console.log("documentItems JSON string:",Yn),Yn})():null,address:te==="contact"&&ge.address||null,addressEn:te==="contact"&&ge.addressEn||null,email:te==="contact"&&ge.email||null,phone:te==="contact"&&ge.phone||null,mapEmbedUrl:(te==="contact"||te==="maps")&&ge.mapEmbedUrl||null,faqItems:te==="faq"&&j.length>0?JSON.stringify(j):null,order:ge.order||0,isActive:ge.isActive!==void 0?!!ge.isActive:!0};console.log("=== FORM SUBMIT ==="),console.log("Section type:",te),console.log("Form data to send:",gt),t?(console.log("Updating section:",t.id),await ae.put(`/admin/page-sections/${t.id}`,gt)):(console.log("Creating new section"),await ae.post(`/admin/pages/${e}/sections/create`,gt)),console.log("Section saved successfully!"),n&&n()}catch(He){console.error("Submit error:",He),u(He.message||"Terjadi kesalahan saat menyimpan")}finally{l(!1)}};return a.jsxs("form",{onSubmit:q(mn,ge=>{console.error("Form validation errors:",ge),u("Mohon lengkapi semua field yang wajib diisi")}),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[c&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),Object.keys(pe).length>0&&a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded",children:[a.jsx("p",{className:"font-semibold mb-2",children:"Terdapat kesalahan pada form:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(pe).map(([ge,He])=>a.jsx("li",{children:He?.message||`${ge}: ${JSON.stringify(He)}`},ge))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipe Section *"}),a.jsx(Sr,{name:"type",value:te,onChange:ge=>{ee("type",ge,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0}),we("type")},options:[{value:"motto",label:"Motto"},{value:"video-profile",label:"Video Profile"},{value:"admission",label:"Admission (Penerimaan)"},{value:"split-screen",label:"Split Screen (Yellow Background)"},{value:"masjid-al-fatih",label:"Masjid AL FATIH"},{value:"university-map",label:"University Map (Peta Universitas)"},{value:"global-stage",label:"Global Stage (International Program)"},{value:"feature",label:"Feature"},{value:"news-section",label:"News Section (Berita)"},{value:"faq",label:"FAQ Section"},{value:"accreditation",label:"Accreditation (Akreditasi)"},{value:"navigation-grid",label:"Navigation Grid (Grid Navigasi)"},{value:"program-cards",label:"Program Cards (Kartu Program)"},{value:"facility-gallery",label:"Facility Gallery (Galeri Fasilitas)"},{value:"extracurricular-detail",label:"Extracurricular Detail (Detail Ekstrakurikuler)"},{value:"organization-structure",label:"Organization Structure (Struktur Organisasi)"},{value:"student-achievements",label:"Student Achievements (Prestasi Siswa)"},{value:"curriculum-table",label:"Curriculum Table (Tabel Kurikulum)"},{value:"academic-calendar",label:"Academic Calendar (Kalender Pendidikan)"},{value:"bos-report",label:"BOS Report (Laporan Realisasi BOS)"},{value:"contact",label:"Contact (Kontak)"},{value:"maps",label:"Maps (Peta)"}],placeholder:"Pilih tipe section...",isSearchable:!0,error:pe.type?.message}),a.jsx("input",{...I("type"),type:"hidden"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title (ID) ",te==="masjid-al-fatih"&&"*"]}),a.jsx("input",{...I("title"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:te==="masjid-al-fatih"?"Masjid AL FATIH":""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (EN)"}),a.jsx("input",{...I("titleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:te==="masjid-al-fatih"?"Al-Fatih Mosque":""})]})]}),te!=="university-map"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subtitle / Quote (ID) ",te==="masjid-al-fatih"&&"*"]}),a.jsx("input",{...I("subtitle"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle / Quote (EN)"}),a.jsx("input",{...I("subtitleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(te==="curriculum-table"||te==="academic-calendar"||te==="bos-report"||te==="contact")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi (ID)"}),a.jsx(bs,{value:fe("content")||"",onChange:ge=>ee("content",ge,{shouldValidate:!0}),placeholder:te==="curriculum-table"?"Masukkan deskripsi kurikulum...":te==="academic-calendar"?"Masukkan deskripsi kalender pendidikan...":te==="bos-report"?"Masukkan deskripsi laporan realisasi BOS...":"Masukkan deskripsi kontak..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi (EN)"}),a.jsx(bs,{value:fe("contentEn")||"",onChange:ge=>ee("contentEn",ge,{shouldValidate:!0}),placeholder:te==="curriculum-table"?"Enter curriculum description...":te==="academic-calendar"?"Enter academic calendar description...":te==="bos-report"?"Enter BOS realization report description...":"Enter contact description..."})]})]}),(te==="admission"||te==="feature"||te==="split-screen"||te==="masjid-al-fatih"||te==="news-section"||te==="global-stage")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content / Deskripsi (ID) ",te==="masjid-al-fatih"&&"*"]}),a.jsx("textarea",{...I("content"),rows:te==="masjid-al-fatih"?8:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content / Deskripsi (EN)"}),a.jsx("textarea",{...I("contentEn"),rows:te==="masjid-al-fatih"?8:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),te==="faq"&&a.jsx(rT,{value:j,onChange:ge=>{N(ge),ee("faqItems",ge,{shouldValidate:!0})}}),te==="accreditation"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Badge Image *"}),ve?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:ve,alt:"Badge Preview",className:"h-32 w-32 object-contain border border-gray-300 rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>{ee("badgeImage",""),he(null)},className:"absolute top-0 right-0 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:Ke,disabled:d,className:"hidden",id:"badge-image-upload"}),a.jsx("label",{htmlFor:"badge-image-upload",className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload badge"})]})})]}),a.jsx("input",{...I("badgeImage"),type:"hidden"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accreditation Number (Opsional)"}),a.jsx("input",{...I("accreditationNumber"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"267/BAN-PDM/SK/2024"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accreditation Body (Opsional)"}),a.jsx("input",{...I("accreditationBody"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"BAN-PDM"})]})]}),te==="navigation-grid"&&a.jsx(Zq,{value:k,onChange:ge=>{T(ge),ee("navigationItems",ge,{shouldValidate:!0})}}),te==="program-cards"&&a.jsx(Jq,{value:C,onChange:ge=>{A(ge),ee("programItems",ge,{shouldValidate:!0})}}),te==="facility-gallery"&&a.jsx(Wq,{value:M,onChange:ge=>{D(ge),ee("facilityItems",ge,{shouldValidate:!0})}}),te==="organization-structure"&&a.jsx(Qq,{value:K,onChange:ge=>{X(ge),ee("organizationItems",ge,{shouldValidate:!0})}}),te==="student-achievements"&&a.jsx(Xq,{value:R,onChange:ge=>{_(ge),ee("achievementItems",ge,{shouldValidate:!0})}}),te==="curriculum-table"&&a.jsx(eG,{value:U,onChange:ge=>{P(ge),ee("curriculumItems",ge,{shouldValidate:!0})}}),te==="academic-calendar"&&a.jsx(tG,{value:G,onChange:ge=>{B(ge),ee("calendarItems",ge,{shouldValidate:!0})}}),te==="bos-report"&&a.jsx(nG,{value:Y,onChange:ge=>{V(ge),ee("documentItems",ge,{shouldValidate:!0})}}),te==="contact"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alamat (ID) *"}),a.jsx("textarea",{...I("address"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Jl. Raya Solo  Tawangmangu, Salam, Karangpandan, Karanganyar"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alamat (EN)"}),a.jsx("textarea",{...I("addressEn"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Jl. Raya Solo  Tawangmangu, Salam, Karangpandan, Karanganyar"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),a.jsx("input",{...I("email"),type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"aaiibs@alazhariibs.sch.id"}),pe.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:pe.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call Center / Phone *"}),a.jsx("input",{...I("phone"),type:"tel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0811 2020 101"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps Embed URL / Iframe *"}),a.jsx("textarea",{...I("mapEmbedUrl"),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm",placeholder:'Paste iframe code atau embed URL dari Google Maps. Contoh: <iframe src="https://www.google.com/maps/embed?pb=..." width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Cara mendapatkan embed URL: Buka Google Maps  Cari lokasi  Klik "Bagikan"  Pilih "Sematkan peta"  Salin URL iframe src atau paste seluruh iframe code'})]})]}),te==="extracurricular-detail"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Left (Gambar Siswa di Kiri) *"}),p?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:ot,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:me,disabled:d,className:"hidden",id:"extracurricular-image-left-upload"}),a.jsx("label",{htmlFor:"extracurricular-image-left-upload",className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar"})]})})]}),a.jsx("input",{...I("imageLeft"),type:"hidden"})]}),a.jsx(Yq,{value:z,onChange:ge=>{L(ge),ee("extracurricularItems",ge,{shouldValidate:!0})}})]}),te==="video-profile"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL"}),a.jsx("input",{...I("videoUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://youtube.com/watch?v=..."})]}),(te==="motto"||te==="video-profile"||te==="admission"||te==="split-screen"||te==="masjid-al-fatih"||te==="university-map"||te==="global-stage"||te==="news-section"||te==="faq"||te==="accreditation")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Utama"}),p?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:p,alt:"Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:ot,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:me,disabled:d,className:"hidden",id:"image-upload"}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]}),a.jsx("input",{...I("image"),type:"hidden"})]}),te==="admission"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gambar Collage (Multiple)"}),x.length>0&&a.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:x.map((ge,He)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:oe(ge),alt:`Preview ${He+1}`,className:"h-32 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>mr(He),className:"absolute top-1 right-1 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:14})})]},He))}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:_e,disabled:d,className:"hidden",id:"images-upload"}),a.jsx("label",{htmlFor:"images-upload",className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload multiple gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB per gambar"})]})})]}),a.jsx("input",{type:"hidden",...I("images",{value:$e||[]})})]}),te!=="university-map"&&te!=="masjid-al-fatih"&&te!=="news-section"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (ID)"}),a.jsx("input",{...I("buttonText"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Daftar Sekarang"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text (EN)"}),a.jsx("input",{...I("buttonTextEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Register Now"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button URL"}),a.jsx("input",{...I("buttonUrl"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"/pendaftaran atau https://example.com"}),pe.buttonUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:pe.buttonUrl.message})]})]}),te==="maps"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps Embed URL / Iframe *"}),a.jsx("textarea",{...I("mapEmbedUrl"),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono text-sm",placeholder:'Paste iframe code atau embed URL dari Google Maps. Contoh: <iframe src="https://www.google.com/maps/embed?pb=..." width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Paste seluruh iframe code atau hanya URL src dari Google Maps embed"}),pe.mapEmbedUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:pe.mapEmbedUrl.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),a.jsx("input",{...I("order",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center pt-8",children:[a.jsx("input",{...I("isActive"),type:"checkbox",id:"isActive",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Aktif"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[r&&a.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Batal"}),a.jsxs("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s&&a.jsx(Ge,{size:18,className:"animate-spin"}),a.jsx("span",{children:s?"Menyimpan...":"Simpan"})]})]})]})}function aG(){const{pageId:e}=ys(),{flashMessage:t,showSuccess:n}=Wn(),[r,s]=S.useState(null),[l,c]=S.useState([]),[u,d]=S.useState(!0),[m,p]=S.useState(null),[g,x]=S.useState(!1);S.useEffect(()=>{b()},[e]);async function b(){try{const[v,j]=await Promise.all([ae.get(`/admin/pages/${e}`),ae.get(`/admin/pages/${e}/sections`).catch(()=>[])]);s(v),c(Array.isArray(j)?j:[])}catch(v){console.error("Error loading data:",v)}finally{d(!1)}}return u?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):g||m?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("button",{onClick:()=>{x(!1),p(null)},className:"text-gray-600 hover:text-gray-900",children:a.jsx(ql,{size:20})}),a.jsxs("h1",{className:"text-3xl font-bold",children:[m?"Edit Section":"Tambah Section"," - ",r?.title]})]}),a.jsx(sG,{pageId:e,section:m,onSuccess:()=>{n(m?"Section berhasil diperbarui!":"Section berhasil ditambahkan!"),x(!1),p(null),b()},onCancel:()=>{x(!1),p(null)}})]})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.show&&a.jsx(Ja,{message:t.message,type:t.type,onClose:()=>{}}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Me,{to:"/admin/pages",className:"text-gray-600 hover:text-gray-900",children:a.jsx(ql,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold",children:["Sections - ",r?.title]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Kelola sections untuk halaman ini"})]})]}),a.jsxs("button",{onClick:()=>x(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Section"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TYPE"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TITLE"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ORDER"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"STATUS"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AKSI"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:'Tidak ada section ditemukan. Klik "Tambah Section" untuk menambahkan.'})}):l.map(v=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:v.type})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:v.title||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:v.order})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.isActive?"Aktif":"Tidak Aktif"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(vS,{id:v.id,apiEndpoint:"/admin/page-sections",isActive:v.isActive,onToggled:b}),a.jsx("button",{onClick:()=>p(v),className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:v.id,apiEndpoint:"/admin/page-sections",confirmMessage:"Yakin ingin menghapus section ini?",onDeleted:b})]})})]},v.id))})]})})]})})})}function iG(){const{flashMessage:e}=Wn(),[t,n]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{l()},[]);async function l(){try{const c=await ae.get("/admin/posts");n(Array.isArray(c)?c:[])}catch(c){console.error("Error loading posts:",c)}finally{s(!1)}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.show&&a.jsx(Ja,{message:e.message,type:e.type,onClose:()=>{}}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Berita"}),a.jsxs(Me,{to:"/admin/posts/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Post Baru"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Judul"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Penulis"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tanggal"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Tidak ada post ditemukan"})}):t.map(c=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.title}),c.tags&&Array.isArray(c.tags)&&c.tags.length>0&&a.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[c.tags.slice(0,3).map((u,d)=>a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:u},d)),c.tags.length>3&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",c.tags.length-3]})]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:c.category||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:c.authorName||"Admin"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.isPublished?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.isPublished?"Published":"Draft"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(c.createdAt).toLocaleDateString("id-ID")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("a",{href:`/berita/${c.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",children:a.jsx(m0,{size:18})}),a.jsx(Me,{to:`/admin/posts/${c.id}`,className:"text-primary-600 hover:text-primary-900",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:c.id,apiEndpoint:"/admin/posts",confirmMessage:"Yakin ingin menghapus post ini?",onDeleted:l})]})})]},c.id))})]})})]})})})}function JT({post:e,categories:t=[]}){const n=_t(),{showSuccess:r}=Wn(),[s,l]=S.useState(!1),[c,u]=S.useState(""),[d,m]=S.useState(!1),[p,g]=S.useState(e?.featuredImage?oe(e.featuredImage):null),[x,b]=S.useState(e?.tags?e.tags.join(", "):""),{register:v,handleSubmit:j,watch:N,setValue:k,formState:{errors:T}}=Vr({defaultValues:e?{title:e.title,titleEn:e.titleEn||"",slug:e.slug,content:e.content,contentEn:e.contentEn||"",excerpt:e.excerpt||"",excerptEn:e.excerptEn||"",featuredImage:e.featuredImage||"",category:e.category||"",categoryId:e.categoryId||"",postType:e.postType||"post",seoTitle:e.seoTitle||"",seoDescription:e.seoDescription||"",seoKeywords:e.seoKeywords||"",isPublished:e.isPublished}:{postType:"post",isPublished:!1}}),C=N("content"),A=N("contentEn"),M=N("title");S.useEffect(()=>{if(!e&&M){const K=x0(M);k("slug",K,{shouldValidate:!0})}},[M,e,k]);const D=async K=>{const X=K.target.files?.[0];if(X){if(!X.type.startsWith("image/")){u("File harus berupa gambar");return}if(X.size>5*1024*1024){u("Ukuran file maksimal 5MB");return}m(!0),u("");try{const R=await ae.upload("/admin/upload",X,"general"),_=R.url||R.path||"";if(!_)throw new Error("Upload gagal: URL tidak ditemukan dalam response");k("featuredImage",_,{shouldValidate:!0}),g(oe(_))}catch(R){u(R instanceof Error?R.message:"Gagal mengupload gambar")}finally{m(!1)}}},z=()=>{k("featuredImage","",{shouldValidate:!0}),g(null)},L=async K=>{l(!0),u("");try{const X=x.split(",").map(_=>_.trim()).filter(_=>_.length>0),R={...K,categoryId:K.categoryId||null,category:K.categoryId&&t.find(_=>_.id===K.categoryId)?.name||null,featuredImage:K.featuredImage||null,tags:X,seoTitle:K.seoTitle||null,seoDescription:K.seoDescription||null,seoKeywords:K.seoKeywords||null};e?(await ae.put(`/admin/posts/${e.id}`,R),r("Post berhasil diperbarui!",3e3,!0)):(await ae.post("/admin/posts/create",R),r("Post berhasil ditambahkan!",3e3,!0)),n("/admin/posts")}catch(X){u(X instanceof Error?X.message:"Terjadi kesalahan saat menyimpan")}finally{l(!1)}};return a.jsxs("form",{onSubmit:j(L),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[c&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul (ID) *"}),a.jsx("input",{...v("title",{required:"Judul wajib diisi"}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Masukkan judul berita"}),T.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul (EN)"}),a.jsx("input",{...v("titleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter post title (EN)"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug *"}),a.jsx("input",{...v("slug",{required:"Slug wajib diisi"}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",readOnly:!!e}),T.slug&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.slug.message}),!e&&a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Slug akan otomatis dibuat dari judul"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),a.jsx(Sr,{name:"categoryId",value:N("categoryId")||"",onChange:K=>k("categoryId",K||void 0),options:[{value:"",label:"Pilih Kategori"},...t.map(K=>({value:K.id,label:K.name}))],placeholder:"Pilih kategori...",isSearchable:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),p?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:p,alt:"Preview",className:"h-64 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:z,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:D,disabled:d,className:"hidden",id:"post-image-upload"}),a.jsx("label",{htmlFor:"post-image-upload",className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-500 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload gambar"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 5MB"})]})})]}),a.jsx("input",{...v("featuredImage"),type:"hidden"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt (ID) - Ringkasan"}),a.jsx("textarea",{...v("excerpt"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ringkasan singkat artikel (akan muncul di preview)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt (EN) - Summary"}),a.jsx("textarea",{...v("excerptEn"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Brief summary of the article (will appear in preview)"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tags ",a.jsx("span",{className:"text-gray-500 text-xs",children:"(pisahkan dengan koma)"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(AO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",value:x,onChange:K=>b(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"contoh: berita, sekolah, pendidikan"})]}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Contoh: berita, sekolah, pendidikan, akademik"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konten (ID) *"}),a.jsx(bs,{value:C||"",onChange:K=>{k("content",K,{shouldValidate:!0})},placeholder:"Masukkan konten artikel..."}),T.content&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:T.content.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konten (EN)"}),a.jsx(bs,{value:A||"",onChange:K=>{k("contentEn",K)},placeholder:"Enter article content (EN)..."})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"SEO Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Title"}),a.jsx("input",{...v("seoTitle"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Judul untuk SEO (jika kosong akan menggunakan judul artikel)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Description"}),a.jsx("textarea",{...v("seoDescription"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Deskripsi untuk SEO (jika kosong akan menggunakan excerpt)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Keywords"}),a.jsx("input",{...v("seoKeywords"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"keyword1, keyword2, keyword3"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...v("isPublished"),type:"checkbox",id:"isPublished",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPublished",className:"ml-2 block text-sm text-gray-700",children:"Published (Tampilkan di halaman publik)"})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>n("/admin/posts"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Batal"}),a.jsx("button",{type:"submit",disabled:s||d,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Menyimpan...":"Simpan"})]})]})}function lG(){const e=_t(),[t,n]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{l()},[]);async function l(){try{const c=await ae.get("/admin/categories"),u=[];Array.isArray(c)&&c.forEach(d=>{u.push(d),d.children&&Array.isArray(d.children)&&u.push(...d.children)}),n(u)}catch(c){console.error("Error loading categories:",c)}finally{s(!1)}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ge,{className:"animate-spin h-12 w-12 text-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>e("/admin/posts"),className:"text-primary-600 hover:text-primary-700 mb-4",children:" Kembali ke Daftar Berita"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Tambah Berita Baru"})]}),a.jsx(JT,{categories:t})]})})})}function oG(){const{id:e}=ys(),t=_t(),[n,r]=S.useState(null),[s,l]=S.useState([]),[c,u]=S.useState(!0);S.useEffect(()=>{e&&d()},[e]);async function d(){try{const[m,p]=await Promise.all([ae.get(`/admin/posts/${e}`),ae.get("/admin/categories")]),g=[];Array.isArray(p)&&p.forEach(x=>{g.push(x),x.children&&Array.isArray(x.children)&&g.push(...x.children)}),r(m),l(g)}catch(m){console.error("Error loading data:",m)}finally{u(!1)}}return c?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ge,{className:"animate-spin h-12 w-12 text-primary-600"})})}):n?a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>t("/admin/posts"),className:"text-primary-600 hover:text-primary-700 mb-4",children:" Kembali ke Daftar Berita"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Edit Berita"})]}),a.jsx(JT,{post:n,categories:s})]})})}):a.jsx(Oe,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500",children:"Post tidak ditemukan"}),a.jsx("button",{onClick:()=>t("/admin/posts"),className:"mt-4 text-primary-600 hover:text-primary-700",children:" Kembali ke Daftar Berita"})]})})}function cG(){const[e,t]=S.useState([]),[n,r]=S.useState(!0),[s,l]=S.useState(null);S.useEffect(()=>{c()},[]);async function c(){try{const m=await ae.get("/admin/contacts");t(Array.isArray(m)?m:[])}catch(m){console.error("Error loading contacts:",m)}finally{r(!1)}}async function u(m){try{await ae.put(`/admin/contacts/${m}/read`,{}),await c(),s&&s.id===m&&l({...s,isRead:!0})}catch(p){console.error("Error marking as read:",p),alert("Gagal menandai sebagai sudah dibaca")}}const d=m=>new Date(m).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsxs(Oe,{children:[a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Pesan Kontak"}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",e.length," pesan",e.filter(m=>!m.isRead).length>0&&a.jsxs("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-800 rounded-full",children:[e.filter(m=>!m.isRead).length," belum dibaca"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telepon"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjek"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tanggal"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Tidak ada pesan kontak ditemukan"})}):e.map(m=>a.jsxs("tr",{className:m.isRead?"hover:bg-gray-50":"bg-blue-50 hover:bg-blue-100",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.isRead?a.jsx(gc,{size:20,className:"text-green-600"}):a.jsx(fx,{size:20,className:"text-red-600"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:m.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:m.phone||"-"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:m.subject||"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d(m.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>l(m),className:"text-blue-600 hover:text-blue-900",title:"Lihat Detail",children:a.jsx(Y6,{size:18})}),!m.isRead&&a.jsx("button",{onClick:()=>u(m.id),className:"text-green-600 hover:text-green-900",title:"Tandai Sudah Dibaca",children:a.jsx(gc,{size:18})}),a.jsx($n,{id:m.id,apiEndpoint:"/admin/contacts",confirmMessage:"Yakin ingin menghapus pesan kontak ini?",onDeleted:c})]})})]},m.id))})]})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Detail Pesan Kontak"}),a.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ae,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsxs("p",{className:"text-sm text-gray-900 flex items-center",children:[a.jsx(vm,{size:16,className:"mr-2"}),a.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600 hover:underline",children:s.email})]})]}),s.phone&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telepon"}),a.jsxs("p",{className:"text-sm text-gray-900 flex items-center",children:[a.jsx(p0,{size:16,className:"mr-2"}),a.jsx("a",{href:`tel:${s.phone}`,className:"text-blue-600 hover:underline",children:s.phone})]})]}),s.subject&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subjek"}),a.jsx("p",{className:"text-sm text-gray-900",children:s.subject})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal"}),a.jsxs("p",{className:"text-sm text-gray-900 flex items-center",children:[a.jsx(Rc,{size:16,className:"mr-2"}),d(s.createdAt)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsx("p",{className:"text-sm",children:s.isRead?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(gc,{size:14,className:"mr-1"}),"Sudah Dibaca"]}):a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(fx,{size:14,className:"mr-1"}),"Belum Dibaca"]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pesan"}),a.jsx("div",{className:"mt-1 p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:s.message})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[!s.isRead&&a.jsxs("button",{onClick:()=>{u(s.id),l({...s,isRead:!0})},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[a.jsx(gc,{size:18}),a.jsx("span",{children:"Tandai Sudah Dibaca"})]}),a.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Tutup"})]})]})]})})]})}function uG(){const{flashMessage:e}=Wn(),[t,n]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{l()},[]);async function l(){try{const u=await ae.get("/admin/menus"),d=Array.isArray(u)?u.filter(m=>!m.parentId):[];n(d)}catch(u){console.error("Error loading menus:",u)}finally{s(!1)}}async function c(u,d){try{await ae.put(`/admin/menus/${u}/update`,{isActive:!d}),await l()}catch(m){console.error("Error toggling menu status:",m),alert("Gagal mengubah status menu")}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.show&&a.jsx(Ja,{message:e.message,type:e.type,onClose:()=>{}}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Menu"}),a.jsxs(Me,{to:"/admin/menus/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Menu"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?a.jsx("div",{className:"p-12 text-center text-gray-500",children:a.jsx("p",{children:"Belum ada menu. Tambah menu baru untuk memulai."})}):t.map(u=>a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:u.title}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${u.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:u.isActive?"Aktif":"Nonaktif"})]}),u.titleEn&&a.jsx("p",{className:"text-sm text-gray-600",children:u.titleEn}),a.jsxs("p",{className:"text-sm text-gray-500",children:["/",u.slug]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:u.isActive===1||u.isActive===!0,onChange:()=>c(u.id,u.isActive===1||u.isActive===!0),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]}),a.jsx(Me,{to:`/admin/menus/${u.id}`,className:"text-primary-600 hover:text-primary-700",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:u.id,apiEndpoint:"/admin/menus",confirmMessage:"Yakin ingin menghapus menu ini?",onDeleted:l})]})]}),u.children&&u.children.length>0&&a.jsx("div",{className:"mt-4 ml-6 space-y-2",children:u.children.map(d=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium",children:d.title}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${d.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:d.isActive?"Aktif":"Nonaktif"})]}),d.titleEn&&a.jsx("p",{className:"text-sm text-gray-600",children:d.titleEn}),a.jsxs("p",{className:"text-sm text-gray-500",children:["/",d.slug]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.isActive===1||d.isActive===!0,onChange:()=>c(d.id,d.isActive===1||d.isActive===!0),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]}),a.jsx(Me,{to:`/admin/menus/${d.id}`,className:"text-primary-600 hover:text-primary-700",children:a.jsx(Gn,{size:16})}),a.jsx($n,{id:d.id,apiEndpoint:"/admin/menus",confirmMessage:"Yakin ingin menghapus menu ini?",onDeleted:l})]})]}),d.children&&d.children.length>0&&a.jsx("div",{className:"mt-2 ml-6 space-y-2",children:d.children.map(m=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100 rounded",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-sm",children:m.title}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${m.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:m.isActive?"Aktif":"Nonaktif"})]}),m.titleEn&&a.jsx("p",{className:"text-xs text-gray-600",children:m.titleEn}),a.jsxs("p",{className:"text-xs text-gray-500",children:["/",m.slug]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:m.isActive===1||m.isActive===!0,onChange:()=>c(m.id,m.isActive===1||m.isActive===!0),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]}),a.jsx(Me,{to:`/admin/menus/${m.id}`,className:"text-primary-600 hover:text-primary-700",children:a.jsx(Gn,{size:14})}),a.jsx($n,{id:m.id,apiEndpoint:"/admin/menus",confirmMessage:"Yakin ingin menghapus menu ini?",onDeleted:l})]})]},m.id))})]},d.id))})]},u.id))})})]})})})}function WT({menu:e,allMenus:t=[]}){const n=_t(),{showSuccess:r}=Wn(),[s,l]=S.useState(!1),[c,u]=S.useState(""),{register:d,handleSubmit:m,watch:p,setValue:g,formState:{errors:x}}=Vr({defaultValues:e?{title:e.title,titleEn:e.titleEn||"",slug:e.slug,parentId:e.parentId||"",menuType:e.menuType||"page",externalUrl:e.externalUrl||"",icon:e.icon||"",description:e.description||"",descriptionEn:e.descriptionEn||"",order:e.order||0,isActive:e.isActive!==void 0?e.isActive:!0}:{menuType:"page",order:0,isActive:!0}}),b=p("title"),v=p("menuType"),j=p("parentId");S.useEffect(()=>{if(!e&&b){const T=x0(b);g("slug",T,{shouldValidate:!0})}},[b,e,g]);const N=()=>{if(!e)return t.filter(A=>!A.parentId).map(A=>({value:A.id,label:A.title}));const T=[e.id],C=A=>{const M=t.filter(z=>z.parentId===A),D=M.map(z=>z.id);return M.forEach(z=>{D.push(...C(z.id))}),D};return T.push(...C(e.id)),t.filter(A=>!A.parentId&&!T.includes(A.id)).map(A=>({value:A.id,label:A.title}))},k=async T=>{l(!0),u("");try{const C={title:T.title,titleEn:T.titleEn||null,slug:T.slug||"#",parentId:T.parentId||null,menuType:T.menuType||"page",externalUrl:T.externalUrl||null,icon:T.icon||null,description:T.description||null,descriptionEn:T.descriptionEn||null,order:parseInt(T.order)||0,isActive:T.isActive!==void 0?T.isActive:!0};e?(await ae.put(`/admin/menus/${e.id}/update`,C),r("Menu berhasil diperbarui!",3e3,!0)):(await ae.post("/admin/menus/create",C),r("Menu berhasil ditambahkan!",3e3,!0)),n("/admin/menus")}catch(C){u(C.message||"Terjadi kesalahan saat menyimpan menu")}finally{l(!1)}};return a.jsxs("form",{onSubmit:m(k),className:"space-y-6",children:[c&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Judul Menu (Indonesia) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...d("title",{required:"Judul menu wajib diisi"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Contoh: Beranda"}),x.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Judul Menu (English)"}),a.jsx("input",{type:"text",...d("titleEn"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Example: Home"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Slug ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...d("slug",{required:"Slug wajib diisi"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"contoh-slug"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Gunakan "#" untuk menu tanpa halaman (parent menu saja)'}),x.slug&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.slug.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parent Menu"}),a.jsx(Sr,{name:"parentId",value:j||"",onChange:T=>g("parentId",T||void 0),options:[{value:"",label:"Tidak ada parent (Menu Utama)"},...N()],placeholder:"Pilih parent menu...",isSearchable:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipe Menu ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...d("menuType",{required:"Tipe menu wajib dipilih"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"page",children:"Halaman"}),a.jsx("option",{value:"external",children:"Link Eksternal"}),a.jsx("option",{value:"category",children:"Kategori"}),a.jsx("option",{value:"post-list",children:"Daftar Post"})]}),x.menuType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.menuType.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urutan"}),a.jsx("input",{type:"number",...d("order"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"0",min:"0"})]})]}),v==="external"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["URL Eksternal ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"url",...d("externalUrl",{required:v==="external"?"URL eksternal wajib diisi":!1}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://example.com"}),x.externalUrl&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.externalUrl.message})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon (opsional)"}),a.jsx("input",{type:"text",...d("icon"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Nama icon atau class CSS"})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",...d("isActive"),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),a.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Menu Aktif"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi (Indonesia)"}),a.jsx("textarea",{...d("description"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Deskripsi menu..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi (English)"}),a.jsx("textarea",{...d("descriptionEn"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Menu description..."})]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:()=>n("/admin/menus"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Batal"}),a.jsxs("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[s&&a.jsx(Ge,{className:"animate-spin h-4 w-4"}),a.jsx("span",{children:e?"Simpan Perubahan":"Buat Menu"})]})]})]})}function dG(){const e=ys(),t=_t(),n=e.id,[r,s]=S.useState(null),[l,c]=S.useState([]),[u,d]=S.useState(!0),[m,p]=S.useState(!1);S.useEffect(()=>{n&&g()},[n]);async function g(){try{const[x,b]=await Promise.all([ae.get(`/admin/menus/${n}`).catch(()=>null),ae.get("/admin/menus").catch(()=>[])]);if(!x){p(!0);return}s(x);const v=j=>{const N=[];return j.forEach(k=>{N.push(k),k.children&&k.children.length>0&&N.push(...v(k.children))}),N};c(v(b))}catch(x){console.error("Error loading data:",x),p(!0)}finally{d(!1)}}return u?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ge,{className:"animate-spin h-12 w-12 text-primary-600"})})}):m||!r?a.jsx(Oe,{children:a.jsx(I0,{})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>t("/admin/menus"),className:"text-primary-600 hover:text-primary-700 mb-4",children:" Kembali ke Daftar Menu"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Edit Menu"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsx(WT,{menu:r,allMenus:l})})]})})})}function fG(){const e=_t(),[t,n]=S.useState([]),[r,s]=S.useState(!0);S.useEffect(()=>{l()},[]);async function l(){try{const c=await ae.get("/admin/menus"),u=d=>{const m=[];return d.forEach(p=>{m.push(p),p.children&&p.children.length>0&&m.push(...u(p.children))}),m};n(u(c))}catch(c){console.error("Error loading menus:",c)}finally{s(!1)}}return r?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ge,{className:"animate-spin h-12 w-12 text-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:()=>e("/admin/menus"),className:"text-primary-600 hover:text-primary-700 mb-4",children:" Kembali ke Daftar Menu"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Tambah Menu Baru"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsx(WT,{allMenus:t})})]})})})}const mG={program:"Program",facility:"Fasilitas",academic:"Akademik",general:"Umum"};function hG(){const[e,t]=S.useState([]),[n,r]=S.useState(!0);S.useEffect(()=>{s()},[]);async function s(){try{const l=await ae.get("/admin/categories"),c=Array.isArray(l)?l.filter(u=>!u.parentId):[];t(c)}catch(l){console.error("Error loading categories:",l)}finally{r(!1)}}return n?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Kelola Kategori"}),a.jsxs(Me,{to:"/admin/categories/new",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center space-x-2",children:[a.jsx(wt,{size:20}),a.jsx("span",{children:"Tambah Kategori"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.length===0?a.jsx("div",{className:"p-12 text-center text-gray-500",children:a.jsx("p",{children:"Belum ada kategori. Tambah kategori baru untuk memulai."})}):a.jsx("div",{className:"divide-y divide-gray-200",children:e.map(l=>a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[l.image?a.jsx("img",{src:oe(l.image),alt:l.name,className:"h-16 w-16 object-cover rounded",onError:c=>{console.error("Failed to load image:",l.image),c.currentTarget.src="/placeholder-image.png"}}):a.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:"No Image"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:l.name}),l.nameEn&&a.jsx("p",{className:"text-sm text-gray-600",children:l.nameEn}),a.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["/",l.slug]}),a.jsx("span",{className:"text-xs px-2 py-1 bg-primary-100 text-primary-700 rounded",children:mG[l.categoryType]||l.categoryType})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Me,{to:`/admin/categories/${l.id}`,className:"text-primary-600 hover:text-primary-700",children:a.jsx(Gn,{size:18})}),a.jsx($n,{id:l.id,apiEndpoint:"/admin/categories",confirmMessage:"Yakin ingin menghapus kategori ini?",onDeleted:s})]})]}),l.children&&l.children.length>0&&a.jsx("div",{className:"mt-4 ml-6 space-y-2",children:l.children.map(c=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:c.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["/",c.slug]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Me,{to:`/admin/categories/${c.id}`,className:"text-primary-600 hover:text-primary-700",children:a.jsx(Gn,{size:16})}),a.jsx($n,{id:c.id,apiEndpoint:"/admin/categories",confirmMessage:"Yakin ingin menghapus kategori ini?",onDeleted:s})]})]},c.id))})]},l.id))})})]})})})}function pG({settings:e}){const t=_t(),[n,r]=S.useState(!1),[s,l]=S.useState(""),[c,u]=S.useState(""),[d,m]=S.useState(!1),[p,g]=S.useState(!1),[x,b]=S.useState(!1),[v,j]=S.useState(e.figures_section_background?.value?oe(e.figures_section_background.value):null),[N,k]=S.useState(e.website_logo?.value?oe(e.website_logo.value):null),[T,C]=S.useState(e.website_favicon?.value?oe(e.website_favicon.value):null),{register:A,handleSubmit:M,setValue:D}=Vr({defaultValues:{newsQuote:e.news_section_quote?.value||"Integrating Knowledge and Faith for a Brighter Tomorrow",newsQuoteEn:e.news_section_quote?.valueEn||"",newsTitle:e.news_section_title?.value||"Berita Terbaru",newsTitleEn:e.news_section_title?.valueEn||"Latest News",figuresTitle:e.figures_section_title?.value||"Tokoh-Tokoh SMA AL AZHAR INSAN CENDEKIA JATIBENING",figuresTitleEn:e.figures_section_title_en?.value||"Figures of SMA AL AZHAR INSAN CENDEKIA JATIBENING",figuresBackground:e.figures_section_background?.value||"",websiteLogo:e.website_logo?.value||"",websiteFavicon:e.website_favicon?.value||"",websiteTitle:e.website_title?.value||"",showWebsiteName:e.show_website_name?.value==="true"||!1,whatsappPhone:e.whatsapp_phone?.value||"",whatsappMessage:e.whatsapp_message?.value||`Assalamualaikum SMA AL AZHAR INSAN CENDEKIA JATIBENING
Mohon info lebih lanjut untuk pendaftaran murid baru
Terima Kasih`,footerAddress:e.footer_address?.value||"Jl. Raya Solo - Tawangmangu, Gedangan, Salam, Kec. Karangpandan, Kabupaten Karanganyar, Jawa Tengah 57791",footerPhone:e.footer_phone?.value||"0811 2020 101",footerEmail:e.footer_email?.value||"aaiibs@alazhariibs.sch.id",androidAppUrl:e.android_app_url?.value||"",iosAppUrl:e.ios_app_url?.value||"",facebookUrl:e.facebook_url?.value||"",instagramUrl:e.instagram_url?.value||"",youtubeUrl:e.youtube_url?.value||""}}),z=async G=>{const B=G.target.files?.[0];if(B){if(!B.type.startsWith("image/")){l("File harus berupa gambar");return}if(B.size>10*1024*1024){l("Ukuran file maksimal 10MB");return}m(!0),l("");try{const Y=await ae.upload("/admin/upload",B,"general"),V=Y.url||Y.path||"";if(!V)throw new Error("Upload gagal: URL tidak ditemukan dalam response");D("figuresBackground",V,{shouldValidate:!0}),j(oe(V))}catch(Y){l(Y instanceof Error?Y.message:"Gagal mengupload gambar")}finally{m(!1)}}},L=()=>{D("figuresBackground","",{shouldValidate:!0}),j(null)},K=async G=>{const B=G.target.files?.[0];if(B){if(!B.type.startsWith("image/")){l("File harus berupa gambar");return}if(B.size>10*1024*1024){l("Ukuran file maksimal 10MB");return}g(!0),l("");try{const Y=await ae.upload("/admin/upload",B,"general"),V=Y.url||Y.path||"";if(!V)throw new Error("Upload gagal: URL tidak ditemukan dalam response");D("websiteLogo",V,{shouldValidate:!0}),k(oe(V))}catch(Y){l(Y instanceof Error?Y.message:"Gagal mengupload gambar")}finally{g(!1)}}},X=async G=>{const B=G.target.files?.[0];if(B){if(!B.type.startsWith("image/")){l("File harus berupa gambar");return}if(B.size>2*1024*1024){l("Ukuran file maksimal 2MB");return}b(!0),l("");try{const Y=await ae.upload("/admin/upload",B,"general"),V=Y.url||Y.path||"";if(!V)throw new Error("Upload gagal: URL tidak ditemukan dalam response");D("websiteFavicon",V,{shouldValidate:!0}),C(oe(V))}catch(Y){l(Y instanceof Error?Y.message:"Gagal mengupload gambar")}finally{b(!1)}}},R=()=>{D("websiteLogo","",{shouldValidate:!0}),k(null)},_=()=>{D("websiteFavicon","",{shouldValidate:!0}),C(null)},U=async(G,B,Y)=>{const V=e[G];V?await ae.put(`/admin/settings/${G}`,{value:B,valueEn:Y??V.valueEn,type:V.type||"text"}):await ae.post("/admin/settings/create",{key:G,value:B,valueEn:Y||null,type:"text"})},P=async G=>{r(!0),l(""),u("");try{if(await Promise.all([U("news_section_quote",G.newsQuote,G.newsQuoteEn),U("news_section_title",G.newsTitle,G.newsTitleEn),U("figures_section_title",G.figuresTitle),U("figures_section_title_en",G.figuresTitleEn),U("figures_section_background",G.figuresBackground||""),U("website_logo",G.websiteLogo||""),U("website_favicon",G.websiteFavicon||""),U("website_title",G.websiteTitle||""),U("show_website_name",G.showWebsiteName?"true":"false"),U("whatsapp_phone",G.whatsappPhone||""),U("whatsapp_message",G.whatsappMessage||""),U("footer_address",G.footerAddress||""),U("footer_phone",G.footerPhone||""),U("footer_email",G.footerEmail||""),U("android_app_url",G.androidAppUrl||""),U("ios_app_url",G.iosAppUrl||""),U("facebook_url",G.facebookUrl||""),U("instagram_url",G.instagramUrl||""),U("youtube_url",G.youtubeUrl||"")]),u("Pengaturan berhasil disimpan!"),G.websiteFavicon){const B=oe(G.websiteFavicon),Y=document.querySelector("link[rel~='icon']");if(Y)Y.href=B;else{const V=document.createElement("link");V.rel="icon",V.href=B,document.head.appendChild(V)}}G.websiteTitle&&(document.title=G.websiteTitle),setTimeout(()=>{window.location.reload()},1500)}catch(B){l(B instanceof Error?B.message:"Terjadi kesalahan saat menyimpan")}finally{r(!1)}};return a.jsxs("form",{onSubmit:M(P),className:"bg-white rounded-lg shadow p-6 space-y-6",children:[s&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:s}),c&&a.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:c}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pengaturan Section Berita"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quote Section Berita (ID) *"}),a.jsx("input",{...A("newsQuote",{required:!0}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Integrating Knowledge and Faith for a Brighter Tomorrow"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Quote yang ditampilkan di atas section berita"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quote Section Berita (EN)"}),a.jsx("input",{...A("newsQuoteEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Section Berita (ID) *"}),a.jsx("input",{...A("newsTitle",{required:!0}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Berita Terbaru"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Section Berita (EN)"}),a.jsx("input",{...A("newsTitleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Latest News"})]})]})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pengaturan Website"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Website *"}),a.jsx("input",{...A("websiteTitle",{required:!0}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"SMA AL AZHAR INSAN CENDEKIA JATIBENING"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Title website yang akan ditampilkan di browser tab"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Website"}),N?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:N,alt:"Logo Preview",className:"h-32 w-auto object-contain rounded-lg border border-gray-300 bg-white p-2"}),a.jsx("button",{type:"button",onClick:R,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:K,disabled:p,className:"hidden",id:"logo-upload"}),a.jsx("label",{htmlFor:"logo-upload",className:`cursor-pointer flex flex-col items-center justify-center ${p?"opacity-50 cursor-not-allowed":""}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload logo"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 10MB"})]})})]}),a.jsx("input",{...A("websiteLogo"),type:"hidden"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Logo website yang akan ditampilkan di header menu"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Favicon Website"}),T?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:T,alt:"Favicon Preview",className:"h-16 w-16 object-contain rounded-lg border border-gray-300 bg-white p-2"}),a.jsx("button",{type:"button",onClick:_,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:X,disabled:x,className:"hidden",id:"favicon-upload"}),a.jsx("label",{htmlFor:"favicon-upload",className:`cursor-pointer flex flex-col items-center justify-center ${x?"opacity-50 cursor-not-allowed":""}`,children:x?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload favicon"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, ICO, SVG maksimal 2MB (disarankan 32x32 atau 16x16)"})]})})]}),a.jsx("input",{...A("websiteFavicon"),type:"hidden"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Favicon yang akan ditampilkan di browser tab"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...A("showWebsiteName"),type:"checkbox",id:"showWebsiteName",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"showWebsiteName",className:"ml-2 block text-sm text-gray-700",children:"Tampilkan Nama Website di Header Menu"})]})]})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pengaturan Section Tokoh-Tokoh"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Section Tokoh (ID) *"}),a.jsx("input",{...A("figuresTitle",{required:!0}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Tokoh-Tokoh SMA AL AZHAR INSAN CENDEKIA JATIBENING"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Section Tokoh (EN)"}),a.jsx("input",{...A("figuresTitleEn"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Figures of SMA AL AZHAR INSAN CENDEKIA JATIBENING"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Image Section Tokoh"}),v?a.jsxs("div",{className:"relative mb-4",children:[a.jsx("img",{src:v,alt:"Background Preview",className:"h-48 w-full object-cover rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:L,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:a.jsx(Ae,{size:18})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:z,disabled:d,className:"hidden",id:"figures-background-upload"}),a.jsx("label",{htmlFor:"figures-background-upload",className:`cursor-pointer flex flex-col items-center justify-center ${d?"opacity-50 cursor-not-allowed":""}`,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:32}),a.jsx("span",{className:"text-gray-600",children:"Mengupload..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(lt,{className:"text-gray-400 mb-2",size:32}),a.jsx("span",{className:"text-gray-600 mb-1",children:"Klik untuk upload background image"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF maksimal 10MB"})]})})]}),a.jsx("input",{...A("figuresBackground"),type:"hidden"})]})]})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pengaturan WhatsApp"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor WhatsApp *"}),a.jsx("input",{...A("whatsappPhone",{required:!0}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"08112020101"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Nomor WhatsApp tujuan (tanpa + atau spasi)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pesan Default WhatsApp *"}),a.jsx("textarea",{...A("whatsappMessage",{required:!0}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Pesan default yang akan ditampilkan saat user klik tombol WhatsApp"})]})]})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Pengaturan Footer"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alamat"}),a.jsx("textarea",{...A("footerAddress"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Telepon"}),a.jsx("input",{...A("footerPhone"),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{...A("footerEmail"),type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Aplikasi Android"}),a.jsx("input",{...A("androidAppUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Aplikasi iOS"}),a.jsx("input",{...A("iosAppUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Facebook"}),a.jsx("input",{...A("facebookUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Instagram"}),a.jsx("input",{...A("instagramUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL YouTube"}),a.jsx("input",{...A("youtubeUrl"),type:"url",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>t("/admin"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Batal"}),a.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n&&a.jsx(Ge,{className:"animate-spin",size:16}),a.jsx("span",{children:n?"Menyimpan...":"Simpan"})]})]})]})}function gG(){const[e,t]=S.useState(!0),[n,r]=S.useState({});S.useEffect(()=>{s()},[]),S.useEffect(()=>{n.website_title?.value?document.title=n.website_title.value:document.title="Pengaturan - CMS Sekolah"},[n]);async function s(){try{const l=await ae.get("/admin/settings",!1),c={};Array.isArray(l)&&l.forEach(u=>{c[u.key]=u}),r(c)}catch(l){console.error("Error loading settings:",l)}finally{t(!1)}}return e?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Pengaturan"}),a.jsx(pG,{settings:n})]})})})}function xG({seo:e}){const t=_t(),[n,r]=S.useState(!1),[s,l]=S.useState(""),[c,u]=S.useState(""),[d,m]=S.useState(!1),[p,g]=S.useState(e?.image?oe(e.image):null),{register:x,handleSubmit:b,setValue:v,watch:j}=Vr({defaultValues:{seoTitle:e?.title||"",seoDescription:e?.description||"",seoKeywords:e?.keywords||"",seoAuthor:e?.author||"",seoImage:e?.image||"",ogTitle:e?.ogTitle||"",ogDescription:e?.ogDescription||"",ogImage:e?.ogImage||"",ogType:e?.ogType||"website",ogSiteName:e?.ogSiteName||"",ogUrl:e?.ogUrl||"",twitterCard:e?.twitterCard||"summary_large_image",twitterSite:e?.twitterSite||"",twitterCreator:e?.twitterCreator||"",seoRobots:e?.robots||"index, follow",seoCanonical:e?.canonical||""}}),N=j("ogImage"),k=async(A,M)=>{const D=A.target.files?.[0];if(D){if(!D.type.startsWith("image/")){l("File harus berupa gambar");return}if(D.size>5*1024*1024){l("Ukuran file maksimal 5MB");return}m(!0),l("");try{const z=await ae.upload("/admin/upload",D,"general"),L=z.url||z.path||"";if(!L)throw new Error("Upload gagal: URL tidak ditemukan dalam response");v(M,L,{shouldValidate:!0}),M==="seoImage"&&g(oe(L))}catch(z){l(z instanceof Error?z.message:"Gagal mengupload gambar")}finally{m(!1)}}},T=A=>{v(A,"",{shouldValidate:!0}),A==="seoImage"&&g(null)},C=async A=>{r(!0),l(""),u("");try{const M={pageType:"global",title:A.seoTitle||null,description:A.seoDescription||null,keywords:A.seoKeywords||null,author:A.seoAuthor||null,image:A.seoImage||null,robots:A.seoRobots||"index, follow",canonical:A.seoCanonical||null,ogTitle:A.ogTitle||null,ogDescription:A.ogDescription||null,ogImage:A.ogImage||null,ogType:A.ogType||"website",ogSiteName:A.ogSiteName||null,ogUrl:A.ogUrl||null,twitterCard:A.twitterCard||"summary_large_image",twitterSite:A.twitterSite||null,twitterCreator:A.twitterCreator||null};e?.id?await ae.put(`/admin/seo/${e.id}/update`,M):await ae.post("/admin/seo/create",M),u("Pengaturan SEO berhasil disimpan!"),setTimeout(()=>{u(""),window.location.reload()},2e3)}catch(M){l(M instanceof Error?M.message:"Gagal menyimpan pengaturan SEO")}finally{r(!1)}};return a.jsxs("form",{onSubmit:b(C),className:"space-y-8",children:[s&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:s}),c&&a.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:c}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Meta Tags"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...x("seoTitle",{required:"Title wajib diisi"}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Judul website untuk SEO"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Rekomendasi: 50-60 karakter"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{...x("seoDescription",{required:"Description wajib diisi"}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Deskripsi website untuk SEO"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Rekomendasi: 150-160 karakter"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),a.jsx("input",{type:"text",...x("seoKeywords"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"keyword1, keyword2, keyword3"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pisahkan dengan koma"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author"}),a.jsx("input",{type:"text",...x("seoAuthor"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Nama author atau organisasi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Image"}),p?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:p,alt:"Preview",className:"h-32 w-auto rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>T("seoImage"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Ae,{size:16})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx("input",{type:"file",id:"seoImageUpload",accept:"image/*",onChange:A=>k(A,"seoImage"),className:"hidden",disabled:d}),a.jsxs("label",{htmlFor:"seoImageUpload",className:"cursor-pointer flex flex-col items-center",children:[d?a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:24}):a.jsx(lt,{className:"text-gray-400 mb-2",size:24}),a.jsx("span",{className:"text-sm text-gray-600",children:d?"Mengupload...":"Klik untuk upload gambar"}),a.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Rekomendasi: 1200x630px, maks 5MB"})]})]}),a.jsx("input",{type:"hidden",...x("seoImage")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Robots"}),a.jsx(Sr,{name:"seoRobots",value:j("seoRobots"),onChange:A=>v("seoRobots",A),options:[{value:"index, follow",label:"Index, Follow"},{value:"index, nofollow",label:"Index, No Follow"},{value:"noindex, follow",label:"No Index, Follow"},{value:"noindex, nofollow",label:"No Index, No Follow"}],placeholder:"Pilih robots...",isSearchable:!1})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canonical URL"}),a.jsx("input",{type:"url",...x("seoCanonical"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://example.com"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL kanonik website (opsional)"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Open Graph (Facebook, LinkedIn, dll)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OG Title"}),a.jsx("input",{type:"text",...x("ogTitle"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Kosongkan untuk menggunakan SEO Title"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Rekomendasi: 60 karakter"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OG Description"}),a.jsx("textarea",{...x("ogDescription"),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Kosongkan untuk menggunakan SEO Description"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Rekomendasi: 200 karakter"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OG Image"}),N?a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:oe(N),alt:"Preview",className:"h-32 w-auto rounded-lg border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>T("ogImage"),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Ae,{size:16})})]}):a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx("input",{type:"file",id:"ogImageUpload",accept:"image/*",onChange:A=>k(A,"ogImage"),className:"hidden",disabled:d}),a.jsxs("label",{htmlFor:"ogImageUpload",className:"cursor-pointer flex flex-col items-center",children:[d?a.jsx(Ge,{className:"animate-spin text-primary-600 mb-2",size:24}):a.jsx(lt,{className:"text-gray-400 mb-2",size:24}),a.jsx("span",{className:"text-sm text-gray-600",children:d?"Mengupload...":"Klik untuk upload gambar"}),a.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Rekomendasi: 1200x630px, maks 5MB"})]})]}),a.jsx("input",{type:"hidden",...x("ogImage")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kosongkan untuk menggunakan Default Image"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OG Type"}),a.jsx(Sr,{name:"ogType",value:j("ogType"),onChange:A=>v("ogType",A),options:[{value:"website",label:"Website"},{value:"article",label:"Article"},{value:"blog",label:"Blog"}],placeholder:"Pilih OG Type...",isSearchable:!1})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OG Site Name"}),a.jsx("input",{type:"text",...x("ogSiteName"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Nama website"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OG URL"}),a.jsx("input",{type:"url",...x("ogUrl"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://example.com"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL utama website"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Twitter Cards"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Type"}),a.jsx(Sr,{name:"twitterCard",value:j("twitterCard"),onChange:A=>v("twitterCard",A),options:[{value:"summary",label:"Summary"},{value:"summary_large_image",label:"Summary Large Image"}],placeholder:"Pilih Card Type...",isSearchable:!1})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter Site (@username)"}),a.jsx("input",{type:"text",...x("twitterSite"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"@username"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username Twitter website (tanpa @)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter Creator (@username)"}),a.jsx("input",{type:"text",...x("twitterCreator"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"@username"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Username Twitter creator (tanpa @)"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>t("/admin"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Batal"}),a.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{className:"animate-spin",size:18}),a.jsx("span",{children:"Menyimpan..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(gO,{size:18}),a.jsx("span",{children:"Simpan Pengaturan"})]})})]})]})}function bG(){const[e,t]=S.useState(!0),[n,r]=S.useState(null);S.useEffect(()=>{s()},[]),S.useEffect(()=>{document.title="SEO Settings - CMS Sekolah"},[]);async function s(){try{const l=await ae.get("/admin/seo?pageType=global",!1);r(l)}catch(l){console.error("Error loading SEO:",l),r(null)}finally{t(!1)}}return e?a.jsx(Oe,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Pengaturan SEO"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Kelola meta tags, Open Graph, dan Twitter Cards untuk meningkatkan visibilitas website di mesin pencari dan media sosial."}),a.jsx(xG,{seo:n})]})})})}function ef({title:e,description:t}){return a.jsx(Oe,{children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:e}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[a.jsx("p",{className:"text-gray-600 text-lg mb-4",children:t||"Halaman ini sedang dalam pengembangan."}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Untuk saat ini, gunakan Next.js admin panel untuk mengelola konten ini."})]})]})})})}function yG(){const[e]=ta(),t=_t(),n=e.get("locale")||"id",[r,s]=S.useState([]),[l,c]=S.useState({}),[u,d]=S.useState(!0);return iu(l),lu(null,l.website_title?.value||"404 - Halaman Tidak Ditemukan"),S.useEffect(()=>{async function m(){try{const[p,g]=await Promise.all([ae.get("/admin/menus"),ae.get("/admin/settings").then(b=>{const v={};return b.forEach(j=>{v[j.key]=j}),v})]),x=p.filter(b=>!b.parentId&&b.isActive).map(b=>({...b,titleEn:b.titleEn??void 0,children:(b.children||[]).filter(v=>v.isActive).map(v=>({...v,titleEn:v.titleEn??void 0,children:(v.children||[]).filter(j=>j.isActive).map(j=>({...j,titleEn:j.titleEn??void 0}))}))})).sort((b,v)=>b.order-v.order);s(x),c(g)}catch(p){console.error("Error loading data:",p)}finally{d(!1)}}m()},[]),S.useEffect(()=>{document.title=n==="en"?"404 - Page Not Found":"404 - Halaman Tidak Ditemukan"},[n]),u?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Memuat..."})]})}):a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Ks,{menus:r,locale:n,logo:l.website_logo?.value||null,websiteName:l.website_title?.value||null,showWebsiteName:l.show_website_name?.value==="true"}),a.jsx("main",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl w-full text-center",children:[a.jsx("div",{className:"mb-8 flex flex-col items-center",children:a.jsxs("div",{className:"relative mb-6",children:[a.jsxs("svg",{className:"w-64 h-64 md:w-80 md:h-80",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"200",cy:"120",r:"100",fill:"#F0FDF4",opacity:"0.6"}),a.jsx("circle",{cx:"200",cy:"100",r:"50",fill:"#10B981",stroke:"#059669",strokeWidth:"2"}),a.jsx("circle",{cx:"185",cy:"90",r:"6",fill:"#FFFFFF"}),a.jsx("circle",{cx:"215",cy:"90",r:"6",fill:"#FFFFFF"}),a.jsx("circle",{cx:"185",cy:"90",r:"3",fill:"#065F46"}),a.jsx("circle",{cx:"215",cy:"90",r:"3",fill:"#065F46"}),a.jsx("path",{d:"M 180 115 Q 200 125 220 115",stroke:"#065F46",strokeWidth:"3",strokeLinecap:"round",fill:"none"}),a.jsx("rect",{x:"130",y:"160",width:"140",height:"80",rx:"6",fill:"#FFFFFF",stroke:"#10B981",strokeWidth:"2",strokeDasharray:"4 4"}),a.jsx("rect",{x:"140",y:"170",width:"120",height:"60",rx:"4",fill:"#F0FDF4"}),a.jsx("circle",{cx:"80",cy:"60",r:"15",fill:"#86EFAC",opacity:"0.5"}),a.jsx("circle",{cx:"320",cy:"60",r:"12",fill:"#86EFAC",opacity:"0.5"}),a.jsx("circle",{cx:"80",cy:"240",r:"12",fill:"#86EFAC",opacity:"0.5"}),a.jsx("circle",{cx:"320",cy:"240",r:"15",fill:"#86EFAC",opacity:"0.5"})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 w-full",children:a.jsxs("div",{className:"bg-white border-2 border-primary-600 rounded-lg px-6 py-4 shadow-lg",children:[a.jsx("div",{className:"text-6xl md:text-7xl font-bold text-primary-600 mb-2",children:"404"}),a.jsx("div",{className:"text-sm md:text-base text-gray-600 font-medium",children:n==="en"?"Page Not Found":"Halaman Tidak Ditemukan"})]})})]})}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-primary-800 mb-4",children:"Oops!"}),a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-4",children:"Halaman yang Anda cari tidak ditemukan"}),a.jsxs("div",{className:"max-w-2xl mx-auto space-y-3 mb-10",children:[a.jsx("p",{className:"text-lg md:text-xl text-gray-600",children:"Maaf, halaman yang Anda cari tidak ditemukan atau telah dipindahkan."}),a.jsx("p",{className:"text-base md:text-lg text-gray-500",children:"Halaman mungkin telah dihapus, dipindahkan, atau URL yang Anda masukkan salah."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs(Me,{to:"/",className:"group inline-flex items-center justify-center bg-primary-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-primary-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl min-w-[220px] text-base",children:[a.jsx(h0,{className:"mr-2 h-5 w-5"}),"Kembali ke Beranda"]}),a.jsxs("button",{onClick:()=>{window.history.length>1?t(-1):t("/")},className:"group inline-flex items-center justify-center bg-white text-primary-600 border-2 border-primary-600 px-8 py-4 rounded-lg font-semibold hover:bg-primary-50 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg min-w-[220px] text-base",children:[a.jsx(ql,{className:"mr-2 h-5 w-5"}),"Kembali"]})]})]})}),a.jsx(Ei,{locale:n,logo:l.website_logo?.value||null,websiteName:l.website_title?.value||null,address:l.footer_address?.value||null,phone:l.footer_phone?.value||null,email:l.footer_email?.value||null,facebookUrl:l.facebook_url?.value||null,instagramUrl:l.instagram_url?.value||null,youtubeUrl:l.youtube_url?.value||null}),a.jsx(Ci,{phoneNumber:l.whatsapp_phone?.value||null,defaultMessage:l.whatsapp_message?.value||null})]})}function vG(){return a.jsx(R3,{children:a.jsxs(f3,{children:[a.jsx(Xe,{path:"/",element:a.jsx(_R,{})}),a.jsx(Xe,{path:"/berita/:slug",element:a.jsx(VR,{})}),a.jsx(Xe,{path:"/kontak",element:a.jsx(HR,{})}),a.jsx(Xe,{path:"/404",element:a.jsx(yG,{})}),a.jsx(Xe,{path:"/:slug",element:a.jsx(FR,{})}),a.jsx(Xe,{path:"/login",element:a.jsx(WR,{})}),a.jsx(Xe,{path:"/admin",element:a.jsx(tL,{})}),a.jsx(Xe,{path:"/admin/sliders",element:a.jsx(nL,{})}),a.jsx(Xe,{path:"/admin/sliders/new",element:a.jsx(fL,{})}),a.jsx(Xe,{path:"/admin/sliders/:id",element:a.jsx(mL,{})}),a.jsx(Xe,{path:"/admin/home-sections",element:a.jsx(hL,{})}),a.jsx(Xe,{path:"/admin/home-sections/new",element:a.jsx(Mq,{})}),a.jsx(Xe,{path:"/admin/home-sections/:id",element:a.jsx(Oq,{})}),a.jsx(Xe,{path:"/admin/faqs",element:a.jsx(zq,{})}),a.jsx(Xe,{path:"/admin/faqs/new",element:a.jsx(Iq,{})}),a.jsx(Xe,{path:"/admin/faqs/:id",element:a.jsx(_q,{})}),a.jsx(Xe,{path:"/admin/figures",element:a.jsx(Lq,{})}),a.jsx(Xe,{path:"/admin/partnerships",element:a.jsx(Pq,{})}),a.jsx(Xe,{path:"/admin/pages",element:a.jsx(Bq,{})}),a.jsx(Xe,{path:"/admin/pages/new",element:a.jsx(Hq,{})}),a.jsx(Xe,{path:"/admin/pages/:id",element:a.jsx(Vq,{})}),a.jsx(Xe,{path:"/admin/pages/:pageId/hero",element:a.jsx(Kq,{})}),a.jsx(Xe,{path:"/admin/pages/:pageId/sections",element:a.jsx(aG,{})}),a.jsx(Xe,{path:"/admin/posts",element:a.jsx(iG,{})}),a.jsx(Xe,{path:"/admin/posts/new",element:a.jsx(lG,{})}),a.jsx(Xe,{path:"/admin/posts/:id",element:a.jsx(oG,{})}),a.jsx(Xe,{path:"/admin/contacts",element:a.jsx(cG,{})}),a.jsx(Xe,{path:"/admin/menus",element:a.jsx(uG,{})}),a.jsx(Xe,{path:"/admin/menus/new",element:a.jsx(fG,{})}),a.jsx(Xe,{path:"/admin/menus/:id",element:a.jsx(dG,{})}),a.jsx(Xe,{path:"/admin/categories",element:a.jsx(hG,{})}),a.jsx(Xe,{path:"/admin/settings",element:a.jsx(gG,{})}),a.jsx(Xe,{path:"/admin/seo",element:a.jsx(bG,{})}),a.jsx(Xe,{path:"/admin/split-screens",element:a.jsx(Rq,{})}),a.jsx(Xe,{path:"/admin/masjid-al-fatih",element:a.jsx(ef,{title:"Masjid AL FATIH"})}),a.jsx(Xe,{path:"/admin/university-maps",element:a.jsx(ef,{title:"University Map"})}),a.jsx(Xe,{path:"/admin/global-stages",element:a.jsx(ef,{title:"Global Stage"})}),a.jsx(Xe,{path:"/admin/media",element:a.jsx(ef,{title:"Media Library"})}),a.jsx(Xe,{path:"*",element:a.jsx(I0,{})})]})})}vM.createRoot(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(vG,{})}));
